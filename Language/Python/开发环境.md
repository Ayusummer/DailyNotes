# 目录
- [目录](#目录)
- [换源操作](#换源操作)
    - [源地址](#源地址)
    - [使用方法](#使用方法)
      - [方法一：临时使用](#方法一临时使用)
      - [方法二：更改默认源](#方法二更改默认源)
      - [方法三：python代码更改安装源](#方法三python代码更改安装源)
    - [Anaconda](#anaconda)
      - [Anaconda 换源](#anaconda-换源)
      - [新建一个 conda 环境](#新建一个-conda-环境)
    - [VSCode](#vscode)
      - [VSCode 扩展安装](#vscode-扩展安装)
- [Anaconda](#anaconda-1)
  - [换源](#换源)
  - [Anaconda Navigator 升级](#anaconda-navigator-升级)
- [VSCode](#vscode-1)
  - [扩展](#扩展)
- [Pycharm相关](#pycharm相关)
  - [快捷键](#快捷键)
    - [查找替换](#查找替换)
  - [创建文档注释脚本](#创建文档注释脚本)
  - [导入自己的模块报红](#导入自己的模块报红)
  - [PEP8 代码规范检查](#pep8-代码规范检查)
- [JupyterLab](#jupyterlab)
  - [简介](#简介)
  - [使用](#使用)
  - [插件](#插件)
    - [插件推荐](#插件推荐)
      - [`@kiteco/jupyterlab-kite`](#kitecojupyterlab-kite)
  - [快捷键](#快捷键-1)
  - [- 原文链接](#--原文链接)
    - [命令模式 (按键 Esc 开启)](#命令模式-按键-esc-开启)
    - [编辑模式 ( Enter 键启动)](#编辑模式--enter-键启动)

---

# 换源操作
> [winrey/EasyConnectedInChina: 汇总apt，pip，nodejs等各种工具国内镜像源和设置镜像源的方法 (github.com)](https://github.com/winrey/EasyConnectedInChina)

```python
# 单独使用
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencc  
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencc  

# 通过文件安装依赖
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt

# 更新 pip
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip
```
- 镜像源地址
  - 阿里云   
    https://mirrors.aliyun.com/pypi/simple/
  - 中国科技大学  
    https://pypi.mirrors.ustc.edu.cn/simple/
  - 豆瓣(douban)  
    http://pypi.douban.com/simple/
  - 清华大学  
    https://pypi.tuna.tsinghua.edu.cn/simple/
  - 中国科学技术大学  
    http://pypi.mirrors.ustc.edu.cn/simple/   


> - 补充:将包装到指定路径:
>   ```Python
>   pip install -i https://pypi.tuna.tsinghua.edu.cn/simple  pygame --target=C:/Users/233/AppData/Local/Programs/Python/Python38/Lib/site-packages
>   ```



### 源地址

- 阿里云 

  https://mirrors.aliyun.com/pypi/simple/

- 中国科技大学 

  https://pypi.mirrors.ustc.edu.cn/simple/

- 豆瓣(douban) 

  http://pypi.douban.com/simple/

- 清华大学 

  https://pypi.tuna.tsinghua.edu.cn/simple/

- 中国科学技术大学 

  http://pypi.mirrors.ustc.edu.cn/simple/

---

### 使用方法
#### 方法一：临时使用

直接在pip后加-i后跟这次使用的源即可，例：

    pip install web.py -i https://mirrors.aliyun.com/pypi/simple/

指令中的网址为上方的源地址。

> 如果出现带有`trusted-host`字样的报错，这是由源不为 https 协议导致的，使用：
>
> ```bash
> pip install web.py -i http://pypi.douban.com/simple --trusted-host pypi.douban.com
> ```
>
> 添加信任主机即可。

---

#### 方法二：更改默认源

可以使用 `pip config set global.index-url xxxx` 来设置 `xxxx` 源

---

创建或修改配置文件（一般都是创建）
- linux与mac的设置的文件在 `~/.pip/pip.conf`，

- 
      vim ~/.pip/pip.conf
  
- windows在 `%HOMEPATH%\pip\pip.ini`

- 如果没有创建即可。

更改内容：

```
[global]
index-url = https://mirrors.aliyun.com/pypi/simple/
```
或

```
[global]
index-url = http://pypi.douban.com/simple
[install]
trusted-host=pypi.douban.com
```

文件中的网址为上方的源地址。
刚刚下面的内容是http协议源的实例。需要添加信任。
保存退出即可。

---

#### 方法三：python代码更改安装源
临时使用其他源安装软件包的python脚本如下：

```python
#!/usr/bin/python
 
import os
 
package = raw_input("Please input the package which you want to install!\n")
command = "pip install %s -i https://mirrors.aliyun.com/pypi/simple/" % package
# http源的代码实例如下
# command = "pip install %s -i http://pypi.mirrors.ustc.edu.cn/simple --trusted-host pypi.mirrors.ustc.edu.cn" % package
os.system(command)
```

---

# Anaconda

> 需要注意的是, 使用 Anaconda Navigator 或者 conda 环境操作时需要关掉梯子, 否则可能会报 host 错误

[安装包](https://ayusummer-my.sharepoint.com/:u:/g/personal/233_ayusummer_onmicrosoft_com/EeoLeabp6RtDnVkgJ46y_fIB9gqFsNbpyO8BqSZzQv_r3w?e=NwyQXf)

安装完成后打开 `Anaconda Navigator`:

![image-20220523093633147](http://cdn.ayusummer233.top/img/202205230936469.png)

## Anaconda 换源

> [anaconda修改国内源 - 余者皆可 - 博客园 (cnblogs.com)](https://www.cnblogs.com/yuvejxke/p/13169172.html)

- 打开 `anaconda prompt`   
  ![20220113131937](http://cdn.ayusummer233.top/img/20220113131937.png)  
  ![20220113132007](http://cdn.ayusummer233.top/img/20220113132007.png)

- 执行以下命令来配置清华源：
  ```shell
  conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
  conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge
  conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/
  ```

  配置清华源是为了后续使用 `pip` 命令安装 python 库时快些, 不配置换源而直接使用默认源的话在墙内容易超时报错

---

## 新建一个 conda 环境

打开 `Anaconda Navigator -> Environments` 在环境列表底部按钮中找到 `Create` 并点击

![image-20220517153334579](http://cdn.ayusummer233.top/img/202205171533981.png)

为新环境命一个名(英文命名, 尽量简短些, 之后激活要用)

> 这里选择了 Python 3.8.13, 不上 3.9 或者 3.10 主要是因为有一些三方库更新没跟上, 不一定支持 python3.9 及以上

![image-20220517153442365](http://cdn.ayusummer233.top/img/202205171534732.png)

在命令行中使用 conda 环境可以使用如下指令激活:

```bash
conda activate 环境名
```

![image-20220517153733464](http://cdn.ayusummer233.top/img/202205171537691.png)

---

## Anaconda Navigator 升级

```bash
conda update conda -y
conda update anaconda -y
conda update anaconda-navigator -y
```

---

# VSCode


[VSCode 安装包](https://ayusummer-my.sharepoint.com/:u:/g/personal/233_ayusummer_onmicrosoft_com/EazLjY72FsFBvNS9qfiXUNsBoncvju914TnopNKvIkyU_A?e=H46sLL)

用于编辑与运行 python 程序, 选择 VSCode 主要是其比较轻量, 启动比较快, 用起来比较顺手, 且插件市场庞大, 对于许多语言都有插件支持, 按需下载

比起安装 python 解释器自带的 IDLE 友好许多, 又不会像 Pycharm 一样庞大/启动慢/占资源, 作为平时写点小脚本, 小玩意儿来说完全够用

##  扩展

- 汉化插件

  ![image-20220113132736972](http://cdn.ayusummer233.top/img/202201131327282.png)

- Python 相关基础插件

  ![image-20220113132900552](http://cdn.ayusummer233.top/img/202201131329644.png)

- jupyter 插件

  ![image-20220113132930881](http://cdn.ayusummer233.top/img/202201131329984.png)

  使用 Jupyter 的好处在于可以边写笔记边写代码, 如下图所示, 在笔记中可以插入代码块并运行及显示

  ![image-20220113133105876](http://cdn.ayusummer233.top/img/202201131331074.png)

- Markdown 插件

  ![image-20220113133332281](http://cdn.ayusummer233.top/img/202201131333467.png)

- 命令行插件 Terminal

  ![image-20220113134443536](http://cdn.ayusummer233.top/img/202201131344681.png)

  用于在 VSCode 中打开 powershell 执行命令

  ![image-20220113134623777](http://cdn.ayusummer233.top/img/202201131346049.png)






---

# Pycharm相关

## 快捷键

### 查找替换
- Ctrl + R 替换
- Ctrl + Shift + R 全局替换
> 无意中触发了TIM快捷键:Ctrl+Alt+F(文字识别)

## 创建文档注释脚本
- File -> Settings -> Editor -> File and Code Templates
  - 例:Python Script
    - 例:
      ```
      # -*- coding: utf-8 -*-
      # @Time    : ${DATE} ${TIME}
      # @Author  : 咸鱼型233
      # @File    : ${NAME}.py
      # @Software: ${PRODUCT_NAME}
      ```

---
## 导入自己的模块报红
- [参考文章](https://blog.csdn.net/qq_30622831/article/details/80978118)
- 结论:
  - 本地路径并未被标记“源目录”
- 解决方案:
  -  File | Settings | Build, Execution, Deployment | Console | Python Console 
     -  勾选"Add source roots to PYTHONPAT"
  - 当前程序根目录右键->“Mark Directory as”->“Sources Root”

----
## PEP8 代码规范检查
- [Python PEP8 代码规范常见问题及解决方法](https://blog.csdn.net/qq_36759224/article/details/89304878)


---
# JupyterLab

> 接触 VSCode 的 Jupyter 插件后感觉还是 VSCode + Jupyter 比较好用, 一方面 VSCode 可以安装许多插件作为编码的辅助工具, 另一方面, 单个 `.ipynb` 文件也比较方便编辑

---
## 简介
- [JupyterLab，极其强大的下一代notebook！](https://zhuanlan.zhihu.com/p/87403131)[原文链接]
- JupyterLab是Jupyter主打的最新数据科学生产工具，某种意义上，它的出现是为了取代Jupyter Notebook。不过不用担心Jupyter Notebook会消失，JupyterLab包含了Jupyter Notebook所有功能。
- JupyterLab作为一种基于web的集成开发环境，你可以使用它编写notebook、操作终端、编辑markdown文本、打开交互模式、查看csv文件及图片等功能。
- 可以把JupyterLab当作一种究极进化版的Jupyter Notebook。原来的单兵作战，现在是空陆空联合协作。
- Jupyter有如下特点
  - **交互模式**：Python交互式模式可以直接输入代码，然后执行，并立刻得到结果，因此Python交互模式主要是为了调试Python代码用的
  - **内核支持的文档**：使你可以在可以在Jupyter内核中运行的任何文本文件（Markdown，Python，R等）中启用代码
  - **模块化界面**：可以在同一个窗口同时打开好几个notebook或文件（HTML, TXT, Markdown等等），都以标签的形式展示，更像是一个IDE
  - **镜像notebook输出**：让你可以轻易地创建仪表板
  - **同一文档多视图**：使你能够实时同步编辑文档并查看结果
  - **支持多种数据格式**：你可以查看并处理多种数据格式，也能进行丰富的可视化输出或者Markdown形式输出
  - **云服务**：使用Jupyter Lab连接Google Drive等服务，极大得提升生产力

---
## 使用
- Anaconda自带,直接在`Home`里`Launch`即可
  ![](../../res/img/BigDataMicroMajor/Python/JupyterLab.png)
- 启动完之后会发现默认启动路径是电脑`用户根目录`,可以将其改到一个自己觉得合适的目录,操作如下
  - [JupyterLab修改启动默认路径](https://blog.csdn.net/housz77/article/details/106125831)[**原文链接**]
  - `Anaconda`的`Environments`界面用`Terminal`打开默认的Python环境(也即默认安装的JupyterLab的依赖环境)
    ![](../../res/img/BigDataMicroMajor/Python/JupyterLab-打开依赖环境.png) 
  - 安装`zmq`
  ```
    pip install -i https://mirrors.aliyun.com/pypi/simple/ zmq
  ```
  - 生成配置文件
    ```
    Jupyter notebook --generate-config
    ```
    - 若成功则会显示`Writing default config to: 文件路径`
      - 打开该`文件路径`指向的文件,利用`Ctrl+f`找到`c.NotebookApp.notebook`,将其#注释删除,在`''`中填入自己认为合适的启动路径
      > 我这里是`C:\Users\233\.jupyter\jupyter_notebook_config.py` 
      - 记得保存文件
  - 再次在`Home`里`Launch`启动`JupyterLab`确认配置情况
    ![20210401094701](http:cdn.ayusummer233.top/img/20210401094701.png)

---
## 插件
- 环境准备
  - 打开`cmd prompt`或者`Powershell prompt`
    ![](../../res/img/JupyterLab/condaPrompt.png) 
    - 安装`npm`
      ```
      pip install -i https://pypi.tuna.tsinghua.edu.cn/simple npm
      ```
    - 安装`nodejs`
      ```
      conda install -c conda-forge nodejs
      ```
  > - **不要**给`yarn`和`npm`换淘宝的源
  >   - 淘宝源里没有JupyterLab相关的插件,下载插件时会`404`
- 安装插件
  - 在`JupyterLab`可视化界面中安装
     ![](../../res/img/JupyterLab/JupyterLab插件.png)
  > 会有安装提示`install`及`rebuild`等
  - 安装好并且`rebuild`之后若左侧栏目未正常显示该插件则先关闭`JupyterLab`再重新启动看看有没有正常加载,若仍未正常显示则可以看看下面这条
- 反复安装与卸载插件可能会导致插件无法正常加载的错误
  - 错误发现:
    - Anaconda中运行`cmd prompt`或者`Powershell prompt`
      ```
      jupyter labextension list
      ```
      并回车,会给出`Known labextensions`和`Uninstalled core extensions`
      - 若一个插件同时在两项中出现则其无法正常加载
  - 错误解决方法
    - 找到`JupyterLab`插件`build`的配置文件
      - 位置在
        - `<conda_root>/envs/<env_name>/share/jupyter/lab/settings/build_config.json`
      - 若`JupyterLab`的环境`conda`的默认的`root`环境,则位置在
        - `<conda_root>/share/jupyter/lab/settings/build_config.json`
---
### 插件推荐

---
#### `@kiteco/jupyterlab-kite`
- `Python`代码提示
- 在`Anaconda`中安装`Spyder`的时候一般会引导下载`Kite`
  - ![](../../res/img/JupyterLab/Kite.png)
- 使用效果
  - ![](../../res/img/JupyterLab/Kite插件使用示例.png)
- 安装
  - `Prompt`安装
    - 打开`Anaconda`的`Prompt`
      ```
      pip install -i https://pypi.tuna.tsinghua.edu.cn/simple jupyter-kite
      jupyter labextension install @kiteco/jupyterlab-kite
      ```
    - 重启`JupyterLab`即可

---
## 快捷键
- [原文链接](https://blog.csdn.net/weixin_44676081/article/details/102703646)
---
### 命令模式 (按键 Esc 开启)
`Enter` 转入编辑模式

`Shift-Enter` 运行本单元，选中下个单元

`Ctrl-Enter` 运行本单元

`Alt-Enter` 运行本单元，在其下插入新单元

`Y` 单元转入代码状态

`M` 单元转入markdown状态

`R` 单元转入raw状态

`1` 设定 1 级标题

`2` 设定 2 级标题

`3` 设定 3 级标题

`4` 设定 4 级标题

`5` 设定 5 级标题

`6` 设定 6 级标题

`Up` 选中上方单元

`K` 选中上方单元

`Down` 选中下方单元

`J` 选中下方单元

`Shift-K` 扩大选中上方单元

`Shift-J` 扩大选中下方单元

`A` 在上方插入新单元

`B` 在下方插入新单元

`X` 剪切选中的单元

`C` 复制选中的单元

`Shift-V` 粘贴到上方单元

`V` 粘贴到下方单元

`Z` 恢复删除的最后一个单元

`D,D` 删除选中的单元

`Shift-M` 合并选中的单元

`Ctrl-S` 文件存盘

`S` 文件存盘

`L` 转换行号

`O` 转换输出

`Shift-O` 转换输出滚动

`Esc` 关闭页面

`Q` 关闭页面

`H` 显示快捷键帮助

`I,I` 中断Notebook内核

`0,0` 重启Notebook内核

`Shift` 忽略

`Shift-Space` 向上滚动

`Space` 向下滚动

---
### 编辑模式 ( Enter 键启动)
`Tab` 代码补全或缩进

`Shift-Tab` 提示

`Ctrl-]` 缩进

`Ctrl-[` 解除缩进

`Ctrl-A` 全选

`Ctrl-Z` 复原

`Ctrl-Shift-Z` 再做

`Ctrl-Y` 再做

`Ctrl-Home` 跳到单元开头

`Ctrl-Up` 跳到单元开头

`Ctrl-End` 跳到单元末尾

`Ctrl-Down` 跳到单元末尾

`Ctrl-Left` 跳到左边一个字首

`Ctrl-Right` 跳到右边一个字首

`Ctrl-Backspace` 删除前面一个字

`Ctrl-Delete` 删除后面一个字

`Esc` 进入命令模式

`Ctrl-M` 进入命令模式

`Shift-Enter` 运行本单元，选中下一单元

`Ctrl-Enter` 运行本单元

`Alt-Enter` 运行本单元，在下面插入一单元

`Ctrl-Shift`– 分割单元

`Ctrl-Shift-Subtract` 分割单元

`Ctrl-S` 文件存盘

`Shift` 忽略

`Up` 光标上移或转入上一单元

`Down`光标下移或转入下一单元

---
> [更多JupyterLab快捷键参考](https://blog.ja-ke.tech/2019/01/20/jupyterlab-shortcuts.html)


---
