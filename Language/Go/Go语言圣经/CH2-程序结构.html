<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.27" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" type="application/atom+xml" href="https://ayusummer.github.io/DailyNotes/atom.xml" title="DailyNotes Atom Feed"><link rel="alternate" type="application/json" href="https://ayusummer.github.io/DailyNotes/feed.json" title="DailyNotes JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://ayusummer.github.io/DailyNotes/rss.xml" title="DailyNotes RSS Feed"><title>CH2 ç¨‹åºç»“æ„ | DailyNotes</title><meta name="description" content="233çš„æ—¥å¸¸å­¦ä¹ è®°å½•">
    <link rel="preload" href="/DailyNotes/assets/style-BSgO09vV.css" as="style"><link rel="stylesheet" href="/DailyNotes/assets/style-BSgO09vV.css">
    <link rel="modulepreload" href="/DailyNotes/assets/app-DxMJFouC.js"><link rel="modulepreload" href="/DailyNotes/assets/CH2-ç¨‹åºç»“æ„.html-BI6WN54r.js"><link rel="modulepreload" href="/DailyNotes/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/DailyNotes/assets/index.html-Cog9xbO_.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TODOLIST.html-DlzNC2VN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ç»Ÿæ‹¬.html-CgHuoRFS.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/DailyLife.html-Cr7xZDI8.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ç”Ÿæ´».html-lrLlKlYJ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Markdown.html-DAElRci2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Mermaid.html-pF__2ACn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Notion.html-ByqzAhf1.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PlantUML.html-Dg39u1Dp.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/VitePress.html-DdYlptIL.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/VuePress.html-BZGLVxCU.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Word.html-DE-OfJGZ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/CSS.html-DdK3QyoU.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/HTML.html-Bs67iv9b.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Nginx.html-BiRz0U5t.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Nodejs.html-Cmm_e8Nf.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/é€šè¯†.html-BxHBnIVa.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DrxE5zw4.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å‰åç«¯äº¤äº’æ•°æ®çš„ç¼–ç æ–¹æ¡ˆ.html-D3mwxJcT.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Git.html-BJktVzTp.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Gitee.html-CbqNPJOu.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Github.html-ar6fFcIm.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Gitlab.html-3DHPr5zh.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-qaBgQBnK.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/kali.html-CphVf7yL.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æŠ“åŒ…å‘åŒ….html-DjE7YnLS.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ç¼–ç .html-DbdfCelR.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Linux.html-Dv9MwpPh.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/VSCode.html-Cxk_GR9Z.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Windows.html-DSQ5XPHD.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¤–è®¾.html-DukQ7zJD.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æ¢æº.html-SHjTElsl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æ¸æ„-æ–­å¢¨å¯»å¾„.html-BbLzmQTn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/é€šè¯†.html-XkguoP0E.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CXyk1D1F.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/CPP.html-CXobnTWx.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-yGijQUPv.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Java.html-B2EpWkAI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/JavaWeb.html-Ddb5YMDA.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Javaä»£ç å®¡è®¡.html-Bs5LSmlG.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/JavaScript.html-DItcNd9P.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PHPå­¦ä¹ .html-C1SHuXkT.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PHPå®‰å…¨.html-DHoap278.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Note-python.html-BgEfACEu.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PEP8.html-DeQPMxo2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PythonWeb.html-HeMzrNUE.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/QuickStart.html-BxVolMoH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¼€å‘ç¯å¢ƒ.html-ClbSHbJI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TypeScript.html-fJmPs36a.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-3Tai9E3V.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/èµ„æºå’ŒURI.html-ClMjBTk8.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/FantasticAdmin.html-ezvl7mLp.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Vben.html-DlMtnDxj.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Vue.html-DKA_q6It.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/vue-admin-template.html-BNlt6953.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/JSONå…¼å®¹.html-JdAAjbYV.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/OAuth2.0æˆæƒæ¨¡å¼.html-CovheMff.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Pydantic.html-osKSwcz2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D88ABL8k.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ä¸­é—´ä»¶.html-C_DzFG9W.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ä¾èµ–æ³¨å…¥.html-DEo9qv4C.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/åå°ä»»åŠ¡.html-CDzhy099.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å“åº”æ¨¡å‹.html-DY9kWLxd.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æ•°æ®åº“æ“ä½œ.html-CbMRJ9zr.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æµ‹è¯•ç”¨ä¾‹.html-0211oxK8.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/è¯·æ±‚æ¨¡å‹.html-BBLZped-.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/è·¨åŸŸèµ„æºå…±äº«.html-CrEwhOXe.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/é«˜çº§ç”¨æˆ·æŒ‡å—.html-DJcnYgle.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Flask.html-BBX03RoH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/MySQL.html-FCQFbvtR.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PostgreSQL.html-2LDsNs5t.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Redis.html-DmwYPskz.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/SQLAlchemy.html-7TtySVrl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/SQLite.html-BaBhN6XH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æ•°æ®åº“.html-CCvUpqpP.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/commonNotes.html-B57BgKrl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/gypsum.html-CSKMC7UH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DkybZ6CT.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/äº‘å´½.html-D0GdYWxH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ä¼å¾®Bot.html-DS41tt4Z.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/é¢‘é“Bot.html-CuLb1HN-.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/sovits_32k.html-lu3LzlnN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/sovits_4.html-DsXDyNNj.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¤§æ•°æ®éšç¬”.html-DWGQ2ya6.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¯¼è®º.html-BH3ljK5p.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¾®ä¿¡å°ç¨‹åº.html-DqHinCVW.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/MOOC_æµ‹è¯•ä¸ä½œä¸š.html-CgnIfabd.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/MachineLearning.html-DA1jdjkQ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æœºå™¨å­¦ä¹ .html-FajFr8WO.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TA0001-InitialAccess.html-D1bAj1Dw.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TA0005-DefenseEvasion(ä¸‹).html-CzsfLVaD.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TA0040-Impact.html-D13Xt_0f.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BRpaCW6K.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CQtp9d18.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BoT9DVIw.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DJUzog1o.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/HMAC.html-BacnMlu3.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Hash.html-DmS0uAye.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-C20zSwwN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CUEAYcio.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CgLpEIWG.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Docker.html-B5XoOZDr.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Harbor.html-DxhJGMgC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/è®¢é˜…æ›´æ–°.html-Ba8sJ7bp.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/C.html-Ce_3bxxC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/CH1-å…¥é—¨.html-Dt6GYjyI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/CH3-åŸºç¡€æ•°æ®ç±»å‹.html-3npUGHXu.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/CH4-å¤åˆæ•°æ®ç±»å‹.html-CCXXY_BT.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/QA.html-HN6ENONw.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/æçº².html-wXVIduZ2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DrwTVy0w.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-cGobLRJ0.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DgCp8o-x.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/API.html-DTx8Fzcb.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/AnimateCSS.html-BIDlgN-X.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ESLint.html-C9DHkYvU.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ElementPlus.html-C3QoPAPc.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/GreenSock.html-DCBQOhU6.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Less.html-ljBsnQA_.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Lodash.html-Cb2s3i4u.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/MicrosoftLearn.html-DC8piHIe.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Pinia.html-VfNYsOqy.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Router.html-zhrrp_Lt.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Scopedä¸æ ·å¼ç©¿é€.html-DA6B7VY5.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TSX.html-D4tcwL_P.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Vite.html-CAzVHYHs.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/VueUse.html-uvVPA2Kg.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Vuex.html-BuXPjFM8.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/auto-import.html-Dn-BsT3J.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¯å¤ç”¨ç»„åˆ.html-DcPPocgS.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å®‰è£….html-iln3Qqvk.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å·¥å…·.html-rF_lpv7A.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ç®€ä»‹.html-FWg8ju7Z.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ç»„ä»¶ç³»ç»Ÿ.html-OtkWPWIh.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/è‡ªå®šä¹‰å…¨å±€æ’ä»¶.html-BX8AoqtC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/LeetCodeNote.html-BgT0TYis.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BXfG5mac.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-5rPuA75j.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/èšå‰‘.html-P6GNCxC7.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DAbhkDfC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/BurpSuite.html-Bxtr1GNH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/msf.html-8nef_dWt.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/AWVS.html-CeK0v674.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/nmap.html-CGxSsT9o.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Powershell-Empire.html-epyxFiiY.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/NATBypass.html-DpQAFP4L.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DCnC0cWH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/SSHæ¨ªå‘ç§»åŠ¨.html-B8y2uHc7.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Vectr.html-Bn4kfRJF.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CGWprqgt.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-C5rs7sK_.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-ClEn0u1t.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Cg3GkOPS.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/ä»åŸºç¡€çš„RATå‡ºå‘æ¢³ç†ä¸€äº›å¸¸è§çš„æŸ¥æ€ä¸å…æ€æŠ€æœ¯.html-ByqM5zzK.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Windowså¯¹è±¡ä¸å¥æŸ„.html-CaqtZj5c.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CoitgNgs.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-u-iKJ_cN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-TTEAFSqc.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DvDvkQat.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/åè¯è§£é‡Š.html-ChgTd4rE.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-55lgZt6P.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Matplotlib.html-AYyy2R2o.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/OpenCV-python.html-B3zF-ORL.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Pandas.html-D3Lx5IVl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Pillow.html-ByLcOfWo.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/PyPSRP.html-CZJQIKz2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CjLrtIbZ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/TensorFlow.html-CJ4UuhuS.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/å¼‚æ­¥ç¼–ç¨‹.html-L3L6jS1Z.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/json.html-BkNpPppD.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/numpy.html-Bo5-9ZYH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/turtle.html-VOKXdJuR.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DmycO33q.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/T1053.002-AT.html-DQBSccwu.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D_6d4_nc.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DVtDrL-Q.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/HTTPè¯·æ±‚èµ°ç§.html-DkvnjWWP.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BFYU8Vtm.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Cjt0JLdp.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CKqZ-nRK.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D5i2RMNr.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BveP4UCI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/AMSI.html-BtyWqE6A.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-B3jnyVHK.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DjoUr56P.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/åˆ©ç”¨Winraræ†ç»‘æ¶æ„ç¨‹åºä¸åˆæ³•ç¨‹åº.html-C-0G6zOn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/Excel4.0å®.html-B5Ts-vLn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Dx4Xv9jv.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/404.html-Dv_n9kAQ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-o-OB7wIC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-uyPFGTrC.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DJYD9Po2.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D5ZPMnvH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CrYGry9t.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DmVqy1xA.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CYE-mlT6.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Czm67LAl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-n2vevLew.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DFU6i-xQ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-ao29zsHI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-7HcJLT9m.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-8p3wK3_3.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Bd9-IX_0.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DTGuD0iL.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Cd5WOVxn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Dj9nPEUu.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Buo3Jbqa.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BsfmKIck.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-q2Bzopp-.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D874p-tY.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CXchQCTM.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D3vsRQl5.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-lKfA2c5C.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CvELznCN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html--nUxd3tO.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-By1NbvHr.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-PBu4tAPh.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html--s5ULc0c.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CVxLQ6xH.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-omg5bX3j.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CGbjnrjD.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DOLD43lt.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Cup4VC70.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-D7m0hfpi.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-M1yMshAr.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-C8ThxINB.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-SfMe30Hw.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-N6-UlFkq.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DHGY_x04.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DMW1cFTn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CPBdmHMI.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CI4dkyzE.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-CUUxBa7P.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-QzFl9y72.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-C44IuafO.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-Dbj_PyMl.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-vbyCbmfq.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DqQZsxiN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BOVKu4os.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DdgDClS_.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BISxEWfQ.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-DmiRZjYX.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BJnZA_Jg.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-BSw6ByZN.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/index.html-PwOwYsAn.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/mermaid.core-DBa3BLEK.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/DailyNotes/assets/SearchResult-CGTnncOy.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/DailyNotes/"><img class="vp-nav-logo" src="/DailyNotes/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">DailyNotes</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç¬”è®°å·¥å…·"><span class="title"><!---->ç¬”è®°å·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/VuePress.html" aria-label="VuePress"><!---->VuePress<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/Markdown.html" aria-label="Markdown"><!---->Markdown<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/Mermaid.html" aria-label="Mermaid"><!---->Mermaid<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/LaTex/" aria-label="LaTeX"><!---->LaTeX<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/PlantUML.html" aria-label="PlantUML"><!---->PlantUML<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/NoteTools/VitePress.html" aria-label="VitePress"><!---->VitePress<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="é€šè¯†"><span class="title"><!---->é€šè¯†</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/%E9%80%9A%E8%AF%86.html" aria-label="é€šè¯†"><!---->é€šè¯†<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/Linux.html" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/Windows.html" aria-label="Windows"><!---->Windows<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/Docker/Docker.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/%E6%8D%A2%E6%BA%90.html" aria-label="æ¢æº"><!---->æ¢æº<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/%E5%A4%96%E8%AE%BE.html" aria-label="å¤–è®¾"><!---->å¤–è®¾<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/VSCode.html" aria-label="VSCode"><!---->VSCode<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/%E9%80%9A%E4%BF%A1/%E8%AE%A2%E9%98%85%E6%9B%B4%E6%96%B0.html" aria-label="é€šä¿¡"><!---->é€šä¿¡<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E9%80%9A%E8%AF%86/%E6%B8%90%E6%9E%84-%E6%96%AD%E5%A2%A8%E5%AF%BB%E5%BE%84.html" aria-label="æ¸æ„"><!---->æ¸æ„<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ—¥å¸¸"><span class="title"><!---->æ—¥å¸¸</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/DailyLife/DailyLife.html" aria-label="æ—¥å¸¸"><!---->æ—¥å¸¸<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/DailyLife/%E9%A3%9F%E8%B0%B1/" aria-label="é£Ÿè°±"><!---->é£Ÿè°±<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç½‘ç»œå®‰å…¨"><span class="title"><!---->ç½‘ç»œå®‰å…¨</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" aria-label="ç½‘ç»œå®‰å…¨"><!---->ç½‘ç»œå®‰å…¨<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E9%92%93%E9%B1%BC/" aria-label="é’“é±¼"><!---->é’“é±¼<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/kali.html" aria-label="kali"><!---->kali<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%BC%96%E7%A0%81.html" aria-label="ç¼–ç "><!---->ç¼–ç <!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E6%8A%93%E5%8C%85%E5%8F%91%E5%8C%85.html" aria-label="æŠ“åŒ…å‘åŒ…"><!---->æŠ“åŒ…å‘åŒ…<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/ATTCK/" aria-label="ATTCK"><!---->ATTCK<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/nmap.html" aria-label="ä¿¡æ¯æ”¶é›†"><!---->ä¿¡æ¯æ”¶é›†<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/Web%E5%AE%89%E5%85%A8/" aria-label="Webå®‰å…¨"><!---->Webå®‰å…¨<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%AB%AF%E7%82%B9%E5%AE%89%E5%85%A8/" aria-label="ç«¯ç‚¹å®‰å…¨"><!---->ç«¯ç‚¹å®‰å…¨<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/" aria-label="å†…ç½‘æ¸—é€"><!---->å†…ç½‘æ¸—é€<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/" aria-label="åŠ å¯†ç®—æ³•"><!---->åŠ å¯†ç®—æ³•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Language"><span class="title"><!---->Language</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/Python/QuickStart.html" aria-label="Python"><!---->Python<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/CPlusPlus/CPP.html" aria-label="C++"><!---->C++<!----></a></li><li class="dropdown-item"><a class="route-link nav-link active" href="/DailyNotes/Language/Go/" aria-label="Go"><!---->Go<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/JavaScript/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/TypeScript/TypeScript.html" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/Java/Java.html" aria-label="Java"><!---->Java<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/PHP/PHP%E5%AD%A6%E4%B9%A0.html" aria-label="PHP"><!---->PHP<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/Language/Shell/Shell/" aria-label="Shell"><!---->Shell<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åç«¯"><span class="title"><!---->åç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%90%8E%E7%AB%AF/" aria-label="åç«¯"><!---->åç«¯<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%90%8E%E7%AB%AF/FastAPI/" aria-label="FastAPI"><!---->FastAPI<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%90%8E%E7%AB%AF/Flask/Flask.html" aria-label="Flask"><!---->Flask<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å‰ç«¯"><span class="title"><!---->å‰ç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/%E9%80%9A%E8%AF%86.html" aria-label="é€šè¯†"><!---->é€šè¯†<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/HTML.html" aria-label="HTML"><!---->HTML<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/HTTP/%E8%B5%84%E6%BA%90%E5%92%8CURI.html" aria-label="HTTP"><!---->HTTP<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/VUE/Vue3/%E7%AE%80%E4%BB%8B.html" aria-label="Vue"><!---->Vue<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/CSS.html" aria-label="CSS"><!---->CSS<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/Nodejs.html" aria-label="Nodejs"><!---->Nodejs<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%89%8D%E7%AB%AF/Nginx.html" aria-label="Nginx"><!---->Nginx<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç¤¾åŒºç›¸å…³"><span class="title"><!---->ç¤¾åŒºç›¸å…³</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%A4%BE%E5%8C%BA%E7%9B%B8%E5%85%B3/Git.html" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%A4%BE%E5%8C%BA%E7%9B%B8%E5%85%B3/Github.html" aria-label="Github"><!---->Github<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%A4%BE%E5%8C%BA%E7%9B%B8%E5%85%B3/Gitee.html" aria-label="Gitee"><!---->Gitee<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E7%A4%BE%E5%8C%BA%E7%9B%B8%E5%85%B3/Gitlab.html" aria-label="Gitlab"><!---->Gitlab<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å¨±ä¹"><span class="title"><!---->å¨±ä¹</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%A8%B1%E4%B9%90/Bot/" aria-label="Bot"><!---->Bot<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%A8%B1%E4%B9%90/sovits/sovits_32k.html" aria-label="sovits"><!---->sovits<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å­¦ä¹ è·¯çº¿"><span class="title"><!---->å­¦ä¹ è·¯çº¿</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/DailyNotes/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html" aria-label="æœºå™¨å­¦ä¹ "><!---->æœºå™¨å­¦ä¹ <!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/Ayusummer/DailyNotes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/DailyNotes/Language/Go/" aria-label="Go"><!---->Go<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><!----><span class="vp-sidebar-title">Goè¯­è¨€åœ£ç»å­¦ä¹ éšç¬”</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/DailyNotes/Language/Go/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F/CH1-%E5%85%A5%E9%97%A8.html" aria-label="CH1 å…¥é—¨"><!---->CH1 å…¥é—¨<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/DailyNotes/Language/Go/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F/CH2-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84.html" aria-label="CH2 ç¨‹åºç»“æ„"><!---->CH2 ç¨‹åºç»“æ„<!----></a></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->CH2 ç¨‹åºç»“æ„</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-10-29T15:32:28.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 62 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT62M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#ch2-1-å‘½å">CH2.1 å‘½å</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#ch2-2-å£°æ˜">CH2.2 å£°æ˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#ch2-3-å˜é‡">CH2.3 å˜é‡</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ch2-3-1-ç®€çŸ­å˜é‡å£°æ˜">CH2.3.1 ç®€çŸ­å˜é‡å£°æ˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ch2-3-2-æŒ‡é’ˆ">CH2.3.2 æŒ‡é’ˆ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#_2-3-3-new-å‡½æ•°">2.3.3 new å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#_2-3-4-å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ">2.3.4 å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#ch2-4-èµ‹å€¼">CH2.4 èµ‹å€¼</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ch2-4-1-å…ƒç»„èµ‹å€¼">CH2.4.1 å…ƒç»„èµ‹å€¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#_2-4-2-å¯èµ‹å€¼æ€§">2.4.2 å¯èµ‹å€¼æ€§</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#_2-5-ç±»å‹">2.5 ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#_2-6-åŒ…å’Œæ–‡ä»¶">2.6  åŒ…å’Œæ–‡ä»¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ç»ƒä¹ -2-1">ç»ƒä¹  2.1</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#_2-6-1-å¯¼å…¥åŒ…">2.6.1.å¯¼å…¥åŒ…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ç»ƒä¹ 2-2">ç»ƒä¹ 2.2</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#_2-6-2-åŒ…çš„åˆå§‹åŒ–">2.6.2.åŒ…çš„åˆå§‹åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ç»ƒä¹ 2-3">ç»ƒä¹ 2.3</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ç»ƒä¹ 2-4">ç»ƒä¹ 2.4</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#ç»ƒä¹ 2-5">ç»ƒä¹ 2.5</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="/DailyNotes/#_2-7-ä½œç”¨åŸŸ">2.7.ä½œç”¨åŸŸ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/DailyNotes/#å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•">å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="ch2-ç¨‹åºç»“æ„" tabindex="-1"><a class="header-anchor" href="#ch2-ç¨‹åºç»“æ„"><span>CH2 ç¨‹åºç»“æ„</span></a></h1><hr><ul><li><a href="#ch2-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84">CH2 ç¨‹åºç»“æ„</a><ul><li><a href="#ch21-%E5%91%BD%E5%90%8D">CH2.1 å‘½å</a></li><li><a href="#ch22-%E5%A3%B0%E6%98%8E">CH2.2 å£°æ˜</a></li><li><a href="#ch23-%E5%8F%98%E9%87%8F">CH2.3 å˜é‡</a><ul><li><a href="#ch231-%E7%AE%80%E7%9F%AD%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E">CH2.3.1 ç®€çŸ­å˜é‡å£°æ˜</a></li><li><a href="#ch232-%E6%8C%87%E9%92%88">CH2.3.2 æŒ‡é’ˆ</a></li><li><a href="#233-new-%E5%87%BD%E6%95%B0">2.3.3 new å‡½æ•°</a></li><li><a href="#234-%E5%8F%98%E9%87%8F%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">2.3.4 å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</a></li></ul></li><li><a href="#ch24-%E8%B5%8B%E5%80%BC">CH2.4 èµ‹å€¼</a><ul><li><a href="#ch241-%E5%85%83%E7%BB%84%E8%B5%8B%E5%80%BC">CH2.4.1 å…ƒç»„èµ‹å€¼</a></li><li><a href="#242-%E5%8F%AF%E8%B5%8B%E5%80%BC%E6%80%A7">2.4.2 å¯èµ‹å€¼æ€§</a></li></ul></li><li><a href="#25-%E7%B1%BB%E5%9E%8B">2.5 ç±»å‹</a></li><li><a href="#26--%E5%8C%85%E5%92%8C%E6%96%87%E4%BB%B6">2.6 åŒ…å’Œæ–‡ä»¶</a><ul><li><a href="#%E7%BB%83%E4%B9%A0-21">ç»ƒä¹  2.1</a></li><li><a href="#261%E5%AF%BC%E5%85%A5%E5%8C%85">2.6.1.å¯¼å…¥åŒ…</a></li><li><a href="#%E7%BB%83%E4%B9%A022">ç»ƒä¹ 2.2</a></li><li><a href="#262%E5%8C%85%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96">2.6.2.åŒ…çš„åˆå§‹åŒ–</a></li><li><a href="#%E7%BB%83%E4%B9%A023">ç»ƒä¹ 2.3</a></li><li><a href="#%E7%BB%83%E4%B9%A024">ç»ƒä¹ 2.4</a></li><li><a href="#%E7%BB%83%E4%B9%A025">ç»ƒä¹ 2.5</a></li></ul></li><li><a href="#27%E4%BD%9C%E7%94%A8%E5%9F%9F">2.7.ä½œç”¨åŸŸ</a><ul><li><a href="#%E5%85%B3%E4%BA%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%BB%A5%E5%8F%8A%E7%AE%80%E7%9F%AD%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BD%9C%E7%94%A8%E6%B5%8B%E8%AF%95">å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•</a></li></ul></li></ul></li></ul><hr><h2 id="ch2-1-å‘½å" tabindex="-1"><a class="header-anchor" href="#ch2-1-å‘½å"><span>CH2.1 å‘½å</span></a></h2><blockquote><p><a href="https://golang-china.github.io/gopl-zh/ch2/ch2-01.html" target="_blank" rel="noopener noreferrer">å‘½å - Goè¯­è¨€åœ£ç» (golang-china.github.io)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>Go è¯­è¨€ä¸­çš„å‡½æ•°åã€å˜é‡åã€å¸¸é‡åã€ç±»å‹åã€è¯­å¥æ ‡å·å’ŒåŒ…åç­‰æ‰€æœ‰çš„å‘½åï¼Œéƒ½éµå¾ªä¸€ä¸ªç®€å•çš„å‘½åè§„åˆ™ï¼šä¸€ä¸ªåå­—å¿…é¡»ä»¥ä¸€ä¸ªå­—æ¯(Unicode å­—æ¯) æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåé¢å¯ä»¥è·Ÿä»»æ„æ•°é‡çš„å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚</p><p>å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯æ˜¯ä¸åŒçš„ï¼š<code>heapSort</code> å’Œ <code>Heapsort</code> æ˜¯ä¸¤ä¸ªä¸åŒçš„åå­—ã€‚</p><p>Go è¯­è¨€ä¸­ç±»ä¼¼ if å’Œ switch çš„å…³é”®å­—æœ‰ 25 ä¸ª; å…³é”®å­—ä¸èƒ½ç”¨äºè‡ªå®šä¹‰åå­—, åªèƒ½åœ¨ç‰¹å®šè¯­æ³•ç»“æ„ä¸­ä½¿ç”¨:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>break      default       func     interface   select
case       defer         go       map         struct
chan       else          goto     package     switch
const      fallthrough   if       range       type
continue   for           import   return      var
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–, è¿˜æœ‰å¤§çº¦ 30 å¤šä¸ªé¢„å®šä¹‰çš„åå­—, æ¯”å¦‚ int å’Œ true ç­‰, ä¸»è¦å¯¹åº”å†…å»ºçš„å¸¸é‡, ç±»å‹å’Œå‡½æ•°</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>å†…å»ºå¸¸é‡: true false iota nil

å†…å»ºç±»å‹: int int8 int16 int32 int64
          uint uint8 uint16 uint32 uint64 uintptr
          float32 float64 complex128 complex64
          bool byte rune string error

å†…å»ºå‡½æ•°: make len cap new append copy close delete
          complex real imag
          panic recover
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›å†…éƒ¨é¢„å…ˆå®šä¹‰çš„åå­—å¹¶ä¸æ˜¯å…³é”®å­—, ä½ å¯ä»¥åœ¨å®šä¹‰ä¸­é‡æ–°ä½¿ç”¨å®ƒä»¬</p><p>ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ä¸­é‡æ–°å®šä¹‰å®ƒä»¬ä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„, ä½†æ˜¯ä¹Ÿè¦æ³¨æ„é¿å…è¿‡åº¦è€Œå¼•èµ·è¯­ä¹‰æ··ä¹±</p><hr><p>å¦‚æœä¸€ä¸ªåå­—æ˜¯åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰, é‚£ä¹ˆå®ƒå°±åªåœ¨å‡½æ•°å†…éƒ¨æœ‰æ•ˆ; å¦‚æœæ˜¯åœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰, é‚£ä¹ˆå°†åœ¨å½“å‰åŒ…çš„æ‰€æœ‰æ–‡ä»¶ä¸­éƒ½å¯ä»¥è®¿é—®</p><p><mark>åå­—çš„å¼€å¤´å­—æ¯çš„å¤§å°å†™å†³å®šäº†åå­—åœ¨åŒ…å¤–çš„å¯è§æ€§</mark>; å¦‚æœä¸€ä¸ªåå­—æ˜¯å¤§å†™å­—æ¯å¼€å¤´çš„(è¯‘æ³¨: å¿…é¡»æ˜¯åœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰çš„åŒ…çº§åå­—; åŒ…çº§å‡½æ•°åæœ¬èº«ä¹Ÿæ˜¯åŒ…çº§åå­—ï¼‰, é‚£ä¹ˆå®ƒå°†æ˜¯å¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥è¢«å¤–éƒ¨çš„åŒ…è®¿é—®ï¼Œä¾‹å¦‚ <code>fmt</code> åŒ…çš„ <code>Printf</code> å‡½æ•°å°±æ˜¯å¯¼å‡ºçš„, å¯ä»¥åœ¨ <code>fmt</code> åŒ…å¤–éƒ¨è®¿é—®; åŒ…æœ¬èº«çš„åå­—ä¸€èˆ¬æ€»æ˜¯ç”¨å°å†™å­—æ¯</p><hr><p>åå­—çš„é•¿åº¦æ²¡æœ‰é€»è¾‘é™åˆ¶, ä½†æ˜¯Goè¯­è¨€çš„é£æ ¼æ˜¯å°½é‡ä½¿ç”¨çŸ­å°çš„åå­—, å¯¹äºå±€éƒ¨å˜é‡å°¤å…¶æ˜¯è¿™æ ·; ä½ ä¼šç»å¸¸çœ‹åˆ° i ä¹‹ç±»çš„çŸ­åå­—, è€Œä¸æ˜¯å†—é•¿çš„ theLoopIndex å‘½å</p><p>é€šå¸¸æ¥è¯´, å¦‚æœä¸€ä¸ªåå­—çš„ä½œç”¨åŸŸæ¯”è¾ƒå¤§, ç”Ÿå‘½å‘¨æœŸä¹Ÿæ¯”è¾ƒé•¿, é‚£ä¹ˆç”¨é•¿çš„åå­—å°†ä¼šæ›´æœ‰æ„ä¹‰</p><hr><p>åœ¨ä¹ æƒ¯ä¸Šï¼ŒGoè¯­è¨€ç¨‹åºå‘˜æ¨èä½¿ç”¨ <strong>é©¼å³°å¼</strong> å‘½åï¼Œå½“åå­—ç”±å‡ ä¸ªå•è¯ç»„æˆæ—¶ä¼˜å…ˆä½¿ç”¨å¤§å°å†™åˆ†éš”, è€Œä¸æ˜¯ä¼˜å…ˆç”¨ä¸‹åˆ’çº¿åˆ†éš”</p><p>å› æ­¤ï¼Œåœ¨æ ‡å‡†åº“æœ‰ <code>QuoteRuneToASCII</code> å’Œ <code>parseRequestLine</code> è¿™æ ·çš„å‡½æ•°å‘½å, ä½†æ˜¯ä¸€èˆ¬ä¸ä¼šç”¨<code>quote_rune_to_ASCII</code> å’Œ <code>parse_request_line</code> è¿™æ ·çš„å‘½å</p><p>è€Œåƒ ASCII å’Œ HTML è¿™æ ·çš„ç¼©ç•¥è¯åˆ™é¿å…ä½¿ç”¨å¤§å°å†™æ··åˆçš„å†™æ³•, å®ƒä»¬å¯èƒ½è¢«ç§°ä¸º <code>htmlEscape</code>, <code>HTMLEscape</code>æˆ– <code>escapeHTML</code>, ä½†ä¸ä¼šæ˜¯ <code>escapeHtml</code></p><hr><h2 id="ch2-2-å£°æ˜" tabindex="-1"><a class="header-anchor" href="#ch2-2-å£°æ˜"><span>CH2.2 å£°æ˜</span></a></h2><blockquote><p><a href="https://golang-china.github.io/gopl-zh/ch2/ch2-02.html" target="_blank" rel="noopener noreferrer">å£°æ˜ - Goè¯­è¨€åœ£ç» (golang-china.github.io)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>å£°æ˜è¯­å¥å®šä¹‰äº†ç¨‹åºçš„å„ç§å®ä½“å¯¹è±¡ä»¥åŠéƒ¨åˆ†æˆ–å…¨éƒ¨çš„å±æ€§</p><p>Goè¯­è¨€ä¸»è¦æœ‰å››ç§ç±»å‹çš„å£°æ˜è¯­å¥: <code>var</code>, <code>const</code>, <code>type</code> å’Œ <code>func</code>, åˆ†åˆ«å¯¹åº”å˜é‡, å¸¸é‡, ç±»å‹å’Œå‡½æ•°å®ä½“å¯¹è±¡çš„å£°æ˜ã€‚</p><p>è¿™ä¸€ç« æˆ‘ä»¬é‡ç‚¹è®¨è®º <code>å˜é‡-var</code> å’Œ <code>ç±»å‹-type</code> çš„å£°æ˜, ç¬¬ä¸‰ç« å°†è®¨è®ºå¸¸é‡çš„å£°æ˜, ç¬¬äº”ç« å°†è®¨è®ºå‡½æ•°çš„å£°æ˜</p><p>ä¸€ä¸ªGoè¯­è¨€ç¼–å†™çš„ç¨‹åºå¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªä»¥. <code>go</code> ä¸ºæ–‡ä»¶åç¼€åçš„æºæ–‡ä»¶; æ¯ä¸ªæºæ–‡ä»¶ä¸­ä»¥åŒ…çš„å£°æ˜è¯­å¥å¼€å§‹, è¯´æ˜è¯¥æºæ–‡ä»¶æ˜¯å±äºå“ªä¸ªåŒ…; åŒ…å£°æ˜è¯­å¥ä¹‹åæ˜¯ import è¯­å¥å¯¼å…¥ä¾èµ–çš„å…¶å®ƒåŒ…, ç„¶åæ˜¯åŒ…ä¸€çº§çš„ç±»å‹, å˜é‡, å¸¸é‡, å‡½æ•°çš„å£°æ˜è¯­å¥, åŒ…ä¸€çº§çš„å„ç§ç±»å‹çš„å£°æ˜è¯­å¥çš„é¡ºåºæ— å…³ç´§è¦(è¯‘æ³¨: å‡½æ•°å†…éƒ¨çš„åå­—åˆ™å¿…é¡»å…ˆå£°æ˜ä¹‹åæ‰èƒ½ä½¿ç”¨)</p><p>ä¾‹å¦‚, ä¸‹é¢çš„ä¾‹å­ä¸­å£°æ˜äº†ä¸€ä¸ªå¸¸é‡, ä¸€ä¸ªå‡½æ•°å’Œä¸¤ä¸ªå˜é‡:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Boiling prints the boiling point of water.</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">const</span> boilingF <span class="token operator">=</span> <span class="token number">212.0</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> f <span class="token operator">=</span> boilingF
    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">(</span>f <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">9</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;boiling point = %gÂ°F or %gÂ°C\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token comment">// Output:</span>
    <span class="token comment">// boiling point = 212Â°F or 100Â°C</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>%g </code>- general - æ ¹æ®æƒ…å†µé€‰æ‹© %e æˆ– %f ä»¥æä¾›æ›´ç´§å‡‘çš„è¾“å‡º</li><li><code>%e</code> - scientific notation, å³ç§‘å­¦è®¡æ•°æ³•; å®ƒå°†æµ®ç‚¹æ•°ä»¥ç§‘å­¦è®¡æ•°æ³•çš„å½¢å¼è¾“å‡º, ä¾‹å¦‚ 1.234567e+02 è¡¨ç¤º 123.4567</li><li><code>%f</code> - decimal floating-point notation, å³åè¿›åˆ¶æµ®ç‚¹æ•°; å®ƒå°†æµ®ç‚¹æ•°ä»¥æ™®é€šçš„åè¿›åˆ¶å½¢å¼è¾“å‡º, ä¾‹å¦‚ 123.4567</li></ul><p>å…¶ä¸­å¸¸é‡ boilingF æ˜¯åœ¨åŒ…ä¸€çº§èŒƒå›´å£°æ˜è¯­å¥å£°æ˜çš„, f å’Œ c ä¸¤ä¸ªå˜é‡æ˜¯åœ¨ main å‡½æ•°å†…éƒ¨å£°æ˜çš„</p><p>åœ¨åŒ…ä¸€çº§å£°æ˜çš„åå­—å¯åœ¨æ•´ä¸ªåŒ…å¯¹åº”çš„æ¯ä¸ªæºæ–‡ä»¶ä¸­è®¿é—®, è€Œä¸æ˜¯ä»…ä»…åœ¨å…¶å£°æ˜è¯­å¥æ‰€åœ¨çš„æºæ–‡ä»¶ä¸­è®¿é—®</p><p>ç›¸æ¯”ä¹‹ä¸‹, å±€éƒ¨å£°æ˜çš„åå­—å°±åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å¾ˆå°çš„èŒƒå›´è¢«è®¿é—®</p><hr><p>ä¸€ä¸ªå‡½æ•°çš„å£°æ˜ç”±ä¸€ä¸ªå‡½æ•°åå­—, å‚æ•°åˆ—è¡¨(ç”±å‡½æ•°çš„è°ƒç”¨è€…æä¾›å‚æ•°å˜é‡çš„å…·ä½“å€¼), ä¸€ä¸ªå¯é€‰çš„è¿”å›å€¼åˆ—è¡¨å’ŒåŒ…å«å‡½æ•°å®šä¹‰çš„å‡½æ•°ä½“ç»„æˆ</p><p>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼, é‚£ä¹ˆè¿”å›å€¼åˆ—è¡¨æ˜¯çœç•¥çš„</p><p>æ‰§è¡Œå‡½æ•°ä»å‡½æ•°çš„ç¬¬ä¸€ä¸ªè¯­å¥å¼€å§‹, ä¾æ¬¡é¡ºåºæ‰§è¡Œç›´åˆ°é‡åˆ° return è¿”å›è¯­å¥, å¦‚æœæ²¡æœ‰è¿”å›è¯­å¥åˆ™æ˜¯æ‰§è¡Œåˆ°å‡½æ•°æœ«å°¾, ç„¶åè¿”å›åˆ°å‡½æ•°è°ƒç”¨è€…</p><p>å‰é¢çš„ç« èŠ‚ä¸­æˆ‘ä»¬å·²ç»çœ‹åˆ°è¿‡å¾ˆå¤šå‡½æ•°å£°æ˜å’Œå‡½æ•°è°ƒç”¨çš„ä¾‹å­äº†, ä¹‹åä¼šåœ¨ç¬¬äº”ç« å°†æ·±å…¥è®¨è®ºå‡½æ•°çš„ç›¸å…³ç»†èŠ‚, è¿™é‡Œåªç®€å•è§£é‡Šä¸‹</p><p>ä¸‹é¢çš„ <code>fToC</code> å‡½æ•°å°è£…äº†æ¸©åº¦è½¬æ¢çš„å¤„ç†é€»è¾‘, è¿™æ ·å®ƒåªéœ€è¦è¢«å®šä¹‰ä¸€æ¬¡, å°±å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹å¤šæ¬¡è¢«ä½¿ç”¨</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­, main å‡½æ•°å°±è°ƒç”¨äº†ä¸¤æ¬¡ <code>fToC</code> å‡½æ•°, åˆ†åˆ«ä½¿ç”¨åœ¨å±€éƒ¨å®šä¹‰çš„ä¸¤ä¸ªå¸¸é‡ä½œä¸ºè°ƒç”¨å‡½æ•°çš„å‚æ•°</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Ftoc prints two Fahrenheit-to-Celsius conversions.</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> freezingF<span class="token punctuation">,</span> boilingF <span class="token operator">=</span> <span class="token number">32.0</span><span class="token punctuation">,</span> <span class="token number">212.0</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°F = %gÂ°C\n&quot;</span><span class="token punctuation">,</span> freezingF<span class="token punctuation">,</span> <span class="token function">fToC</span><span class="token punctuation">(</span>freezingF<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;32Â°F = 0Â°C&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°F = %gÂ°C\n&quot;</span><span class="token punctuation">,</span> boilingF<span class="token punctuation">,</span> <span class="token function">fToC</span><span class="token punctuation">(</span>boilingF<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// &quot;212Â°F = 100Â°C&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">fToC</span><span class="token punctuation">(</span>f <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>f <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">9</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403132337181.png" alt="image-20240313233701133"></p><hr><h2 id="ch2-3-å˜é‡" tabindex="-1"><a class="header-anchor" href="#ch2-3-å˜é‡"><span>CH2.3 å˜é‡</span></a></h2><blockquote><p><a href="https://golang-china.github.io/gopl-zh/ch2/ch2-03.html" target="_blank" rel="noopener noreferrer">å˜é‡ - Goè¯­è¨€åœ£ç» (golang-china.github.io)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>var å£°æ˜è¯­å¥å¯ä»¥åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„å˜é‡, ç„¶åç»™å˜é‡é™„åŠ ä¸€ä¸ªåå­—, å¹¶ä¸”è®¾ç½®å˜é‡çš„åˆå§‹å€¼</p><p>å˜é‡å£°æ˜çš„ä¸€èˆ¬è¯­æ³•å¦‚ä¸‹:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> å˜é‡åå­— ç±»å‹ <span class="token operator">=</span> è¡¨è¾¾å¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…¶ä¸­ <code>ç±»å‹</code> æˆ– <code>= è¡¨è¾¾å¼</code> ä¸¤ä¸ªéƒ¨åˆ†å¯ä»¥çœç•¥å…¶ä¸­çš„ä¸€ä¸ª</p><ul><li>å¦‚æœçœç•¥çš„æ˜¯ç±»å‹ä¿¡æ¯, é‚£ä¹ˆå°†æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼æ¥æ¨å¯¼å˜é‡çš„ç±»å‹ä¿¡æ¯</li><li>å¦‚æœåˆå§‹åŒ–è¡¨è¾¾å¼è¢«çœç•¥, é‚£ä¹ˆå°†ç”¨é›¶å€¼åˆå§‹åŒ–è¯¥å˜é‡ <ul><li>æ•°å€¼ç±»å‹å˜é‡å¯¹åº”çš„é›¶å€¼æ˜¯0</li><li>å¸ƒå°”ç±»å‹å˜é‡å¯¹åº”çš„é›¶å€¼æ˜¯false</li><li>å­—ç¬¦ä¸²ç±»å‹å¯¹åº”çš„é›¶å€¼æ˜¯ç©ºå­—ç¬¦ä¸²</li><li>æ¥å£æˆ–å¼•ç”¨ç±»å‹(åŒ…æ‹¬slice, æŒ‡é’ˆ, map, chanå’Œå‡½æ•°)å˜é‡å¯¹åº”çš„é›¶å€¼æ˜¯nil</li><li>æ•°ç»„æˆ–ç»“æ„ä½“ç­‰èšåˆç±»å‹å¯¹åº”çš„é›¶å€¼æ˜¯æ¯ä¸ªå…ƒç´ æˆ–å­—æ®µéƒ½æ˜¯å¯¹åº”è¯¥ç±»å‹çš„é›¶å€¼</li></ul></li></ul><p>é›¶å€¼åˆå§‹åŒ–æœºåˆ¶å¯ä»¥ç¡®ä¿æ¯ä¸ªå£°æ˜çš„å˜é‡æ€»æ˜¯æœ‰ä¸€ä¸ªè‰¯å¥½å®šä¹‰çš„å€¼, å› æ­¤ <strong>åœ¨Goè¯­è¨€ä¸­ä¸å­˜åœ¨æœªåˆå§‹åŒ–çš„å˜é‡</strong></p><p>è¿™ä¸ªç‰¹æ€§å¯ä»¥ç®€åŒ–å¾ˆå¤šä»£ç , è€Œä¸”å¯ä»¥åœ¨æ²¡æœ‰å¢åŠ é¢å¤–å·¥ä½œçš„å‰æä¸‹ç¡®ä¿è¾¹ç•Œæ¡ä»¶ä¸‹çš„åˆç†è¡Œä¸º; ä¾‹å¦‚:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> s <span class="token builtin">string</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// &quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç å°†æ‰“å°ä¸€ä¸ªç©ºå­—ç¬¦ä¸², è€Œä¸æ˜¯å¯¼è‡´é”™è¯¯æˆ–äº§ç”Ÿä¸å¯é¢„çŸ¥çš„è¡Œä¸º</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403132349697.png" alt="image-20240313234909670"></p><p>Goè¯­è¨€ç¨‹åºå‘˜åº”è¯¥è®©ä¸€äº›èšåˆç±»å‹çš„é›¶å€¼ä¹Ÿå…·æœ‰æ„ä¹‰, è¿™æ ·å¯ä»¥ä¿è¯ä¸ç®¡ä»»ä½•ç±»å‹çš„å˜é‡æ€»æ˜¯æœ‰ä¸€ä¸ªåˆç†æœ‰æ•ˆçš„é›¶å€¼çŠ¶æ€</p><hr><p>ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå£°æ˜è¯­å¥ä¸­åŒæ—¶å£°æ˜ä¸€ç»„å˜é‡, æˆ–ç”¨ä¸€ç»„åˆå§‹åŒ–è¡¨è¾¾å¼å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ç»„å˜é‡</p><p>å¦‚æœçœç•¥æ¯ä¸ªå˜é‡çš„ç±»å‹, å°†å¯ä»¥å£°æ˜å¤šä¸ªç±»å‹ä¸åŒçš„å˜é‡(ç±»å‹ç”±åˆå§‹åŒ–è¡¨è¾¾å¼æ¨å¯¼):</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token builtin">int</span>                 <span class="token comment">// int, int, int</span>
<span class="token keyword">var</span> b<span class="token punctuation">,</span> f<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">2.3</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span> <span class="token comment">// bool, float64, string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>åˆå§‹åŒ–è¡¨è¾¾å¼å¯ä»¥æ˜¯å­—é¢é‡æˆ–ä»»æ„çš„è¡¨è¾¾å¼; åœ¨åŒ…çº§åˆ«å£°æ˜çš„å˜é‡ä¼šåœ¨ main å…¥å£å‡½æ•°æ‰§è¡Œå‰å®Œæˆåˆå§‹åŒ–ï¼ˆÂ§2.6.2ï¼‰, å±€éƒ¨å˜é‡å°†åœ¨å£°æ˜è¯­å¥è¢«æ‰§è¡Œåˆ°çš„æ—¶å€™å®Œæˆåˆå§‹åŒ–</p><p>ä¸€ç»„å˜é‡ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ä¸€ä¸ªå‡½æ•°, ç”±å‡½æ•°è¿”å›çš„å¤šä¸ªè¿”å›å€¼åˆå§‹åŒ–:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> f<span class="token punctuation">,</span> err <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// os.Open returns a file and an error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h3 id="ch2-3-1-ç®€çŸ­å˜é‡å£°æ˜" tabindex="-1"><a class="header-anchor" href="#ch2-3-1-ç®€çŸ­å˜é‡å£°æ˜"><span>CH2.3.1 ç®€çŸ­å˜é‡å£°æ˜</span></a></h3><p>åœ¨å‡½æ•°å†…éƒ¨, æœ‰ä¸€ç§ç§°ä¸ºç®€çŸ­å˜é‡å£°æ˜è¯­å¥çš„å½¢å¼å¯ç”¨äºå£°æ˜å’Œåˆå§‹åŒ–å±€éƒ¨å˜é‡, å®ƒä»¥ <code>åå­— := è¡¨è¾¾å¼</code> å½¢å¼å£°æ˜å˜é‡, å˜é‡çš„ç±»å‹æ ¹æ®è¡¨è¾¾å¼æ¥è‡ªåŠ¨æ¨å¯¼</p><p>ä¸‹é¢æ˜¯ <code>lissajous</code> å‡½æ•°ä¸­çš„ä¸‰ä¸ªç®€çŸ­å˜é‡å£°æ˜è¯­å¥(<a class="route-link" href="/DailyNotes/Language/Go/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F/CH1-%E5%85%A5%E9%97%A8.html#ch1.4-GIF-%E5%8A%A8%E7%94%BB">Â§1.4</a>):</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>anim <span class="token operator">:=</span> gif<span class="token punctuation">.</span>GIF<span class="token punctuation">{</span>LoopCount<span class="token punctuation">:</span> nframes<span class="token punctuation">}</span>
freq <span class="token operator">:=</span> rand<span class="token punctuation">.</span><span class="token function">Float64</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3.0</span>
t <span class="token operator">:=</span> <span class="token number">0.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºç®€æ´å’Œçµæ´»çš„ç‰¹ç‚¹, ç®€çŸ­å˜é‡å£°æ˜è¢«å¹¿æ³›ç”¨äºå¤§éƒ¨åˆ†çš„å±€éƒ¨å˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–</p><p>var å½¢å¼çš„å£°æ˜è¯­å¥å¾€å¾€æ˜¯ç”¨äºéœ€è¦æ˜¾å¼æŒ‡å®šå˜é‡ç±»å‹çš„åœ°æ–¹, æˆ–è€…å› ä¸ºå˜é‡ç¨åä¼šè¢«é‡æ–°èµ‹å€¼è€Œåˆå§‹å€¼æ— å…³ç´§è¦çš„åœ°æ–¹</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>i <span class="token operator">:=</span> <span class="token number">100</span>                  <span class="token comment">// an int</span>
<span class="token keyword">var</span> boiling <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">// a float64</span>
<span class="token keyword">var</span> names <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token keyword">var</span> err <span class="token builtin">error</span>
<span class="token keyword">var</span> p Point
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å’Œ var å½¢å¼å£°æ˜è¯­å¥ä¸€æ ·, ç®€çŸ­å˜é‡å£°æ˜è¯­å¥ä¹Ÿå¯ä»¥ç”¨æ¥å£°æ˜å’Œåˆå§‹åŒ–ä¸€ç»„å˜é‡:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>i<span class="token punctuation">,</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½†æ˜¯è¿™ç§åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡çš„æ–¹å¼åº”è¯¥é™åˆ¶åªåœ¨å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§çš„åœ°æ–¹ä½¿ç”¨, æ¯”å¦‚ for è¯­å¥çš„å¾ªç¯çš„åˆå§‹åŒ–è¯­å¥éƒ¨åˆ†</p><hr><p>è¯·è®°ä½ <strong><code>:=</code> æ˜¯ä¸€ä¸ªå˜é‡å£°æ˜è¯­å¥</strong>, è€Œ <strong><code>=</code> æ˜¯ä¸€ä¸ªå˜é‡èµ‹å€¼æ“ä½œ</strong>;</p><p>ä¹Ÿä¸è¦æ··æ·†å¤šä¸ªå˜é‡çš„å£°æ˜å’Œå…ƒç»„çš„å¤šé‡èµ‹å€¼(Â§2.4.1), åè€…æ˜¯å°†å³è¾¹å„ä¸ªè¡¨è¾¾å¼çš„å€¼èµ‹å€¼ç»™å·¦è¾¹å¯¹åº”ä½ç½®çš„å„ä¸ªå˜é‡:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>i<span class="token punctuation">,</span> j <span class="token operator">=</span> j<span class="token punctuation">,</span> i <span class="token comment">// äº¤æ¢ i å’Œ j çš„å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>å’Œæ™®é€š var å½¢å¼çš„å˜é‡å£°æ˜è¯­å¥ä¸€æ ·, ç®€çŸ­å˜é‡å£°æ˜è¯­å¥ä¹Ÿå¯ä»¥ç”¨å‡½æ•°çš„è¿”å›å€¼æ¥å£°æ˜å’Œåˆå§‹åŒ–å˜é‡, åƒä¸‹é¢çš„<code>os.Open</code> å‡½æ•°è°ƒç”¨å°†è¿”å›ä¸¤ä¸ªå€¼:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span>
<span class="token comment">// ...use f...</span>
f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¾®å¦™çš„åœ°æ–¹: ç®€çŸ­å˜é‡å£°æ˜å·¦è¾¹çš„å˜é‡å¯èƒ½å¹¶ä¸æ˜¯å…¨éƒ¨éƒ½æ˜¯åˆšåˆšå£°æ˜çš„</p><p>å¦‚æœæœ‰ä¸€äº›å·²ç»åœ¨ç›¸åŒçš„è¯æ³•åŸŸå£°æ˜è¿‡äº†(Â§2.7), é‚£ä¹ˆç®€çŸ­å˜é‡å£°æ˜è¯­å¥å¯¹è¿™äº›å·²ç»å£°æ˜è¿‡çš„å˜é‡å°±åªæœ‰èµ‹å€¼è¡Œä¸ºäº†</p><blockquote><p>å¯¹äºå·²å£°æ˜çš„å˜é‡, å•ç‹¬ä½¿ç”¨ <code>:=</code> ä¼šæŠ¥é”™ <code>&quot;no new variables on left side of :=&quot;</code></p><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨ = èµ‹å€¼</p></blockquote><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­, ç¬¬ä¸€ä¸ªè¯­å¥å£°æ˜äº† <code>in</code> å’Œ <code>err</code> ä¸¤ä¸ªå˜é‡, åœ¨ç¬¬äºŒä¸ªè¯­å¥åªå£°æ˜äº† <code>out</code> ä¸€ä¸ªå˜é‡, ç„¶åå¯¹å·²ç»å£°æ˜çš„ <code>err</code> è¿›è¡Œäº†èµ‹å€¼æ“ä½œ</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>in<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>infile<span class="token punctuation">)</span>
<span class="token comment">// ...</span>
out<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>outfile<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€çŸ­å˜é‡å£°æ˜è¯­å¥ä¸­å¿…é¡»è‡³å°‘è¦å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡, ä¸‹é¢çš„ä»£ç å°†ä¸èƒ½ç¼–è¯‘é€šè¿‡:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>infile<span class="token punctuation">)</span>
<span class="token comment">// ...</span>
f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>outfile<span class="token punctuation">)</span> <span class="token comment">// compile error: no new variables</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140018336.png" alt="image-20240314001823305"></p><p>è§£å†³çš„æ–¹æ³•æ˜¯ç¬¬äºŒä¸ªç®€çŸ­å˜é‡å£°æ˜è¯­å¥æ”¹ç”¨æ™®é€šçš„å¤šé‡èµ‹å€¼è¯­å¥</p><p>ç®€çŸ­å˜é‡å£°æ˜è¯­å¥åªæœ‰å¯¹å·²ç»åœ¨åŒçº§è¯æ³•åŸŸå£°æ˜è¿‡çš„å˜é‡æ‰å’Œèµ‹å€¼æ“ä½œè¯­å¥ç­‰ä»·, å¦‚æœå˜é‡æ˜¯åœ¨å¤–éƒ¨è¯æ³•åŸŸå£°æ˜çš„, é‚£ä¹ˆç®€çŸ­å˜é‡å£°æ˜è¯­å¥å°†ä¼šåœ¨å½“å‰è¯æ³•åŸŸé‡æ–°å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡, æˆ‘ä»¬åœ¨æœ¬ç« åé¢å°†ä¼šçœ‹åˆ°ç±»ä¼¼çš„ä¾‹å­</p><hr><h3 id="ch2-3-2-æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#ch2-3-2-æŒ‡é’ˆ"><span>CH2.3.2 æŒ‡é’ˆ</span></a></h3><p>ä¸€ä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªä¿å­˜äº†å˜é‡å¯¹åº”ç±»å‹å€¼çš„å†…å­˜ç©ºé—´; æ™®é€šå˜é‡åœ¨å£°æ˜è¯­å¥åˆ›å»ºæ—¶è¢«ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡å, æ¯”å¦‚å« x çš„å˜é‡, ä½†æ˜¯è¿˜æœ‰å¾ˆå¤šå˜é‡å§‹ç»ˆä»¥è¡¨è¾¾å¼æ–¹å¼å¼•å…¥, ä¾‹å¦‚ <code>x[i]</code> æˆ– <code>x.f</code> å˜é‡; æ‰€æœ‰è¿™äº›è¡¨è¾¾å¼ä¸€èˆ¬éƒ½æ˜¯è¯»å–ä¸€ä¸ªå˜é‡çš„å€¼, é™¤éå®ƒä»¬æ˜¯å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å·¦è¾¹, è¿™ç§æ—¶å€™æ˜¯ç»™å¯¹åº”å˜é‡èµ‹äºˆä¸€ä¸ªæ–°çš„å€¼</p><p>ä¸€ä¸ªæŒ‡é’ˆçš„å€¼æ˜¯å¦ä¸€ä¸ªå˜é‡çš„åœ°å€; ä¸€ä¸ªæŒ‡é’ˆå¯¹åº”å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä½ç½®;</p><p>å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªå€¼éƒ½ä¼šæœ‰ä¸€ä¸ªå†…å­˜åœ°å€, ä½†æ˜¯å¯¹äºæ¯ä¸€ä¸ªå˜é‡å¿…ç„¶æœ‰å¯¹åº”çš„å†…å­˜åœ°å€;</p><p>é€šè¿‡æŒ‡é’ˆ, æˆ‘ä»¬å¯ä»¥ç›´æ¥è¯»æˆ–æ›´æ–°å¯¹åº”å˜é‡çš„å€¼, è€Œä¸éœ€è¦çŸ¥é“è¯¥å˜é‡çš„åå­—(å¦‚æœå˜é‡æœ‰åå­—çš„è¯)</p><p>å¦‚æœç”¨ <code>var x int</code> å£°æ˜è¯­å¥å£°æ˜ä¸€ä¸ª x å˜é‡ï¼Œé‚£ä¹ˆ <code>&amp;x</code> è¡¨è¾¾å¼ï¼ˆå– x å˜é‡çš„å†…å­˜åœ°å€ï¼‰å°†äº§ç”Ÿä¸€ä¸ªæŒ‡å‘è¯¥æ•´æ•°å˜é‡çš„æŒ‡é’ˆ, æŒ‡é’ˆå¯¹åº”çš„æ•°æ®ç±»å‹æ˜¯ <code>*int</code>, æŒ‡é’ˆè¢«ç§°ä¹‹ä¸º &quot;æŒ‡å‘intç±»å‹çš„æŒ‡é’ˆ&quot;;</p><p>å¦‚æœæŒ‡é’ˆåå­—ä¸º p, é‚£ä¹ˆå¯ä»¥è¯´ &quot;pæŒ‡é’ˆæŒ‡å‘å˜é‡x&quot;, æˆ–è€…è¯´ &quot;pæŒ‡é’ˆä¿å­˜äº†xå˜é‡çš„å†…å­˜åœ°å€&quot;</p><p>åŒæ—¶<code>*p</code>è¡¨è¾¾å¼å¯¹åº” p æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼; ä¸€èˆ¬<code>*p</code>è¡¨è¾¾å¼è¯»å–æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼, è¿™é‡Œä¸º int ç±»å‹çš„å€¼, åŒæ—¶å› ä¸º<code>*p</code>å¯¹åº”ä¸€ä¸ªå˜é‡, æ‰€ä»¥è¯¥è¡¨è¾¾å¼ä¹Ÿå¯ä»¥å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å·¦è¾¹, è¡¨ç¤ºæ›´æ–°æŒ‡é’ˆæ‰€æŒ‡å‘çš„å˜é‡çš„å€¼</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>x <span class="token operator">:=</span> <span class="token number">1</span>
p <span class="token operator">:=</span> <span class="token operator">&amp;</span>x         <span class="token comment">// p, of type *int, points to x</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">// &quot;1&quot;</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">2</span>          <span class="token comment">// equivalent to x = 2</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// &quot;2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140025031.png" alt="image-20240314002527986"></p><hr><p>å¯¹äºèšåˆç±»å‹æ¯ä¸ªæˆå‘˜â€”â€”æ¯”å¦‚ç»“æ„ä½“çš„æ¯ä¸ªå­—æ®µ, æˆ–è€…æ˜¯æ•°ç»„çš„æ¯ä¸ªå…ƒç´ â€”â€”ä¹Ÿéƒ½æ˜¯å¯¹åº”ä¸€ä¸ªå˜é‡, å› æ­¤å¯ä»¥è¢«å–åœ°å€</p><p>å˜é‡æœ‰æ—¶å€™è¢«ç§°ä¸ºå¯å¯»å€çš„å€¼; å³ä½¿å˜é‡ç”±è¡¨è¾¾å¼ä¸´æ—¶ç”Ÿæˆ, é‚£ä¹ˆè¡¨è¾¾å¼ä¹Ÿå¿…é¡»èƒ½æ¥å—<code>&amp;</code>å–åœ°å€æ“ä½œ</p><p>ä»»ä½•ç±»å‹çš„æŒ‡é’ˆçš„é›¶å€¼éƒ½æ˜¯nil; å¦‚æœpæŒ‡å‘æŸä¸ªæœ‰æ•ˆå˜é‡, é‚£ä¹ˆ<code>p != nil</code>æµ‹è¯•ä¸ºçœŸ</p><p>æŒ‡é’ˆä¹‹é—´ä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œç›¸ç­‰æµ‹è¯•çš„, åªæœ‰å½“å®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªå˜é‡æˆ–å…¨éƒ¨æ˜¯nilæ—¶æ‰ç›¸ç­‰</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> x<span class="token punctuation">,</span> y <span class="token builtin">int</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x <span class="token operator">==</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>x <span class="token operator">==</span> <span class="token operator">&amp;</span>y<span class="token punctuation">,</span> <span class="token operator">&amp;</span>x <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// &quot;true false false&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140030991.png" alt="image-20240314003033951"></p><hr><p>åœ¨Goè¯­è¨€ä¸­, è¿”å›å‡½æ•°ä¸­å±€éƒ¨å˜é‡çš„åœ°å€ä¹Ÿæ˜¯å®‰å…¨çš„</p><p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç , è°ƒç”¨ f å‡½æ•°æ—¶åˆ›å»ºå±€éƒ¨å˜é‡ v, åœ¨å±€éƒ¨å˜é‡åœ°å€è¢«è¿”å›ä¹‹åä¾ç„¶æœ‰æ•ˆ, å› ä¸ºæŒ‡é’ˆ p ä¾ç„¶å¼•ç”¨è¿™ä¸ªå˜é‡:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    v <span class="token operator">:=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>v
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯æ¬¡è°ƒç”¨få‡½æ•°éƒ½å°†è¿”å›ä¸åŒçš„ç»“æœ:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;false&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140035557.png" alt="image-20240314003528522"></p><blockquote><p>è¿™é‡Œçš„è­¦å‘Šéƒ½æ˜¯æç¤ºä¸è¦åœ¨ <code>==</code> ä¸¤è¾¹æ”¾ç›¸åŒçš„å­—æ ·, å› ä¸ºä¸€èˆ¬è¿™æ˜¯ true æ˜¯æ²¡æ„ä¹‰çš„, ä¸è¿‡è¿™é‡Œæ˜¾ç„¶å¹¶éå¦‚æ­¤, å› æ­¤å¿½ç•¥è­¦å‘Šå³å¯~</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140035359.png" alt="image-20240314003540326"></p></blockquote><hr><p>å› ä¸ºæŒ‡é’ˆåŒ…å«äº†ä¸€ä¸ªå˜é‡çš„åœ°å€, å› æ­¤å¦‚æœå°†æŒ‡é’ˆä½œä¸ºå‚æ•°è°ƒç”¨å‡½æ•°, é‚£å°†å¯ä»¥åœ¨å‡½æ•°ä¸­é€šè¿‡è¯¥æŒ‡é’ˆæ¥æ›´æ–°å˜é‡çš„å€¼</p><p>ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­å°±æ˜¯é€šè¿‡æŒ‡é’ˆæ¥æ›´æ–°å˜é‡çš„å€¼, ç„¶åè¿”å›æ›´æ–°åçš„å€¼, å¯ç”¨åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­</p><blockquote><p>è¯‘æ³¨ï¼šè¿™æ˜¯å¯¹Cè¯­è¨€ä¸­<code>++v</code>æ“ä½œçš„æ¨¡æ‹Ÿ, è¿™é‡Œåªæ˜¯ä¸ºäº†è¯´æ˜æŒ‡é’ˆçš„ç”¨æ³•, <code>incr</code>å‡½æ•°æ¨¡æ‹Ÿçš„åšæ³•å¹¶ä¸æ¨è</p></blockquote><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">incr</span><span class="token punctuation">(</span>p <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>p<span class="token operator">++</span> <span class="token comment">// éå¸¸é‡è¦ï¼šåªæ˜¯å¢åŠ pæŒ‡å‘çš„å˜é‡çš„å€¼ï¼Œå¹¶ä¸æ”¹å˜pæŒ‡é’ˆï¼ï¼ï¼</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>p
<span class="token punctuation">}</span>

v <span class="token operator">:=</span> <span class="token number">1</span>
<span class="token function">incr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span>              <span class="token comment">// side effect: v is now 2</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">incr</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;3&quot; (and v is 3)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140040377.png" alt="image-20240314004028336"></p><hr><p>æ¯æ¬¡æˆ‘ä»¬å¯¹ä¸€ä¸ªå˜é‡å–åœ°å€, æˆ–è€…å¤åˆ¶æŒ‡é’ˆ, æˆ‘ä»¬éƒ½æ˜¯ä¸ºåŸå˜é‡åˆ›å»ºäº†æ–°çš„åˆ«å, ä¾‹å¦‚, <code>*p</code>å°±æ˜¯å˜é‡ v çš„åˆ«å</p><p>æŒ‡é’ˆç‰¹åˆ«æœ‰ä»·å€¼çš„åœ°æ–¹åœ¨äºæˆ‘ä»¬å¯ä»¥ä¸ç”¨åå­—è€Œè®¿é—®ä¸€ä¸ªå˜é‡, ä½†æ˜¯è¿™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘: è¦æ‰¾åˆ°ä¸€ä¸ªå˜é‡çš„æ‰€æœ‰è®¿é—®è€…å¹¶ä¸å®¹æ˜“, æˆ‘ä»¬å¿…é¡»çŸ¥é“å˜é‡å…¨éƒ¨çš„åˆ«å(è¯‘æ³¨ï¼šè¿™æ˜¯Goè¯­è¨€çš„åƒåœ¾å›æ”¶å™¨æ‰€åšçš„å·¥ä½œ)</p><p>ä¸ä»…ä»…æ˜¯æŒ‡é’ˆä¼šåˆ›å»ºåˆ«å, å¾ˆå¤šå…¶ä»–å¼•ç”¨ç±»å‹ä¹Ÿä¼šåˆ›å»ºåˆ«å, ä¾‹å¦‚ slice, map å’Œ chan, ç”šè‡³ç»“æ„ä½“, æ•°ç»„å’Œæ¥å£éƒ½ä¼šåˆ›å»ºæ‰€å¼•ç”¨å˜é‡çš„åˆ«å</p><p>æŒ‡é’ˆæ˜¯å®ç°æ ‡å‡†åº“ä¸­ flag åŒ…çš„å…³é”®æŠ€æœ¯, å®ƒä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æ¥è®¾ç½®å¯¹åº”å˜é‡çš„å€¼, è€Œè¿™äº›å¯¹åº”å‘½ä»¤è¡Œæ ‡å¿—å‚æ•°çš„å˜é‡å¯èƒ½ä¼šé›¶æ•£åˆ†å¸ƒåœ¨æ•´ä¸ªç¨‹åºä¸­</p><p>ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹, åœ¨æ—©äº›çš„echoç‰ˆæœ¬ä¸­, å°±åŒ…å«äº†ä¸¤ä¸ªå¯é€‰çš„å‘½ä»¤è¡Œå‚æ•°</p><ul><li><code>-n</code>ç”¨äºå¿½ç•¥è¡Œå°¾çš„æ¢è¡Œç¬¦</li><li><code>-s sep</code>ç”¨äºæŒ‡å®šåˆ†éš”å­—ç¬¦(é»˜è®¤æ˜¯ç©ºæ ¼)</li></ul><p>ä¸‹é¢è¿™æ˜¯ç¬¬å››ä¸ªç‰ˆæœ¬, å¯¹åº”åŒ…è·¯å¾„ä¸º <code>gopl.io/ch2/echo4</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Echo4 prints its command-line arguments.</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;flag&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> n <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&quot;omit trailing newline&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> sep <span class="token operator">=</span> flag<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;separator&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    flag<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span><span class="token function">Args</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>sep<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">!</span><span class="token operator">*</span>n <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨ <code>flag.Bool</code> å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹åº”å¸ƒå°”å‹æ ‡å¿—å‚æ•°çš„å˜é‡, å®ƒæœ‰ä¸‰ä¸ªå±æ€§</p><ul><li><p>ç¬¬ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œæ ‡å¿—å‚æ•°çš„åå­— <code>n</code></p></li><li><p>ç„¶åæ˜¯è¯¥æ ‡å¿—å‚æ•°çš„é»˜è®¤å€¼(è¿™é‡Œæ˜¯false)</p></li><li><p>æœ€åæ˜¯è¯¥æ ‡å¿—å‚æ•°å¯¹åº”çš„æè¿°ä¿¡æ¯</p><p>å¦‚æœç”¨æˆ·åœ¨å‘½ä»¤è¡Œè¾“å…¥äº†ä¸€ä¸ªæ— æ•ˆçš„æ ‡å¿—å‚æ•°, æˆ–è€…è¾“å…¥<code>-h</code>æˆ–<code>-help</code>å‚æ•°, é‚£ä¹ˆå°†æ‰“å°æ‰€æœ‰æ ‡å¿—å‚æ•°çš„åå­—, é»˜è®¤å€¼å’Œæè¿°ä¿¡æ¯</p></li></ul><p>ç±»ä¼¼çš„, è°ƒç”¨ <code>flag.String</code> å‡½æ•°å°†åˆ›å»ºä¸€ä¸ªå¯¹åº”å­—ç¬¦ä¸²ç±»å‹çš„æ ‡å¿—å‚æ•°å˜é‡, åŒæ ·åŒ…å«å‘½ä»¤è¡Œæ ‡å¿—å‚æ•°å¯¹åº”çš„å‚æ•°å, é»˜è®¤å€¼å’Œæè¿°ä¿¡æ¯</p><p>ç¨‹åºä¸­çš„<code>sep</code>å’Œ<code>n</code>å˜é‡åˆ†åˆ«æ˜¯æŒ‡å‘å¯¹åº”å‘½ä»¤è¡Œæ ‡å¿—å‚æ•°å˜é‡çš„æŒ‡é’ˆ, å› æ­¤å¿…é¡»ç”¨<code>*sep</code>å’Œ<code>*n</code>å½¢å¼çš„æŒ‡é’ˆè¯­æ³•é—´æ¥å¼•ç”¨å®ƒä»¬</p><p>å½“ç¨‹åºè¿è¡Œæ—¶, å¿…é¡»åœ¨ä½¿ç”¨æ ‡å¿—å‚æ•°å¯¹åº”çš„å˜é‡ä¹‹å‰å…ˆè°ƒç”¨ <code>flag.Parse</code> å‡½æ•°, ç”¨äºæ›´æ–°æ¯ä¸ªæ ‡å¿—å‚æ•°å¯¹åº”å˜é‡çš„å€¼(ä¹‹å‰æ˜¯é»˜è®¤å€¼)</p><p>å¯¹äºéæ ‡å¿—å‚æ•°çš„æ™®é€šå‘½ä»¤è¡Œå‚æ•°å¯ä»¥é€šè¿‡è°ƒç”¨ <code>flag.Args()</code> å‡½æ•°æ¥è®¿é—®; è¿”å›å€¼å¯¹åº”ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ <code>slice</code></p><p>å¦‚æœåœ¨ <code>flag.Parse</code> å‡½æ•°è§£æå‘½ä»¤è¡Œå‚æ•°æ—¶é‡åˆ°é”™è¯¯, é»˜è®¤å°†æ‰“å°ç›¸å…³çš„æç¤ºä¿¡æ¯, ç„¶åè°ƒç”¨ <code>os.Exit(2)</code> ç»ˆæ­¢ç¨‹åº</p><p>è®©æˆ‘ä»¬è¿è¡Œä¸€äº›echoæµ‹è¯•ç”¨ä¾‹:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140103927.png" alt="image-20240314010345408"></p><blockquote><p>è¿™æ ·å¯èƒ½çœ‹ä¸å¤ªå‡ºæ¥ <code>-n</code> çš„ä½œç”¨, é‚£ä¹ˆå¤šè¾“å‡ºå‡ ä¸ªç©ºè¡Œçœ‹çœ‹</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140105594.png" alt="image-20240314010558559"></p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140106024.png" alt="image-20240314010608870"></p><p>é»˜è®¤ä¸çœç•¥æ¢è¡Œç¬¦, ä¼šæ‰“å°3ä¸ªæ¢è¡Œ; ä½¿ç”¨ <code>-n</code> æ—¶çœç•¥æ¢è¡Œç¬¦</p></blockquote><hr><h3 id="_2-3-3-new-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_2-3-3-new-å‡½æ•°"><span>2.3.3 new å‡½æ•°</span></a></h3><p>å¦ä¸€ä¸ªåˆ›å»ºå˜é‡çš„æ–¹æ³•æ˜¯è°ƒç”¨å†…å»ºçš„ new å‡½æ•°</p><p>è¡¨è¾¾å¼ <code>new(T)</code> å°†åˆ›å»ºä¸€ä¸ª T ç±»å‹çš„åŒ¿åå˜é‡, åˆå§‹åŒ–ä¸º T ç±»å‹çš„é›¶å€¼, ç„¶åè¿”å›å˜é‡åœ°å€, è¿”å›çš„æŒ‡é’ˆç±»å‹ä¸º<code>*T</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>p <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>   <span class="token comment">// p, *int ç±»å‹, æŒ‡å‘åŒ¿åçš„ int å˜é‡</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">// &quot;0&quot;</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">2</span>          <span class="token comment">// è®¾ç½® int åŒ¿åå˜é‡çš„å€¼ä¸º 2</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token comment">// &quot;2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403140108854.png" alt="image-20240314010840816"></p><p>ç”¨ new åˆ›å»ºå˜é‡å’Œæ™®é€šå˜é‡å£°æ˜è¯­å¥æ–¹å¼åˆ›å»ºå˜é‡æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«, é™¤äº†ä¸éœ€è¦å£°æ˜ä¸€ä¸ªä¸´æ—¶å˜é‡çš„åå­—å¤–, æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨ new(T); æ¢è¨€ä¹‹, new å‡½æ•°ç±»ä¼¼æ˜¯ä¸€ç§è¯­æ³•ç³–, è€Œä¸æ˜¯ä¸€ä¸ªæ–°çš„åŸºç¡€æ¦‚å¿µ</p><p>ä¸‹é¢çš„ä¸¤ä¸ª <code>newInt</code> å‡½æ•°æœ‰ç€ç›¸åŒçš„è¡Œä¸º:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">newInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> dummy <span class="token builtin">int</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>dummy
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯æ¬¡è°ƒç”¨ new å‡½æ•°éƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å˜é‡çš„åœ°å€, å› æ­¤ä¸‹é¢ä¸¤ä¸ªåœ°å€æ˜¯ä¸åŒçš„:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>p <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
q <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p <span class="token operator">==</span> q<span class="token punctuation">)</span> <span class="token comment">// &quot;false&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ä¹Ÿå¯èƒ½æœ‰ç‰¹æ®Šæƒ…å†µ: å¦‚æœä¸¤ä¸ªç±»å‹éƒ½æ˜¯ç©ºçš„, ä¹Ÿå°±æ˜¯è¯´ç±»å‹çš„å¤§å°æ˜¯ 0, ä¾‹å¦‚<code>struct{}</code>å’Œ<code>[0]int</code>, æœ‰å¯èƒ½æœ‰ç›¸åŒçš„åœ°å€(ä¾èµ–å…·ä½“çš„è¯­è¨€å®ç°)</p><blockquote><p>è¯‘æ³¨ï¼šè¯·è°¨æ…ä½¿ç”¨å¤§å°ä¸º0çš„ç±»å‹, å› ä¸ºå¦‚æœç±»å‹çš„å¤§å°ä¸º 0 çš„è¯, å¯èƒ½å¯¼è‡´ Go è¯­è¨€çš„è‡ªåŠ¨åƒåœ¾å›æ”¶å™¨æœ‰ä¸åŒçš„è¡Œä¸º, å…·ä½“è¯·æŸ¥çœ‹<code>runtime.SetFinalizer</code>å‡½æ•°ç›¸å…³æ–‡æ¡£</p></blockquote><hr><p>new å‡½æ•°ä½¿ç”¨é€šå¸¸ç›¸å¯¹æ¯”è¾ƒå°‘, å› ä¸ºå¯¹äºç»“æ„ä½“æ¥è¯´, ç›´æ¥ç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºæ–°å˜é‡çš„æ–¹æ³•ä¼šæ›´çµæ´»(Â§4.4.1)</p><hr><p>ç”±äº new åªæ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„å‡½æ•°, å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå…³é”®å­—, å› æ­¤æˆ‘ä»¬å¯ä»¥å°† new åå­—é‡æ–°å®šä¹‰ä¸ºåˆ«çš„ç±»å‹</p><p>ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">delta</span><span class="token punctuation">(</span>old<span class="token punctuation">,</span> <span class="token builtin">new</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token builtin">new</span> <span class="token operator">-</span> old <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”±äº new è¢«å®šä¹‰ä¸º int ç±»å‹çš„å˜é‡å, å› æ­¤åœ¨ delta å‡½æ•°å†…éƒ¨æ˜¯æ— æ³•ä½¿ç”¨å†…ç½®çš„ new å‡½æ•°çš„</p><hr><h3 id="_2-3-4-å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_2-3-4-å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ"><span>2.3.4 å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</span></a></h3><p>å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæŒ‡çš„æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å˜é‡æœ‰æ•ˆå­˜åœ¨çš„æ—¶é—´æ®µ</p><p>å¯¹äºåœ¨åŒ…ä¸€çº§å£°æ˜çš„å˜é‡æ¥è¯´, å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸå’Œæ•´ä¸ªç¨‹åºçš„è¿è¡Œå‘¨æœŸæ˜¯ä¸€è‡´çš„</p><p>è€Œç›¸æ¯”ä¹‹ä¸‹, å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸåˆ™æ˜¯åŠ¨æ€çš„: æ¯æ¬¡ä»åˆ›å»ºä¸€ä¸ªæ–°å˜é‡çš„å£°æ˜è¯­å¥å¼€å§‹, ç›´åˆ°è¯¥å˜é‡ä¸å†è¢«å¼•ç”¨ä¸ºæ­¢, ç„¶åå˜é‡çš„å­˜å‚¨ç©ºé—´å¯èƒ½è¢«å›æ”¶; å‡½æ•°çš„å‚æ•°å˜é‡å’Œè¿”å›å€¼å˜é‡éƒ½æ˜¯å±€éƒ¨å˜é‡, å®ƒä»¬åœ¨å‡½æ•°æ¯æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™åˆ›å»º</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä» 1.4 èŠ‚çš„ Lissajous ç¨‹åºæ‘˜å½•çš„ä»£ç ç‰‡æ®µ:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">for</span> t <span class="token operator">:=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> cycles<span class="token operator">*</span><span class="token number">2</span><span class="token operator">*</span>math<span class="token punctuation">.</span>Pi<span class="token punctuation">;</span> t <span class="token operator">+=</span> res <span class="token punctuation">{</span>
    x <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    y <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>t<span class="token operator">*</span>freq <span class="token operator">+</span> phase<span class="token punctuation">)</span>
    img<span class="token punctuation">.</span><span class="token function">SetColorIndex</span><span class="token punctuation">(</span>size<span class="token operator">+</span><span class="token function">int</span><span class="token punctuation">(</span>x<span class="token operator">*</span>size<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size<span class="token operator">+</span><span class="token function">int</span><span class="token punctuation">(</span>y<span class="token operator">*</span>size<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        blackIndex<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¯‘æ³¨: å‡½æ•°çš„å³å°æ‹¬å¼§ä¹Ÿå¯ä»¥å¦èµ·ä¸€è¡Œç¼©è¿›, åŒæ—¶ä¸ºäº†é˜²æ­¢ç¼–è¯‘å™¨åœ¨è¡Œå°¾è‡ªåŠ¨æ’å…¥åˆ†å·è€Œå¯¼è‡´çš„ç¼–è¯‘é”™è¯¯, å¯ä»¥åœ¨æœ«å°¾çš„å‚æ•°å˜é‡åé¢æ˜¾å¼æ’å…¥é€—å·</p><p>åƒä¸‹é¢è¿™æ ·:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">for</span> t <span class="token operator">:=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> cycles<span class="token operator">*</span><span class="token number">2</span><span class="token operator">*</span>math<span class="token punctuation">.</span>Pi<span class="token punctuation">;</span> t <span class="token operator">+=</span> res <span class="token punctuation">{</span>
    x <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    y <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sin</span><span class="token punctuation">(</span>t<span class="token operator">*</span>freq <span class="token operator">+</span> phase<span class="token punctuation">)</span>
    img<span class="token punctuation">.</span><span class="token function">SetColorIndex</span><span class="token punctuation">(</span>
        size<span class="token operator">+</span><span class="token function">int</span><span class="token punctuation">(</span>x<span class="token operator">*</span>size<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size<span class="token operator">+</span><span class="token function">int</span><span class="token punctuation">(</span>y<span class="token operator">*</span>size<span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        blackIndex<span class="token punctuation">,</span> <span class="token comment">// æœ€åæ’å…¥çš„é€—å·ä¸ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œè¿™æ˜¯Goç¼–è¯‘å™¨çš„ä¸€ä¸ªç‰¹æ€§</span>
    <span class="token punctuation">)</span>               <span class="token comment">// å°æ‹¬å¼§å¦èµ·ä¸€è¡Œç¼©è¿›ï¼Œå’Œå¤§æ‹¬å¼§çš„é£æ ¼ä¿å­˜ä¸€è‡´</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>åœ¨æ¯æ¬¡å¾ªç¯çš„å¼€å§‹ä¼šåˆ›å»ºä¸´æ—¶å˜é‡ t, ç„¶ååœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ä¸­åˆ›å»ºä¸´æ—¶å˜é‡ x å’Œ y</p><p>é‚£ä¹ˆGoè¯­è¨€çš„è‡ªåŠ¨åƒåœ¾æ”¶é›†å™¨æ˜¯å¦‚ä½•çŸ¥é“ä¸€ä¸ªå˜é‡æ˜¯ä½•æ—¶å¯ä»¥è¢«å›æ”¶çš„å‘¢? è¿™é‡Œæˆ‘ä»¬å¯ä»¥é¿å¼€å®Œæ•´çš„æŠ€æœ¯ç»†èŠ‚, åŸºæœ¬çš„å®ç°æ€è·¯æ˜¯: ä»æ¯ä¸ªåŒ…çº§çš„å˜é‡å’Œæ¯ä¸ªå½“å‰è¿è¡Œå‡½æ•°çš„æ¯ä¸€ä¸ªå±€éƒ¨å˜é‡å¼€å§‹, é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨çš„è®¿é—®è·¯å¾„éå†, æ˜¯å¦å¯ä»¥æ‰¾åˆ°è¯¥å˜é‡; å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è®¿é—®è·¯å¾„, é‚£ä¹ˆè¯´æ˜è¯¥å˜é‡æ˜¯ä¸å¯è¾¾çš„, ä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯å¦å­˜åœ¨å¹¶ä¸ä¼šå½±å“ç¨‹åºåç»­çš„è®¡ç®—ç»“æœ</p><p>å› ä¸ºä¸€ä¸ªå˜é‡çš„æœ‰æ•ˆå‘¨æœŸåªå–å†³äºæ˜¯å¦å¯è¾¾, å› æ­¤ä¸€ä¸ªå¾ªç¯è¿­ä»£å†…éƒ¨çš„å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå¯èƒ½è¶…å‡ºå…¶å±€éƒ¨ä½œç”¨åŸŸ; åŒæ—¶, å±€éƒ¨å˜é‡å¯èƒ½åœ¨å‡½æ•°è¿”å›ä¹‹åä¾ç„¶å­˜åœ¨</p><p>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨é€‰æ‹©åœ¨æ ˆä¸Šè¿˜æ˜¯åœ¨å †ä¸Šåˆ†é…å±€éƒ¨å˜é‡çš„å­˜å‚¨ç©ºé—´, ä½†å¯èƒ½ä»¤äººæƒŠè®¶çš„æ˜¯, è¿™ä¸ªé€‰æ‹©å¹¶ä¸æ˜¯ç”±ç”¨ var è¿˜æ˜¯ new å£°æ˜å˜é‡çš„æ–¹å¼å†³å®šçš„</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> global <span class="token operator">*</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token builtin">int</span>
    x <span class="token operator">=</span> <span class="token number">1</span>
    global <span class="token operator">=</span> <span class="token operator">&amp;</span>x
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token operator">*</span>y <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>f å‡½æ•°é‡Œçš„ x å˜é‡å¿…é¡»åœ¨å †ä¸Šåˆ†é…, å› ä¸ºå®ƒåœ¨å‡½æ•°é€€å‡ºåä¾ç„¶å¯ä»¥é€šè¿‡åŒ…ä¸€çº§çš„ global å˜é‡æ‰¾åˆ°, è™½ç„¶å®ƒæ˜¯åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„; ç”¨Goè¯­è¨€çš„æœ¯è¯­è¯´, è¿™ä¸ª x å±€éƒ¨å˜é‡ä»å‡½æ•° f ä¸­é€ƒé€¸äº†</p><p>ç›¸å, å½“ g å‡½æ•°è¿”å›æ—¶, å˜é‡<code>*y</code>å°†æ˜¯ä¸å¯è¾¾çš„, ä¹Ÿå°±æ˜¯è¯´å¯ä»¥é©¬ä¸Šè¢«å›æ”¶çš„; å› æ­¤ï¼Œ<code>*y</code>å¹¶æ²¡æœ‰ä»å‡½æ•°gä¸­é€ƒé€¸</p><p>ç¼–è¯‘å™¨å¯ä»¥é€‰æ‹©åœ¨æ ˆä¸Šåˆ†é…<code>*y</code>çš„å­˜å‚¨ç©ºé—´(è¯‘æ³¨: ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨å †ä¸Šåˆ†é…, ç„¶åç”±Goè¯­è¨€çš„GCå›æ”¶è¿™ä¸ªå˜é‡çš„å†…å­˜ç©ºé—´), è™½ç„¶è¿™é‡Œç”¨çš„æ˜¯ new æ–¹å¼; å…¶å®åœ¨ä»»ä½•æ—¶å€™, ä½ å¹¶ä¸éœ€ä¸ºäº†ç¼–å†™æ­£ç¡®çš„ä»£ç è€Œè¦è€ƒè™‘å˜é‡çš„é€ƒé€¸è¡Œä¸º, è¦è®°ä½çš„æ˜¯, é€ƒé€¸çš„å˜é‡éœ€è¦é¢å¤–åˆ†é…å†…å­˜, åŒæ—¶å¯¹æ€§èƒ½çš„ä¼˜åŒ–å¯èƒ½ä¼šäº§ç”Ÿç»†å¾®çš„å½±å“</p><blockquote><p><code>å †</code> å’Œ <code>æ ˆ</code> æ˜¯è®¡ç®—æœºå†…å­˜ç®¡ç†ä¸­çš„ä¸¤ä¸ªå¸¸ç”¨æœ¯è¯­, ç”¨äºæè¿°å†…å­˜ä¸­ä¸åŒç±»å‹çš„åˆ†é…æ–¹å¼</p><ul><li><p><code>å †(Heep)</code>: æ˜¯ä¸€ç§åŠ¨æ€çš„æ•°æ®ç»“æ„, é€šå¸¸ç”¨äºå­˜å‚¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åˆ†é…çš„å†…å­˜;</p><p>å †ä¸Šçš„å†…å­˜å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»åˆ†é…å’Œé‡Šæ”¾, å¹¶æ²¡æœ‰å›ºå®šçš„å¤§å°é™åˆ¶;</p><p>åœ¨å †ä¸Šåˆ†é…å†…å­˜éœ€è¦æ‰‹åŠ¨ç®¡ç†, é€šå¸¸é€šè¿‡å†…å­˜åˆ†é…å‡½æ•°(å¦‚ <code>malloc</code> æˆ– <code>new</code>)æ¥åˆ†é…å†…å­˜, å¹¶é€šè¿‡ç›¸åº”çš„å†…å­˜é‡Šæ”¾å‡½æ•°(å¦‚ <code>free</code> æˆ– <code>delete</code>)æ¥é‡Šæ”¾å†…å­˜;</p><p>å †ä¸Šçš„å˜é‡çš„ç”Ÿå‘½å‘¨æœŸé€šå¸¸æ˜¯ç”±ç¨‹åºå‘˜æ˜¾å¼åœ°æ§åˆ¶çš„</p></li><li><p><code>æ ˆ(Stack)</code>: æ˜¯ä¸€ç§çº¿æ€§çš„æ•°æ®ç»“æ„, é€šå¸¸ç”¨äºå­˜å‚¨å‡½æ•°çš„å±€éƒ¨å˜é‡å’Œå‡½æ•°è°ƒç”¨çš„çŠ¶æ€</p><p>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶, è¯¥å‡½æ•°çš„å±€éƒ¨å˜é‡è¢«å­˜å‚¨åœ¨æ ˆä¸Š, å‡½æ•°çš„å‚æ•°å’Œè¿”å›åœ°å€ä¹Ÿè¢«å‹å…¥æ ˆä¸­</p><p>å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶, æ ˆä¸Šçš„è¿™äº›æ•°æ®ä¼šè¢«å¼¹å‡º, æ ˆçš„ç©ºé—´ä¼šè¢«é‡Šæ”¾</p><p>æ ˆçš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾éƒ½æ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç®¡ç†çš„, åˆ†é…å’Œé‡Šæ”¾æ“ä½œéƒ½éå¸¸é«˜æ•ˆ, ä½†æ ˆçš„å¤§å°é€šå¸¸æ˜¯å›ºå®šçš„, å› æ­¤æ ˆä¸Šçš„å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯å›ºå®šçš„</p></li></ul></blockquote><hr><p>Go è¯­è¨€çš„è‡ªåŠ¨åƒåœ¾æ”¶é›†å™¨å¯¹ç¼–å†™æ­£ç¡®çš„ä»£ç æ˜¯ä¸€ä¸ªå·¨å¤§çš„å¸®åŠ©, ä½†ä¹Ÿå¹¶ä¸æ˜¯è¯´ä½ å®Œå…¨ä¸ç”¨è€ƒè™‘å†…å­˜äº†;</p><p>ä½ è™½ç„¶ä¸éœ€è¦æ˜¾å¼åœ°åˆ†é…å’Œé‡Šæ”¾å†…å­˜, ä½†æ˜¯è¦ç¼–å†™é«˜æ•ˆçš„ç¨‹åºä½ ä¾ç„¶éœ€è¦äº†è§£å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ; ä¾‹å¦‚, å¦‚æœå°†æŒ‡å‘çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„æŒ‡é’ˆä¿å­˜åˆ°å…·æœ‰é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ä¸­, ç‰¹åˆ«æ˜¯ä¿å­˜åˆ°å…¨å±€å˜é‡æ—¶, ä¼šé˜»æ­¢å¯¹çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„åƒåœ¾å›æ”¶(ä»è€Œå¯èƒ½å½±å“ç¨‹åºçš„æ€§èƒ½)</p><hr><h2 id="ch2-4-èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#ch2-4-èµ‹å€¼"><span>CH2.4 èµ‹å€¼</span></a></h2><p>ä½¿ç”¨èµ‹å€¼è¯­å¥å¯ä»¥æ›´æ–°ä¸€ä¸ªå˜é‡çš„å€¼, æœ€ç®€å•çš„èµ‹å€¼è¯­å¥æ˜¯å°†è¦è¢«èµ‹å€¼çš„å˜é‡æ”¾åœ¨ <code>=</code> çš„å·¦è¾¹, æ–°å€¼çš„è¡¨è¾¾å¼æ”¾åœ¨ <code>=</code> çš„å³è¾¹</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>x <span class="token operator">=</span> <span class="token number">1</span>                       <span class="token comment">// å‘½åå˜é‡çš„èµ‹å€¼</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token boolean">true</span>                   <span class="token comment">// é€šè¿‡æŒ‡é’ˆé—´æ¥èµ‹å€¼</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;bob&quot;</span>         <span class="token comment">// ç»“æ„ä½“å­—æ®µèµ‹å€¼</span>
count<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> count<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">*</span> scale <span class="token comment">// æ•°ç»„ã€sliceæˆ–mapçš„å…ƒç´ èµ‹å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç‰¹å®šçš„äºŒå…ƒç®—æœ¯è¿ç®—ç¬¦å’Œèµ‹å€¼è¯­å¥çš„å¤åˆæ“ä½œæœ‰ä¸€ä¸ªç®€æ´å½¢å¼, ä¾‹å¦‚ä¸Šé¢æœ€åçš„è¯­å¥å¯ä»¥é‡å†™ä¸º:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>count<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">*=</span> scale
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·å¯ä»¥çœå»å¯¹å˜é‡è¡¨è¾¾å¼çš„é‡å¤è®¡ç®—</p><p>æ•°å€¼å˜é‡ä¹Ÿå¯ä»¥æ”¯æŒ<code>++</code>é€’å¢å’Œ<code>--</code>é€’å‡è¯­å¥</p><blockquote><p>è¯‘æ³¨: è‡ªå¢å’Œè‡ªå‡æ˜¯è¯­å¥, è€Œä¸æ˜¯è¡¨è¾¾å¼, å› æ­¤<code>x = i++</code>ä¹‹ç±»çš„è¡¨è¾¾å¼æ˜¯é”™è¯¯çš„</p></blockquote><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>v <span class="token operator">:=</span> <span class="token number">1</span>
v<span class="token operator">++</span>    <span class="token comment">// ç­‰ä»·æ–¹å¼ v = v + 1ï¼›v å˜æˆ 2</span>
v<span class="token operator">--</span>    <span class="token comment">// ç­‰ä»·æ–¹å¼ v = v - 1ï¼›v å˜æˆ 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="ch2-4-1-å…ƒç»„èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#ch2-4-1-å…ƒç»„èµ‹å€¼"><span>CH2.4.1 å…ƒç»„èµ‹å€¼</span></a></h3><p>å…ƒç»„èµ‹å€¼æ˜¯å¦ä¸€ç§å½¢å¼çš„èµ‹å€¼è¯­å¥, å®ƒå…è®¸åŒæ—¶æ›´æ–°å¤šä¸ªå˜é‡çš„å€¼</p><p>åœ¨èµ‹å€¼ä¹‹å‰, èµ‹å€¼è¯­å¥å³è¾¹çš„æ‰€æœ‰è¡¨è¾¾å¼å°†ä¼šå…ˆè¿›è¡Œæ±‚å€¼, ç„¶åå†ç»Ÿä¸€æ›´æ–°å·¦è¾¹å¯¹åº”å˜é‡çš„å€¼</p><p>è¿™å¯¹äºå¤„ç†æœ‰äº›åŒæ—¶å‡ºç°åœ¨å…ƒç»„èµ‹å€¼è¯­å¥å·¦å³ä¸¤è¾¹çš„å˜é‡å¾ˆæœ‰å¸®åŠ©, ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥è¿™æ ·äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x

a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>æˆ–è€…æ˜¯è®¡ç®—ä¸¤ä¸ªæ•´æ•°å€¼çš„çš„æœ€å¤§å…¬çº¦æ•°(GCD)(è¯‘æ³¨: æ¬§å‡ é‡Œå¾·çš„GCD(Greatest Common Divisor) æ˜¯æœ€æ—©çš„éå¹³å‡¡ç®—æ³•)</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">gcd</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> y <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x<span class="token operator">%</span>y
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>æˆ–è€…æ˜¯è®¡ç®—æ–æ³¢çº³å¥‘æ•°åˆ—(Fibonacci)çš„ç¬¬ N ä¸ªæ•°:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">,</span> y <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>y
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> x
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å…ƒç»„èµ‹å€¼ä¹Ÿå¯ä»¥ä½¿ä¸€ç³»åˆ—çç¢èµ‹å€¼æ›´åŠ ç´§å‡‘(è¯‘æ³¨: ç‰¹åˆ«æ˜¯åœ¨forå¾ªç¯çš„åˆå§‹åŒ–éƒ¨åˆ†)</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½†å¦‚æœè¡¨è¾¾å¼å¤ªå¤æ‚çš„è¯, åº”è¯¥å°½é‡é¿å…è¿‡åº¦ä½¿ç”¨å…ƒç»„èµ‹å€¼; å› ä¸ºæ¯ä¸ªå˜é‡å•ç‹¬èµ‹å€¼è¯­å¥çš„å†™æ³•å¯è¯»æ€§ä¼šæ›´å¥½</p><hr><p>æœ‰äº›è¡¨è¾¾å¼ä¼šäº§ç”Ÿå¤šä¸ªå€¼, æ¯”å¦‚è°ƒç”¨ä¸€ä¸ªæœ‰å¤šä¸ªè¿”å›å€¼çš„å‡½æ•°</p><p>å½“è¿™æ ·ä¸€ä¸ªå‡½æ•°è°ƒç”¨å‡ºç°åœ¨å…ƒç»„èµ‹å€¼å³è¾¹çš„è¡¨è¾¾å¼ä¸­æ—¶(è¯‘æ³¨: å³è¾¹ä¸èƒ½å†æœ‰å…¶å®ƒè¡¨è¾¾å¼), å·¦è¾¹å˜é‡çš„æ•°ç›®å¿…é¡»å’Œå³è¾¹ä¸€è‡´</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>f<span class="token punctuation">,</span> err <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;foo.txt&quot;</span><span class="token punctuation">)</span> <span class="token comment">// function call returns two values</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é€šå¸¸, è¿™ç±»å‡½æ•°ä¼šç”¨é¢å¤–çš„è¿”å›å€¼æ¥è¡¨è¾¾æŸç§é”™è¯¯ç±»å‹, ä¾‹å¦‚ <code>os.Open</code> æ˜¯ç”¨é¢å¤–çš„è¿”å›å€¼è¿”å›ä¸€ä¸ª error ç±»å‹çš„é”™è¯¯, è¿˜æœ‰ä¸€äº›æ˜¯ç”¨æ¥è¿”å›å¸ƒå°”å€¼, é€šå¸¸è¢«ç§°ä¸ºok</p><p>åœ¨ç¨åæˆ‘ä»¬å°†çœ‹åˆ°çš„ä¸‰ä¸ªæ“ä½œéƒ½æ˜¯ç±»ä¼¼çš„ç”¨æ³•; å¦‚æœmapæŸ¥æ‰¾(Â§4.3), ç±»å‹æ–­è¨€(Â§7.10) æˆ–é€šé“æ¥æ”¶(Â§8.4.2)å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å³è¾¹, å®ƒä»¬éƒ½å¯èƒ½ä¼šäº§ç”Ÿä¸¤ä¸ªç»“æœ, æœ‰ä¸€ä¸ªé¢å¤–çš„å¸ƒå°”ç»“æœè¡¨ç¤ºæ“ä½œæ˜¯å¦æˆåŠŸ:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>v<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>             <span class="token comment">// map lookup</span>
v<span class="token punctuation">,</span> ok <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>              <span class="token comment">// type assertion</span>
v<span class="token punctuation">,</span> ok <span class="token operator">=</span> <span class="token operator">&lt;-</span>ch               <span class="token comment">// channel receive</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¯‘æ³¨: mapæŸ¥æ‰¾(Â§4.3), ç±»å‹æ–­è¨€(Â§7.10) æˆ–é€šé“æ¥æ”¶(Â§8.4.2) å‡ºç°åœ¨èµ‹å€¼è¯­å¥çš„å³è¾¹æ—¶, å¹¶ä¸ä¸€å®šæ˜¯äº§ç”Ÿä¸¤ä¸ªç»“æœ, ä¹Ÿå¯èƒ½åªäº§ç”Ÿä¸€ä¸ªç»“æœ; å¯¹äºåªäº§ç”Ÿä¸€ä¸ªç»“æœçš„æƒ…å½¢:</p><ul><li>mapæŸ¥æ‰¾å¤±è´¥æ—¶ä¼šè¿”å›é›¶å€¼</li><li>ç±»å‹æ–­è¨€å¤±è´¥æ—¶ä¼šå‘ç”Ÿè¿è¡Œæ—¶panicå¼‚å¸¸</li><li>é€šé“æ¥æ”¶å¤±è´¥æ—¶ä¼šè¿”å›é›¶å€¼ï¼ˆé˜»å¡ä¸ç®—æ˜¯å¤±è´¥ï¼‰</li></ul><p>ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>v <span class="token operator">=</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>                <span class="token comment">// mapæŸ¥æ‰¾ï¼Œå¤±è´¥æ—¶è¿”å›é›¶å€¼</span>
v <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>                 <span class="token comment">// typeæ–­è¨€ï¼Œå¤±è´¥æ—¶panicå¼‚å¸¸</span>
v <span class="token operator">=</span> <span class="token operator">&lt;-</span>ch                  <span class="token comment">// ç®¡é“æ¥æ”¶ï¼Œå¤±è´¥æ—¶è¿”å›é›¶å€¼ï¼ˆé˜»å¡ä¸ç®—æ˜¯å¤±è´¥ï¼‰</span>

<span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span>            <span class="token comment">// mapè¿”å›2ä¸ªå€¼</span>
<span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">=</span> mm<span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span>     <span class="token comment">// mapè¿”å›1ä¸ªå€¼</span>
<span class="token boolean">_</span> <span class="token operator">=</span> mm<span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span>                <span class="token comment">// mapè¿”å›1ä¸ªå€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¸Šé¢æ–‡æ¡£ä¸­çš„çš„ä¾‹å­ä¸æ˜¯å¾ˆå…·ä½“, ä¸‹é¢ç»™å‡ºä¸€ä¸ªå…·ä½“äº›çš„ä¾‹å­</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// å®šä¹‰ä¸€ä¸ª map å­—å…¸</span>
	<span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
	<span class="token comment">// å°è¯•è¯»å–ä¸€ä¸ª m ä¸­å­˜åœ¨çš„ key</span>
	v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">]</span>
	ok1_2 <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">]</span>
	<span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ok<span class="token punctuation">)</span>
	<span class="token function">println</span><span class="token punctuation">(</span>ok1_2<span class="token punctuation">)</span>
	<span class="token comment">// å°è¯•è¯»å–ä¸€ä¸ª m ä¸­ä¸å­˜åœ¨çš„ key</span>
	v2<span class="token punctuation">,</span> ok2 <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;four&quot;</span><span class="token punctuation">]</span>
	ok2_2 <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;four&quot;</span><span class="token punctuation">]</span>
	<span class="token comment">// æ‰“å°ç»“æœ</span>
	<span class="token function">println</span><span class="token punctuation">(</span>v2<span class="token punctuation">,</span> ok2<span class="token punctuation">)</span>
	<span class="token function">println</span><span class="token punctuation">(</span>ok2_2<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403250112987.png" alt="image-20240325011225899"></p><p>ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°, è‡³å°‘åœ¨æˆ‘è¿™é‡Œçš„å°è¯•ä¸­å¯ä»¥çœ‹åˆ°å…¶å® map å‡½æ•°å…è®¸è¿”å› 1 æˆ– 2 ä¸ªå˜é‡, å’Œæ–‡ä¸­æè¿°ä¸ç¬¦, å¯èƒ½æ˜¯ç‰ˆæœ¬æ›´æ–°å¯¼è‡´çš„, è¿™é‡Œé™„ä¸€ä¸‹ go ç‰ˆæœ¬:</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202403250113296.png" alt="image-20240325011301250"></p><hr><p>å¦å¤–ä¸¤ä¸ªç±»å‹æ–­è¨€å’Œé€šé“æ¥æ”¶ç›®å‰éƒ½æ²¡ç”¨è¿‡, ä¹‹åç”¨åˆ°å†å¦è¡Œè®¨è®º</p></blockquote></blockquote><hr><p>å’Œå˜é‡å£°æ˜ä¸€æ ·, æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹åˆ’çº¿ç©ºç™½æ ‡è¯†ç¬¦<code>_</code>æ¥ä¸¢å¼ƒä¸éœ€è¦çš„å€¼:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>dst<span class="token punctuation">,</span> src<span class="token punctuation">)</span> <span class="token comment">// ä¸¢å¼ƒå­—èŠ‚æ•°</span>
<span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>              <span class="token comment">// åªæ£€æµ‹ç±»å‹, å¿½ç•¥å…·ä½“å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-4-2-å¯èµ‹å€¼æ€§" tabindex="-1"><a class="header-anchor" href="#_2-4-2-å¯èµ‹å€¼æ€§"><span>2.4.2 å¯èµ‹å€¼æ€§</span></a></h3><p>èµ‹å€¼è¯­å¥æ˜¯æ˜¾å¼çš„èµ‹å€¼å½¢å¼, ä½†æ˜¯ç¨‹åºä¸­è¿˜æœ‰å¾ˆå¤šåœ°æ–¹ä¼šå‘ç”Ÿéšå¼çš„èµ‹å€¼è¡Œä¸º</p><ul><li><p>å‡½æ•°è°ƒç”¨ä¼šéšå¼åœ°å°†è°ƒç”¨å‚æ•°çš„å€¼èµ‹å€¼ç»™å‡½æ•°çš„å‚æ•°å˜é‡</p></li><li><p>ä¸€ä¸ªè¿”å›è¯­å¥ä¼šéšå¼åœ°å°†è¿”å›æ“ä½œçš„å€¼èµ‹å€¼ç»™ç»“æœå˜é‡</p></li><li><p>ä¸€ä¸ªå¤åˆç±»å‹çš„å­—é¢é‡(Â§4.2)ä¹Ÿä¼šäº§ç”Ÿèµ‹å€¼è¡Œä¸º; ä¾‹å¦‚ä¸‹é¢çš„è¯­å¥:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡</span>
medals <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;gold&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;silver&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bronze&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>éšå¼åœ°å¯¹ slice çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œèµ‹å€¼æ“ä½œ, ç±»ä¼¼è¿™æ ·å†™çš„è¡Œä¸º:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>medals<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;gold&quot;</span>
medals<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;silver&quot;</span>
medals<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;bronze&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><code>map</code> å’Œ <code>chan</code> çš„å…ƒç´ , è™½ç„¶ä¸æ˜¯æ™®é€šçš„å˜é‡, ä½†æ˜¯ä¹Ÿæœ‰ç±»ä¼¼çš„éšå¼èµ‹å€¼è¡Œä¸º</p><blockquote><p><code>chan</code> æ˜¯ç”¨äºé€šä¿¡çš„æ•°æ®ç±»å‹, æ˜¯ Go ä¸­çš„ä¸€ä¸ªå†…å»ºç±»å‹, ç”¨äºåœ¨ Go åç¨‹ä¹‹é—´ä¼ é€’æ•°æ®</p><p><code>chan</code> ç±»å‹è¡¨ç¤ºä¸€ä¸ªå…·ä½“ç±»å‹çš„é€šé“, å¯ä»¥é€šè¿‡ <code>make</code> å‡½æ•°æ¥åˆ›å»º</p></blockquote><hr><p>ä¸ç®¡æ˜¯éšå¼è¿˜æ˜¯æ˜¾å¼åœ°èµ‹å€¼, åœ¨èµ‹å€¼è¯­å¥å·¦è¾¹çš„å˜é‡å’Œå³è¾¹æœ€ç»ˆçš„æ±‚åˆ°çš„å€¼å¿…é¡»æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹</p><p>æ›´ç›´ç™½åœ°è¯´, åªæœ‰å³è¾¹çš„å€¼å¯¹äºå·¦è¾¹çš„å˜é‡æ˜¯å¯èµ‹å€¼çš„, èµ‹å€¼è¯­å¥æ‰æ˜¯å…è®¸çš„</p><hr><p>å¯èµ‹å€¼æ€§çš„è§„åˆ™å¯¹äºä¸åŒç±»å‹æœ‰ç€ä¸åŒè¦æ±‚, å¯¹æ¯ä¸ªæ–°ç±»å‹ç‰¹æ®Šçš„åœ°æ–¹æˆ‘ä»¬ä¼šä¸“é—¨è§£é‡Š</p><p>å¯¹äºç›®å‰æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡çš„ç±»å‹, å®ƒçš„è§„åˆ™æ˜¯ç®€å•çš„</p><ul><li>ç±»å‹å¿…é¡»å®Œå…¨åŒ¹é…</li><li>nil å¯ä»¥èµ‹å€¼ç»™ä»»ä½•æŒ‡é’ˆæˆ–å¼•ç”¨ç±»å‹çš„å˜é‡</li><li>å¸¸é‡(Â§3.6)åˆ™æœ‰æ›´çµæ´»çš„èµ‹å€¼è§„åˆ™, å› ä¸ºè¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„æ˜¾å¼çš„ç±»å‹è½¬æ¢</li></ul><hr><p>å¯¹äºä¸¤ä¸ªå€¼æ˜¯å¦å¯ä»¥ç”¨<code>==</code>æˆ–<code>!=</code>è¿›è¡Œç›¸ç­‰æ¯”è¾ƒçš„èƒ½åŠ›ä¹Ÿå’Œå¯èµ‹å€¼èƒ½åŠ›æœ‰å…³ç³»:</p><p>å¯¹äºä»»ä½•ç±»å‹çš„å€¼çš„ç›¸ç­‰æ¯”è¾ƒ, ç¬¬äºŒä¸ªå€¼å¿…é¡»æ˜¯å¯¹ç¬¬ä¸€ä¸ªå€¼ç±»å‹å¯¹åº”çš„å˜é‡æ˜¯å¯èµ‹å€¼çš„, åä¹‹äº¦ç„¶</p><p>å’Œå‰é¢ä¸€æ ·, æˆ‘ä»¬ä¼šå¯¹æ¯ä¸ªæ–°ç±»å‹æ¯”è¾ƒç‰¹æ®Šçš„åœ°æ–¹åšä¸“é—¨çš„è§£é‡Š</p><hr><h2 id="_2-5-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_2-5-ç±»å‹"><span>2.5 ç±»å‹</span></a></h2><p>å˜é‡æˆ–è¡¨è¾¾å¼çš„ç±»å‹å®šä¹‰äº†å¯¹åº”å­˜å‚¨å€¼çš„å±æ€§ç‰¹å¾, ä¾‹å¦‚æ•°å€¼åœ¨å†…å­˜çš„å­˜å‚¨å¤§å°(æˆ–è€…æ˜¯å…ƒç´ çš„bitä¸ªæ•°), å®ƒä»¬åœ¨å†…éƒ¨æ˜¯å¦‚ä½•è¡¨è¾¾çš„, æ˜¯å¦æ”¯æŒä¸€äº›æ“ä½œç¬¦, ä»¥åŠå®ƒä»¬è‡ªå·±å…³è”çš„æ–¹æ³•é›†ç­‰</p><p>åœ¨ä»»ä½•ç¨‹åºä¸­éƒ½ä¼šå­˜åœ¨ä¸€äº›å˜é‡æœ‰ç€ç›¸åŒçš„å†…éƒ¨ç»“æ„, ä½†æ˜¯å´è¡¨ç¤ºå®Œå…¨ä¸åŒçš„æ¦‚å¿µ, ä¾‹å¦‚</p><ul><li>ä¸€ä¸ª int ç±»å‹çš„å˜é‡å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå¾ªç¯çš„è¿­ä»£ç´¢å¼•, æˆ–è€…ä¸€ä¸ªæ—¶é—´æˆ³, æˆ–è€…ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦, æˆ–è€…ä¸€ä¸ªæœˆä»½</li><li>ä¸€ä¸ª float64 ç±»å‹çš„å˜é‡å¯ä»¥ç”¨æ¥è¡¨ç¤ºæ¯ç§’ç§»åŠ¨å‡ ç±³çš„é€Ÿåº¦, æˆ–è€…æ˜¯ä¸åŒæ¸©åº¦å•ä½ä¸‹çš„æ¸©åº¦</li><li>ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå¯†ç æˆ–è€…ä¸€ä¸ªé¢œè‰²çš„åç§°</li></ul><p>ä¸€ä¸ªç±»å‹å£°æ˜è¯­å¥åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç±»å‹åç§°, å’Œç°æœ‰ç±»å‹å…·æœ‰ç›¸åŒçš„åº•å±‚ç»“æ„, æ–°å‘½åçš„ç±»å‹æä¾›äº†ä¸€ä¸ªæ–¹æ³•, ç”¨æ¥åˆ†éš”ä¸åŒæ¦‚å¿µçš„ç±»å‹, è¿™æ ·å³ä½¿å®ƒä»¬åº•å±‚ç±»å‹ç›¸åŒä¹Ÿæ˜¯ä¸å…¼å®¹çš„</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> ç±»å‹åå­— åº•å±‚ç±»å‹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç±»å‹å£°æ˜è¯­å¥ä¸€èˆ¬å‡ºç°åœ¨åŒ…ä¸€çº§, å› æ­¤å¦‚æœæ–°åˆ›å»ºçš„ç±»å‹åå­—çš„é¦–å­—ç¬¦å¤§å†™, åˆ™åœ¨åŒ…å¤–éƒ¨ä¹Ÿå¯ä»¥ä½¿ç”¨</p><blockquote><p>è¯‘æ³¨: å¯¹äºä¸­æ–‡æ±‰å­—, Unicodeæ ‡å¿—éƒ½ä½œä¸ºå°å†™å­—æ¯å¤„ç†, å› æ­¤ä¸­æ–‡çš„å‘½åé»˜è®¤ä¸èƒ½å¯¼å‡º</p><p>ä¸è¿‡å›½å†…çš„ç”¨æˆ·é’ˆå¯¹è¯¥é—®é¢˜æå‡ºäº†ä¸åŒçš„çœ‹æ³•, æ ¹æ®RobPikeçš„å›å¤, åœ¨Go2ä¸­æœ‰å¯èƒ½ä¼šå°†ä¸­æ—¥éŸ©ç­‰å­—ç¬¦å½“ä½œå¤§å†™å­—æ¯å¤„ç†</p><p>ä¸‹é¢æ˜¯RobPikåœ¨ <a href="https://github.com/golang/go/issues/5763" target="_blank" rel="noopener noreferrer">Issue763<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> çš„å›å¤:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>A solution that&#39;s been kicking around for a while:

For Go 2 (can&#39;t do it before then): Change the definition to â€œlower case letters and _ are package-local; all else is exportedâ€. Then with non-cased languages, such as Japanese, we can write æ—¥æœ¬è¯­ for an exported name and _æ—¥æœ¬è¯­ for a local name. This rule has no effect, relative to the Go 1 rule, with cased languages. They behave exactly the same.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>ä¸ºäº†è¯´æ˜ç±»å‹å£°æ˜, æˆ‘ä»¬å°†ä¸åŒæ¸©åº¦å•ä½åˆ†åˆ«å®šä¹‰ä¸ºä¸åŒçš„ç±»å‹:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Package tempconv performs Celsius and Fahrenheit temperature computations.</span>
<span class="token keyword">package</span> tempconv

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> Celsius <span class="token builtin">float64</span>    <span class="token comment">// æ‘„æ°æ¸©åº¦</span>
<span class="token keyword">type</span> Fahrenheit <span class="token builtin">float64</span> <span class="token comment">// åæ°æ¸©åº¦</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
    AbsoluteZeroC Celsius <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">273.15</span> <span class="token comment">// ç»å¯¹é›¶åº¦</span>
    FreezingC     Celsius <span class="token operator">=</span> <span class="token number">0</span>       <span class="token comment">// ç»“å†°ç‚¹æ¸©åº¦</span>
    BoilingC      Celsius <span class="token operator">=</span> <span class="token number">100</span>     <span class="token comment">// æ²¸æ°´æ¸©åº¦</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">CToF</span><span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> Fahrenheit <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Fahrenheit</span><span class="token punctuation">(</span>c<span class="token operator">*</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">FToC</span><span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> Celsius <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Celsius</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬åœ¨è¿™ä¸ªåŒ…å£°æ˜äº†ä¸¤ç§ç±»å‹: Celsius å’Œ Fahrenheit åˆ†åˆ«å¯¹åº”ä¸åŒçš„æ¸©åº¦å•ä½</p><p>å®ƒä»¬è™½ç„¶æœ‰ç€ç›¸åŒçš„åº•å±‚ç±»å‹float64, ä½†æ˜¯å®ƒä»¬æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹, å› æ­¤å®ƒä»¬ä¸å¯ä»¥è¢«ç›¸äº’æ¯”è¾ƒæˆ–æ··åœ¨ä¸€ä¸ªè¡¨è¾¾å¼è¿ç®—</p><p>åˆ»æ„åŒºåˆ†ç±»å‹å¯ä»¥é¿å…ä¸€äº›åƒæ— æ„ä¸­ä½¿ç”¨ä¸åŒå•ä½çš„æ¸©åº¦æ··åˆè®¡ç®—å¯¼è‡´çš„é”™è¯¯</p><p>å› æ­¤éœ€è¦ä¸€ä¸ªç±»ä¼¼ Celsius(t) æˆ– Fahrenheit(t) å½¢å¼çš„æ˜¾å¼è½¬å‹æ“ä½œæ‰èƒ½å°† float64 è½¬ä¸ºå¯¹åº”çš„ç±»å‹</p><p>Celsius(t) å’Œ Fahrenheit(t) æ˜¯ç±»å‹è½¬æ¢æ“ä½œ, å®ƒä»¬å¹¶ä¸æ˜¯å‡½æ•°è°ƒç”¨</p><p>ç±»å‹è½¬æ¢ä¸ä¼šæ”¹å˜å€¼æœ¬èº«, ä½†æ˜¯ä¼šä½¿å®ƒä»¬çš„è¯­ä¹‰å‘ç”Ÿå˜åŒ–</p><p>å¦ä¸€æ–¹é¢, CToF å’Œ FToC ä¸¤ä¸ªå‡½æ•°åˆ™æ˜¯å¯¹ä¸åŒæ¸©åº¦å•ä½ä¸‹çš„æ¸©åº¦è¿›è¡Œæ¢ç®—, å®ƒä»¬ä¼šè¿”å›ä¸åŒçš„å€¼</p><hr><p>å¯¹äºæ¯ä¸€ä¸ªç±»å‹ T, éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç±»å‹è½¬æ¢æ“ä½œT(x), ç”¨äºå°†xè½¬ä¸ºTç±»å‹</p><blockquote><p>è¯‘æ³¨: å¦‚æœ T æ˜¯æŒ‡é’ˆç±»å‹, å¯èƒ½ä¼šéœ€è¦ç”¨å°æ‹¬å¼§åŒ…è£… T , æ¯”å¦‚ <code>(*int)(0)</code></p><p>åªæœ‰å½“ä¸¤ä¸ªç±»å‹çš„åº•å±‚åŸºç¡€ç±»å‹ç›¸åŒæ—¶æ‰å…è®¸è¿™ç§è½¬å‹æ“ä½œï¼Œæˆ–è€…æ˜¯ä¸¤è€…éƒ½æ˜¯æŒ‡å‘ç›¸åŒåº•å±‚ç»“æ„çš„æŒ‡é’ˆç±»å‹ï¼Œè¿™äº›è½¬æ¢åªæ”¹å˜ç±»å‹è€Œä¸ä¼šå½±å“å€¼æœ¬èº«</p><p>å¦‚æœxæ˜¯å¯ä»¥èµ‹å€¼ç»™Tç±»å‹çš„å€¼, é‚£ä¹ˆxå¿…ç„¶ä¹Ÿå¯ä»¥è¢«è½¬ä¸ºTç±»å‹, ä½†æ˜¯ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¿…è¦</p></blockquote><hr><p>æ•°å€¼ç±»å‹ä¹‹é—´çš„è½¬å‹ä¹Ÿæ˜¯å…è®¸çš„, å¹¶ä¸”åœ¨å­—ç¬¦ä¸²å’Œä¸€äº›ç‰¹å®šç±»å‹çš„sliceä¹‹é—´ä¹Ÿæ˜¯å¯ä»¥è½¬æ¢çš„, åœ¨ä¸‹ä¸€ç« æˆ‘ä»¬ä¼šçœ‹åˆ°è¿™æ ·çš„ä¾‹å­; è¿™ç±»è½¬æ¢å¯èƒ½æ”¹å˜å€¼çš„è¡¨ç°; ä¾‹å¦‚</p><ul><li>å°†ä¸€ä¸ªæµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°å°†ä¸¢å¼ƒå°æ•°éƒ¨åˆ†</li><li>å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸º<code>[]byte</code>ç±»å‹çš„sliceå°†æ‹·è´ä¸€ä¸ªå­—ç¬¦ä¸²æ•°æ®çš„å‰¯æœ¬</li></ul><p>åœ¨ä»»ä½•æƒ…å†µä¸‹, è¿è¡Œæ—¶ä¸ä¼šå‘ç”Ÿè½¬æ¢å¤±è´¥çš„é”™è¯¯(è¯‘æ³¨: é”™è¯¯åªä¼šå‘ç”Ÿåœ¨ç¼–è¯‘é˜¶æ®µ)</p><hr><p>åº•å±‚æ•°æ®ç±»å‹å†³å®šäº†å†…éƒ¨ç»“æ„å’Œè¡¨è¾¾æ–¹å¼, ä¹Ÿå†³å®šæ˜¯å¦å¯ä»¥åƒåº•å±‚ç±»å‹ä¸€æ ·å¯¹å†…ç½®è¿ç®—ç¬¦çš„æ”¯æŒ</p><p>è¿™æ„å‘³ç€, æ­£å¦‚æˆ‘ä»¬æ‰€æœŸæœ›çš„é‚£æ ·, Celsius å’Œ Fahrenheit ç±»å‹çš„ç®—æœ¯è¿ç®—è¡Œä¸ºå’Œåº•å±‚çš„ float64 ç±»å‹æ˜¯ä¸€æ ·çš„</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g\n&quot;</span><span class="token punctuation">,</span> BoilingC<span class="token operator">-</span>FreezingC<span class="token punctuation">)</span> <span class="token comment">// &quot;100&quot; Â°C</span>
boilingF <span class="token operator">:=</span> <span class="token function">CToF</span><span class="token punctuation">(</span>BoilingC<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g\n&quot;</span><span class="token punctuation">,</span> boilingF<span class="token operator">-</span><span class="token function">CToF</span><span class="token punctuation">(</span>FreezingC<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;180&quot; Â°F</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g\n&quot;</span><span class="token punctuation">,</span> boilingF<span class="token operator">-</span>FreezingC<span class="token punctuation">)</span>       <span class="token comment">// compile error: type mismatch</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404010136744.png" alt="image-20240401013638689"></p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404010137125.png" alt="image-20240401013706077"></p><hr><p>æ¯”è¾ƒè¿ç®—ç¬¦<code>==</code>å’Œ<code>&lt;</code>ä¹Ÿå¯ä»¥ç”¨æ¥æ¯”è¾ƒä¸€ä¸ªå‘½åç±»å‹çš„å˜é‡å’Œå¦ä¸€ä¸ªæœ‰ç›¸åŒç±»å‹çš„å˜é‡, æˆ–æœ‰ç€ç›¸åŒåº•å±‚ç±»å‹çš„æœªå‘½åç±»å‹çš„å€¼ä¹‹é—´åšæ¯”è¾ƒ</p><p>ä½†æ˜¯å¦‚æœä¸¤ä¸ªå€¼æœ‰ç€ä¸åŒçš„ç±»å‹, åˆ™ä¸èƒ½ç›´æ¥è¿›è¡Œæ¯”è¾ƒ:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> c Celsius
<span class="token keyword">var</span> f Fahrenheit
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>          <span class="token comment">// &quot;true&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>          <span class="token comment">// &quot;true&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> f<span class="token punctuation">)</span>          <span class="token comment">// compile error: type mismatch</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token function">Celsius</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;true&quot;!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404010138709.png" alt="image-20240401013818637"></p></blockquote><p>æ³¨æ„æœ€åé‚£ä¸ªè¯­å¥; å°½ç®¡çœ‹èµ·æ¥åƒå‡½æ•°è°ƒç”¨, ä½†æ˜¯Celsius(f)æ˜¯ç±»å‹è½¬æ¢æ“ä½œ, å®ƒå¹¶ä¸ä¼šæ”¹å˜å€¼, ä»…ä»…æ˜¯æ”¹å˜å€¼çš„ç±»å‹è€Œå·²; æµ‹è¯•ä¸ºçœŸçš„åŸå› æ˜¯å› ä¸ºcå’Œféƒ½æ˜¯é›¶å€¼</p><hr><p>ä¸€ä¸ªå‘½åçš„ç±»å‹å¯ä»¥æä¾›ä¹¦å†™æ–¹ä¾¿, ç‰¹åˆ«æ˜¯å¯ä»¥é¿å…ä¸€éåˆä¸€éåœ°ä¹¦å†™å¤æ‚ç±»å‹</p><blockquote><p>è¯‘æ³¨: ä¾‹å¦‚ç”¨åŒ¿åçš„ç»“æ„ä½“å®šä¹‰å˜é‡</p></blockquote><p>è™½ç„¶å¯¹äºåƒ float64 è¿™ç§ç®€å•çš„åº•å±‚ç±»å‹æ²¡æœ‰ç®€æ´å¾ˆå¤š, ä½†æ˜¯å¦‚æœæ˜¯å¤æ‚çš„ç±»å‹å°†ä¼šç®€æ´å¾ˆå¤š, ç‰¹åˆ«æ˜¯æˆ‘ä»¬å³å°†è®¨è®ºçš„ç»“æ„ä½“ç±»å‹</p><hr><p>å‘½åç±»å‹è¿˜å¯ä»¥ä¸ºè¯¥ç±»å‹çš„å€¼å®šä¹‰æ–°çš„è¡Œä¸º; è¿™äº›è¡Œä¸ºè¡¨ç¤ºä¸ºä¸€ç»„å…³è”åˆ°è¯¥ç±»å‹çš„å‡½æ•°é›†åˆ, æˆ‘ä»¬ç§°ä¸ºç±»å‹çš„æ–¹æ³•é›†</p><p>æˆ‘ä»¬å°†åœ¨ç¬¬å…­ç« ä¸­è®¨è®ºæ–¹æ³•çš„ç»†èŠ‚, è¿™é‡Œåªè¯´äº›ç®€å•ç”¨æ³•</p><hr><p>ä¸‹é¢çš„å£°æ˜è¯­å¥, Celsius ç±»å‹çš„å‚æ•° c å‡ºç°åœ¨äº†å‡½æ•°åçš„å‰é¢, è¡¨ç¤ºå£°æ˜çš„æ˜¯ Celsius ç±»å‹çš„ä¸€ä¸ªåå« String çš„æ–¹æ³•, è¯¥æ–¹æ³•è¿”å›è¯¥ç±»å‹å¯¹è±¡ c å¸¦ç€ Â°C æ¸©åº¦å•ä½çš„å­—ç¬¦ä¸²:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°C&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>Sprintf</code> åå­—æ¥æºäº &quot;String print format&quot;, æ„æ€æ˜¯å°†æ ¼å¼åŒ–çš„è¾“å‡ºæ‰“å°ä¸ºå­—ç¬¦ä¸²è¿”å›ä¸€ä¸ª string ç±»å‹çš„å€¼</p><p>åœ¨ Go è¯­è¨€ä¸­, å‡½æ•°å’Œæ–¹æ³•æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µ</p><ul><li><p>å‡½æ•°æ˜¯ä¸€æ®µç‹¬ç«‹çš„ä»£ç , å®ƒå¯ä»¥æ¥æ”¶ä¸€äº›å‚æ•°, æ‰§è¡Œä¸€äº›æ“ä½œ, ç„¶åè¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªç»“æœ</p><p>å‡½æ•°ä¸ä¾èµ–äºä»»ä½•ç‰¹å®šçš„ç±»å‹æˆ–å€¼</p><p>ä¾‹å¦‚ <code>func Add(a, b int) int</code> æ˜¯ä¸€ä¸ªå‡½æ•°, å®ƒæ¥æ”¶ä¸¤ä¸ªæ•´æ•°, è¿”å›å®ƒä»¬çš„å’Œ</p></li><li><p>æ–¹æ³•åˆ™æ˜¯ä¸ç‰¹å®šç±»å‹å…³è”çš„å‡½æ•°</p><p>æ–¹æ³•çš„å®šä¹‰æ–¹å¼æ˜¯åœ¨å‡½æ•°åå‰æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å®šä¹‰äº†è¿™ä¸ªæ–¹æ³•æ‰€å±çš„ç±»å‹</p><p>ä¾‹å¦‚ <code>func (c Celsius) String() string</code> æ˜¯ä¸€ä¸ªæ–¹æ³•, å®ƒå±äº Celsius ç±»å‹</p><p>å½“ä½ åœ¨æŸä¸ªç±»å‹ä¸Šå®šä¹‰äº†æ–¹æ³•å, ä½ å°±å¯ä»¥åœ¨è¿™ä¸ªç±»å‹çš„å€¼ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚å¯¹äº <code>c Celsius</code> è°ƒç”¨ <code>c.String()</code> æ¥è·å– <code>c</code> çš„å­—ç¬¦ä¸²è¡¨ç¤º</p></li></ul><hr><p>è®¸å¤šç±»å‹éƒ½ä¼šå®šä¹‰ä¸€ä¸ª String æ–¹æ³•, å› ä¸ºå½“ä½¿ç”¨ fmt åŒ…çš„æ‰“å°æ–¹æ³•æ—¶ï¼Œå°†ä¼šä¼˜å…ˆä½¿ç”¨è¯¥ç±»å‹å¯¹åº”çš„ String æ–¹æ³•è¿”å›çš„ç»“æœæ‰“å°, æˆ‘ä»¬å°†åœ¨7.1èŠ‚è®²è¿°</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>c <span class="token operator">:=</span> <span class="token function">FToC</span><span class="token punctuation">(</span><span class="token number">212.0</span><span class="token punctuation">)</span>
<span class="token comment">// fmt.Println(c.String()) // &quot;100Â°C&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>   <span class="token comment">// &quot;100Â°C&quot;; no need to call String explicitly</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>   <span class="token comment">// &quot;100Â°C&quot;; ä½¿ç”¨ %v æ ¼å¼åŒ–å­—ç¬¦ä¸²è¡¨ç¤º, ç”±äº Celsius ç±»å‹å·²ç»å®šä¹‰äº† String() æ–¹æ³•, æ‰€ä»¥ä¼šè‡ªåŠ¨è°ƒç”¨, è¾“å‡ºä¸º &quot;100Â°C&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>          <span class="token comment">// &quot;100Â°C&quot;; ä½¿ç”¨ %s æ ¼å¼åŒ–å­—ç¬¦ä¸²è¡¨ç¤º, åŒæ ·ä¼šè°ƒç”¨ String() æ–¹æ³•, è¾“å‡ºä¸º &quot;100Â°C&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>   <span class="token comment">// &quot;100&quot;; does not call String;ä½¿ç”¨ %g æ ¼å¼åŒ–å­—ç¬¦ä¸²è¡¨ç¤º, ä¸ä¼šè°ƒç”¨ String() æ–¹æ³•, è¾“å‡ºä¸º &quot;100&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;100&quot;; does not call String; ç›´æ¥æ‰“å° Celsius ç±»å‹çš„åº•å±‚ float64 å€¼, ä¸ä¼šè°ƒç”¨ String() æ–¹æ³•, è¾“å‡ºä¸º &quot;100&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404010143683.png" alt="image-20240401014307627"></p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404010147556.png" alt="image-20240401014746493"></p><hr><h2 id="_2-6-åŒ…å’Œæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-6-åŒ…å’Œæ–‡ä»¶"><span>2.6 åŒ…å’Œæ–‡ä»¶</span></a></h2><p>Go è¯­è¨€ä¸­çš„åŒ…å’Œå…¶ä»–è¯­è¨€çš„åº“æˆ–æ¨¡å—çš„æ¦‚å¿µç±»ä¼¼, ç›®çš„éƒ½æ˜¯ä¸ºäº†æ”¯æŒæ¨¡å—åŒ–, å°è£…, å•ç‹¬ç¼–è¯‘å’Œä»£ç é‡ç”¨</p><p>ä¸€ä¸ªåŒ…çš„æºä»£ç ä¿å­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªä»¥ <code>.go</code> ä¸ºæ–‡ä»¶åç¼€åçš„æºæ–‡ä»¶ä¸­, é€šå¸¸ä¸€ä¸ªåŒ…æ‰€åœ¨ç›®å½•è·¯å¾„çš„åç¼€æ˜¯åŒ…çš„å¯¼å…¥è·¯å¾„</p><p>ä¾‹å¦‚åŒ… <code>gopl.io/ch1/helloworld</code> å¯¹åº”çš„ç›®å½•è·¯å¾„æ˜¯ <code>$GOPATH/src/gopl.io/ch1/helloworld</code></p><p>æ¯ä¸ªåŒ…éƒ½å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„åå­—ç©ºé—´ ä¾‹å¦‚, åœ¨ image åŒ…ä¸­çš„ Decode å‡½æ•°å’Œåœ¨ <code>unicode/utf16</code> åŒ…ä¸­çš„ Decode å‡½æ•°æ˜¯ä¸åŒçš„ è¦åœ¨å¤–éƒ¨å¼•ç”¨è¯¥å‡½æ•°, å¿…é¡»æ˜¾å¼ä½¿ç”¨ <code>image.Decode</code> æˆ– <code>utf16.Decode</code> å½¢å¼è®¿é—®</p><hr><p>åŒ…è¿˜å¯ä»¥è®©æˆ‘ä»¬é€šè¿‡æ§åˆ¶å“ªäº›åå­—æ˜¯å¤–éƒ¨å¯è§çš„æ¥éšè—å†…éƒ¨å®ç°ä¿¡æ¯</p><p>åœ¨Goè¯­è¨€ä¸­, ä¸€ä¸ªç®€å•çš„è§„åˆ™æ˜¯: å¦‚æœä¸€ä¸ªåå­—æ˜¯å¤§å†™å­—æ¯å¼€å¤´çš„, é‚£ä¹ˆè¯¥åå­—æ˜¯å¯¼å‡ºçš„</p><blockquote><p>è¯‘æ³¨: å› ä¸ºæ±‰å­—ä¸åŒºåˆ†å¤§å°å†™, å› æ­¤æ±‰å­—å¼€å¤´çš„åå­—æ˜¯æ²¡æœ‰å¯¼å‡ºçš„</p></blockquote><hr><p>ä¸ºäº†æ¼”ç¤ºåŒ…åŸºæœ¬çš„ç”¨æ³•, å…ˆå‡è®¾æˆ‘ä»¬çš„æ¸©åº¦è½¬æ¢è½¯ä»¶å·²ç»å¾ˆæµè¡Œ, æˆ‘ä»¬å¸Œæœ›åˆ°Goè¯­è¨€ç¤¾åŒºä¹Ÿèƒ½ä½¿ç”¨è¿™ä¸ªåŒ…</p><p>æˆ‘ä»¬è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p><p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º <code>gopl.io/ch2/tempconv</code> çš„åŒ…, è¿™æ˜¯å‰é¢ä¾‹å­çš„ä¸€ä¸ªæ”¹è¿›ç‰ˆæœ¬(è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰æŒ‰ç…§æƒ¯ä¾‹æŒ‰é¡ºåºå¯¹ä¾‹å­è¿›è¡Œç¼–å·, å› æ­¤åŒ…è·¯å¾„çœ‹èµ·æ¥æ›´åƒä¸€ä¸ªçœŸå®çš„åŒ…)</p><p>åŒ…ä»£ç å­˜å‚¨åœ¨ä¸¤ä¸ªæºæ–‡ä»¶ä¸­, ç”¨æ¥æ¼”ç¤ºå¦‚ä½•åœ¨ä¸€ä¸ªæºæ–‡ä»¶å£°æ˜ç„¶ååœ¨å…¶ä»–çš„æºæ–‡ä»¶è®¿é—®(è™½ç„¶åœ¨ç°å®ä¸­, è¿™æ ·å°çš„åŒ…ä¸€èˆ¬åªéœ€è¦ä¸€ä¸ªæ–‡ä»¶)</p><p>æˆ‘ä»¬æŠŠå˜é‡çš„å£°æ˜, å¯¹åº”çš„å¸¸é‡, è¿˜æœ‰æ–¹æ³•éƒ½æ”¾åˆ° <code>tempconv.go</code> æºæ–‡ä»¶ä¸­:</p><p><code>gopl.io/ch2/tempconv</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Package tempconv performs Celsius and Fahrenheit conversions.</span>
<span class="token keyword">package</span> tempconv

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> Celsius <span class="token builtin">float64</span>
<span class="token keyword">type</span> Fahrenheit <span class="token builtin">float64</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
    AbsoluteZeroC Celsius <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">273.15</span>
    FreezingC     Celsius <span class="token operator">=</span> <span class="token number">0</span>
    BoilingC      Celsius <span class="token operator">=</span> <span class="token number">100</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>    <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°C&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°F&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è½¬æ¢å‡½æ•°åˆ™æ”¾åœ¨å¦ä¸€ä¸ª <code>conv.go</code> æºæ–‡ä»¶ä¸­:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> tempconv

<span class="token comment">// CToF converts a Celsius temperature to Fahrenheit.</span>
<span class="token keyword">func</span> <span class="token function">CToF</span><span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> Fahrenheit <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Fahrenheit</span><span class="token punctuation">(</span>c<span class="token operator">*</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token comment">// FToC converts a Fahrenheit temperature to Celsius.</span>
<span class="token keyword">func</span> <span class="token function">FToC</span><span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> Celsius <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Celsius</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯ä¸ªæºæ–‡ä»¶éƒ½æ˜¯ä»¥åŒ…çš„å£°æ˜è¯­å¥å¼€å§‹, ç”¨æ¥æŒ‡æ˜åŒ…çš„åå­—; å½“åŒ…è¢«å¯¼å…¥çš„æ—¶å€™, åŒ…å†…çš„æˆå‘˜å°†é€šè¿‡ç±»ä¼¼ <code>tempconv.CToF</code> çš„å½¢å¼è®¿é—®</p><p>è€ŒåŒ…çº§åˆ«çš„åå­—, ä¾‹å¦‚åœ¨ä¸€ä¸ªæ–‡ä»¶å£°æ˜çš„ç±»å‹å’Œå¸¸é‡, åœ¨åŒä¸€ä¸ªåŒ…çš„å…¶ä»–æºæ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„, å°±å¥½åƒæ‰€æœ‰ä»£ç éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸€æ ·</p><p>è¦æ³¨æ„çš„æ˜¯ <code>tempconv.go</code> æºæ–‡ä»¶å¯¼å…¥äº† fmt åŒ…, ä½†æ˜¯ <code>conv.go</code> æºæ–‡ä»¶å¹¶æ²¡æœ‰, å› ä¸ºè¿™ä¸ªæºæ–‡ä»¶ä¸­çš„ä»£ç å¹¶æ²¡æœ‰ç”¨åˆ° fmt åŒ…</p><p>å› ä¸ºåŒ…çº§åˆ«çš„å¸¸é‡åéƒ½æ˜¯ä»¥å¤§å†™å­—æ¯å¼€å¤´, å®ƒä»¬å¯ä»¥åƒ <code>tempconv.AbsoluteZeroC</code> è¿™æ ·è¢«å¤–éƒ¨ä»£ç è®¿é—®:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Brrrr! %v\n&quot;</span><span class="token punctuation">,</span> tempconv<span class="token punctuation">.</span>AbsoluteZeroC<span class="token punctuation">)</span> <span class="token comment">// &quot;Brrrr! -273.15Â°C&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¦å°†æ‘„æ°æ¸©åº¦è½¬æ¢ä¸ºåæ°æ¸©åº¦, éœ€è¦å…ˆç”¨ <code>import</code> è¯­å¥å¯¼å…¥ <code>gopl.io/ch2/tempconv</code> åŒ…, ç„¶åå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œè½¬æ¢äº†:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tempconv<span class="token punctuation">.</span><span class="token function">CToF</span><span class="token punctuation">(</span>tempconv<span class="token punctuation">.</span>BoilingC<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;212Â°F&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨æ¯ä¸ªæºæ–‡ä»¶çš„åŒ…å£°æ˜å‰ç´§è·Ÿç€çš„æ³¨é‡Šæ˜¯åŒ…æ³¨é‡Š(Â§10.7.4)</p><p>é€šå¸¸, åŒ…æ³¨é‡Šçš„ç¬¬ä¸€å¥åº”è¯¥å…ˆæ˜¯åŒ…çš„åŠŸèƒ½æ¦‚è¦è¯´æ˜</p><p>ä¸€ä¸ªåŒ…é€šå¸¸åªæœ‰ä¸€ä¸ªæºæ–‡ä»¶æœ‰åŒ…æ³¨é‡Š, å¦‚æœåŒ…æ³¨é‡Šå¾ˆå¤§, é€šå¸¸ä¼šæ”¾åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ <code>doc.go</code> æ–‡ä»¶ä¸­</p><blockquote><p>è¯‘æ³¨: å¦‚æœæœ‰å¤šä¸ªåŒ…æ³¨é‡Š, ç›®å‰çš„æ–‡æ¡£å·¥å…·ä¼šæ ¹æ®æºæ–‡ä»¶åçš„å…ˆåé¡ºåºå°†å®ƒä»¬é“¾æ¥ä¸ºä¸€ä¸ªåŒ…æ³¨é‡Š</p></blockquote><hr><h3 id="ç»ƒä¹ -2-1" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ -2-1"><span>ç»ƒä¹  2.1</span></a></h3><p>å‘ <code>tempconv</code> åŒ…æ·»åŠ ç±»å‹, å¸¸é‡å’Œå‡½æ•°ç”¨æ¥å¤„ç† Kelvin ç»å¯¹æ¸©åº¦çš„è½¬æ¢, Kelvin ç»å¯¹é›¶åº¦æ˜¯ <code>âˆ’273.15Â°C</code>, Kelvin ç»å¯¹æ¸©åº¦ 1K å’Œæ‘„æ°åº¦ 1Â°C çš„å•ä½é—´éš”æ˜¯ä¸€æ ·çš„</p><blockquote><p>Kelvin(å¼€å°”æ–‡)æ˜¯å›½é™…å•ä½åˆ¶ä¸­çš„æ¸©åº¦å•ä½, ç¬¦å·ä¸º K, å®ƒæ˜¯çƒ­åŠ›å­¦æ¸©åº¦çš„åŸºæœ¬å•ä½, ä¹Ÿæ˜¯å”¯ä¸€çš„ç»å¯¹æ¸©åº¦å•ä½, å³å…¶é›¶ç‚¹æ˜¯ç»å¯¹é›¶åº¦, è¿™æ˜¯è‡ªç„¶ç•Œå¯èƒ½è¾¾åˆ°çš„æœ€ä½æ¸©åº¦</p><p>åœ¨ Kelvin æ¸©åº¦å°ºåº¦ä¸­, 1K çš„æ¸©åº¦é—´éš”ä¸ 1Â°C çš„æ¸©åº¦é—´éš”ç›¸åŒ, ä½†æ˜¯å®ƒä»¬çš„é›¶ç‚¹ä¸åŒ</p><p>Celsius(æ‘„æ°)æ¸©åº¦å°ºåº¦çš„é›¶ç‚¹æ˜¯å†°ç‚¹(æ°´ä»å›ºæ€å˜ä¸ºæ¶²æ€çš„æ¸©åº¦), è€Œ Kelvin æ¸©åº¦å°ºåº¦çš„é›¶ç‚¹æ˜¯ç»å¯¹é›¶åº¦</p></blockquote><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404062330056.png" alt="image-20240406232958942"></p><p><code>temp.go</code>:</p><div class="language-GO line-numbers-mode" data-ext="GO" data-title="GO"><pre class="language-GO"><code>// Package tempconv performs Celsius and Fahrenheit conversions.
package tempconv

import &quot;fmt&quot;

type Celsius float64
type Fahrenheit float64
type Kelvin float64

const (
	AbsoluteZeroC Celsius = -273.15
	FreezingC     Celsius = 0
	BoilingC      Celsius = 100
)

func (c Celsius) String() string    { return fmt.Sprintf(&quot;%gÂ°C&quot;, c) }
func (f Fahrenheit) String() string { return fmt.Sprintf(&quot;%gÂ°F&quot;, f) }
func (k Kelvin) String() string     { return fmt.Sprintf(&quot;%gÂ°K&quot;, k) }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>conv.go</code>:</p><div class="language-GO line-numbers-mode" data-ext="GO" data-title="GO"><pre class="language-GO"><code>package tempconv

// CToF converts a Celsius temperature to Fahrenheit.
func CToF(c Celsius) Fahrenheit { return Fahrenheit(c*9/5 + 32) }

// FToC converts a Fahrenheit temperature to Celsius.
func FToC(f Fahrenheit) Celsius { return Celsius((f - 32) * 5 / 9) }

// CToK converts a Celsius temperature to Kelvin.
func CToK(c Celsius) Kelvin { return Kelvin(c - AbsoluteZeroC) }

// KToC converts a Kelvin temperature to Celsius.
func KToC(k Kelvin) Celsius { return Celsius(k) + AbsoluteZeroC }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>main.go</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token comment">// &quot;CH2_6/tempconv&quot;</span>
	<span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/tempconv&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c1 <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Celsius</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
	f1 <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">CToF</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;100Â°C to Fahrenheit:&quot;</span><span class="token punctuation">,</span> f1<span class="token punctuation">)</span>
	k1 <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">CToK</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;100Â°C to Kelvin:&quot;</span><span class="token punctuation">,</span> k1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-6-1-å¯¼å…¥åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-6-1-å¯¼å…¥åŒ…"><span>2.6.1.å¯¼å…¥åŒ…</span></a></h3><p>åœ¨Goè¯­è¨€ç¨‹åºä¸­ï¼Œæ¯ä¸ªåŒ…éƒ½æœ‰ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„å¯¼å…¥è·¯å¾„ã€‚</p><p>å¯¼å…¥è¯­å¥ä¸­ç±»ä¼¼ <code>gopl.io/ch2/tempconv</code> çš„å­—ç¬¦ä¸²å¯¹åº”åŒ…çš„å¯¼å…¥è·¯å¾„ã€‚</p><p>Goè¯­è¨€çš„è§„èŒƒå¹¶æ²¡æœ‰å®šä¹‰è¿™äº›å­—ç¬¦ä¸²çš„å…·ä½“å«ä¹‰æˆ–åŒ…æ¥è‡ªå“ªé‡Œï¼Œå®ƒä»¬æ˜¯ç”±æ„å»ºå·¥å…·æ¥è§£é‡Šçš„ã€‚</p><p>å½“ä½¿ç”¨Goè¯­è¨€è‡ªå¸¦çš„goå·¥å…·ç®±æ—¶ï¼ˆç¬¬åç« ï¼‰ï¼Œä¸€ä¸ªå¯¼å…¥è·¯å¾„ä»£è¡¨ä¸€ä¸ªç›®å½•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªGoæºæ–‡ä»¶ã€‚</p><p>é™¤äº†åŒ…çš„å¯¼å…¥è·¯å¾„ï¼Œæ¯ä¸ªåŒ…è¿˜æœ‰ä¸€ä¸ªåŒ…åï¼ŒåŒ…åä¸€èˆ¬æ˜¯çŸ­å°çš„åå­—ï¼ˆå¹¶ä¸è¦æ±‚åŒ…åæ˜¯å”¯ä¸€çš„ï¼‰ï¼ŒåŒ…ååœ¨åŒ…çš„å£°æ˜å¤„æŒ‡å®šã€‚</p><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œä¸€ä¸ªåŒ…çš„åå­—å’ŒåŒ…çš„å¯¼å…¥è·¯å¾„çš„æœ€åä¸€ä¸ªå­—æ®µç›¸åŒï¼Œä¾‹å¦‚gopl.io/ch2/tempconvåŒ…çš„åå­—ä¸€èˆ¬æ˜¯tempconvã€‚</p><p>è¦ä½¿ç”¨ <code>gopl.io/ch2/tempconv</code> åŒ…ï¼Œéœ€è¦å…ˆå¯¼å…¥ï¼š</p><p><code>gopl.io/ch2/cf</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// Cf converts its numeric argument to Celsius and Fahrenheit.</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;os&quot;</span>
    <span class="token string">&quot;strconv&quot;</span>

    <span class="token string">&quot;gopl.io/ch2/tempconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> arg <span class="token operator">:=</span> <span class="token keyword">range</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> <span class="token string">&quot;cf: %v\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        f <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Fahrenheit</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        c <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Celsius</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s, %s = %s\n&quot;</span><span class="token punctuation">,</span>
            f<span class="token punctuation">,</span> tempconv<span class="token punctuation">.</span><span class="token function">FToC</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> tempconv<span class="token punctuation">.</span><span class="token function">CToF</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>PS: åœ¨ä¸Šä¸€èŠ‚çš„ç»ƒä¹ ä¸­æˆ‘ä»¬å°±ç”¨åˆ°äº†å¯¼å…¥åŒ…ï¼š</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404072321791.png" alt="image-20240407232152646"></p></blockquote><p>å¯¼å…¥è¯­å¥å°†å¯¼å…¥çš„åŒ…ç»‘å®šåˆ°ä¸€ä¸ªçŸ­å°çš„åå­—ï¼Œç„¶åé€šè¿‡è¯¥çŸ­å°çš„åå­—å°±å¯ä»¥å¼•ç”¨åŒ…ä¸­å¯¼å‡ºçš„å…¨éƒ¨å†…å®¹ã€‚</p><p>ä¸Šé¢çš„å¯¼å…¥å£°æ˜å°†å…è®¸æˆ‘ä»¬ä»¥ <code>tempconv.CToF</code> çš„å½¢å¼æ¥è®¿é—® <code>gopl.io/ch2/tempconv</code> åŒ…ä¸­çš„å†…å®¹ã€‚</p><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¼å…¥çš„åŒ…ç»‘å®šåˆ° <code>tempconv</code>åå­—ï¼ˆè¯‘æ³¨ï¼šæŒ‡åŒ…å£°æ˜è¯­å¥æŒ‡å®šçš„åå­—ï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»‘å®šåˆ°å¦ä¸€ä¸ªåç§°ï¼Œä»¥é¿å…åå­—å†²çªï¼ˆÂ§10.4ï¼‰ã€‚</p><hr><p>cfç¨‹åºå°†å‘½ä»¤è¡Œè¾“å…¥çš„ä¸€ä¸ªæ¸©åº¦åœ¨Celsiuså’ŒFahrenheitæ¸©åº¦å•ä½ä¹‹é—´è½¬æ¢ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>$ <span class="token keyword">go</span> build gopl<span class="token punctuation">.</span>io<span class="token operator">/</span>ch2<span class="token operator">/</span>cf
$ <span class="token punctuation">.</span><span class="token operator">/</span>cf <span class="token number">32</span>
<span class="token number">32</span>Â°F <span class="token operator">=</span> <span class="token number">0</span>Â°C<span class="token punctuation">,</span> <span class="token number">32</span>Â°C <span class="token operator">=</span> <span class="token number">89.6</span>Â°F
$ <span class="token punctuation">.</span><span class="token operator">/</span>cf <span class="token number">212</span>
<span class="token number">212</span>Â°F <span class="token operator">=</span> <span class="token number">100</span>Â°C<span class="token punctuation">,</span> <span class="token number">212</span>Â°C <span class="token operator">=</span> <span class="token number">413.6</span>Â°F
$ <span class="token punctuation">.</span><span class="token operator">/</span>cf <span class="token operator">-</span><span class="token number">40</span>
<span class="token operator">-</span><span class="token number">40</span>Â°F <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">40</span>Â°C<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40</span>Â°C <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">40</span>Â°F

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å¦‚æœå¯¼å…¥äº†ä¸€ä¸ªåŒ…ï¼Œä½†æ˜¯åˆæ²¡æœ‰ä½¿ç”¨è¯¥åŒ…å°†è¢«å½“ä½œä¸€ä¸ªç¼–è¯‘é”™è¯¯å¤„ç†ã€‚</p><p>è¿™ç§å¼ºåˆ¶è§„åˆ™å¯ä»¥æœ‰æ•ˆå‡å°‘ä¸å¿…è¦çš„ä¾èµ–ï¼Œè™½ç„¶åœ¨è°ƒè¯•æœŸé—´å¯èƒ½ä¼šè®©äººè®¨åŒï¼Œå› ä¸ºåˆ é™¤ä¸€ä¸ªç±»ä¼¼ <code>log.Print(&quot;got here!&quot;)</code> çš„æ‰“å°è¯­å¥å¯èƒ½å¯¼è‡´éœ€è¦åŒæ—¶åˆ é™¤logåŒ…å¯¼å…¥å£°æ˜ï¼Œå¦åˆ™ï¼Œç¼–è¯‘å™¨å°†ä¼šå‘å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸å¿…è¦çš„å¯¼å…¥åˆ é™¤æˆ–æ³¨é‡Šæ‰ã€‚</p><blockquote><p>VSCode çš„ Go æ‰©å±•è‡ªåŠ¨å®‰è£…çš„å·¥å…·åŒ…ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ï¼Œ å½“å¯¼å…¥çš„åŒ…æœªä½¿ç”¨æ—¶ä¼šè‡ªåŠ¨åˆ é™¤~</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404072324962.png" alt="image-20240407232448841"></p></blockquote><p>ä¸è¿‡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>golang.org/x/tools/cmd/goimports</code> å¯¼å…¥å·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨æ·»åŠ æˆ–åˆ é™¤å¯¼å…¥çš„åŒ…ï¼›</p><p>è®¸å¤šç¼–è¾‘å™¨éƒ½å¯ä»¥é›†æˆgoimportså·¥å…·ï¼Œç„¶ååœ¨ä¿å­˜æ–‡ä»¶çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œã€‚ç±»ä¼¼çš„è¿˜æœ‰gofmtå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ ¼å¼åŒ–Goæºæ–‡ä»¶ã€‚</p><hr><h3 id="ç»ƒä¹ 2-2" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ 2-2"><span>ç»ƒä¹ 2.2</span></a></h3><p><strong>ç»ƒä¹  2.2ï¼š</strong> å†™ä¸€ä¸ªé€šç”¨çš„å•ä½è½¬æ¢ç¨‹åºï¼Œç”¨ç±»ä¼¼ cf ç¨‹åºçš„æ–¹å¼ä»å‘½ä»¤è¡Œè¯»å–å‚æ•°ï¼Œå¦‚æœç¼ºçœçš„è¯åˆ™æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å–å‚æ•°ï¼Œç„¶ååšç±»ä¼¼ Celsius å’Œ Fahrenheit çš„å•ä½è½¬æ¢ï¼Œé•¿åº¦å•ä½å¯ä»¥å¯¹åº”è‹±å°ºå’Œç±³ï¼Œé‡é‡å•ä½å¯ä»¥å¯¹åº”ç£…å’Œå…¬æ–¤ç­‰ã€‚</p><blockquote><p>è‹±å°ºï¼ˆFeetï¼‰å’Œç±³ï¼ˆMeterï¼‰çš„å…³ç³»æ˜¯1è‹±å°ºç­‰äº0.3048ç±³ ç£…ï¼ˆPoundï¼‰å’Œå…¬æ–¤ï¼ˆKilogramï¼‰çš„å…³ç³»æ˜¯1ç£…ç­‰äº0.45359237å…¬æ–¤</p><p>PSï¼š <code>lb</code>æ˜¯ç£…ï¼ˆPoundï¼‰çš„æ‹‰ä¸ç¼©å†™ï¼Œæºè‡ªæ‹‰ä¸è¯â€œlibraâ€</p></blockquote><p>å†™å¯¹åº”çš„ä¸‰ä¸ªè½¬æ¢æ¨¡å—, ç„¶åå†™ä¸ª main å‡½æ•°å¤„ç†è¾“å…¥å¹¶ç”¨ switch case æ¥åˆ¤æ–­å•ä½ä»¥åŠè½¬æ¢å‡½æ•°å³å¯</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404080009265.png" alt="image-20240408000929196"></p><p><code>tempconv.go</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// å®šä¹‰æ¸©åº¦ä»¥åŠæ¸©åº¦è½¬æ¢ç›¸å…³çš„ç±»å‹å’Œå‡½æ•°</span>
<span class="token keyword">package</span> tempconv

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> Celsius <span class="token builtin">float64</span>
<span class="token keyword">type</span> Fahrenheit <span class="token builtin">float64</span>
<span class="token keyword">type</span> Kelvin <span class="token builtin">float64</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
	AbsoluteZeroC Celsius <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">273.15</span>
	FreezingC     Celsius <span class="token operator">=</span> <span class="token number">0</span>
	BoilingC      Celsius <span class="token operator">=</span> <span class="token number">100</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>    <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°C&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°F&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>k Kelvin<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>     <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%gÂ°K&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">CToF</span><span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> Fahrenheit <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Fahrenheit</span><span class="token punctuation">(</span>c<span class="token operator">*</span><span class="token number">9</span><span class="token operator">/</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">CToK</span><span class="token punctuation">(</span>c Celsius<span class="token punctuation">)</span> Kelvin <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Kelvin</span><span class="token punctuation">(</span>c <span class="token operator">-</span> AbsoluteZeroC<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">FToC</span><span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> Celsius <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Celsius</span><span class="token punctuation">(</span><span class="token punctuation">(</span>f <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">FToK</span><span class="token punctuation">(</span>f Fahrenheit<span class="token punctuation">)</span> Kelvin <span class="token punctuation">{</span>
	ftoc <span class="token operator">:=</span> <span class="token function">FToC</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	ctok <span class="token operator">:=</span> <span class="token function">CToK</span><span class="token punctuation">(</span>ftoc<span class="token punctuation">)</span>
	<span class="token keyword">return</span> ctok
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">KToC</span><span class="token punctuation">(</span>k Kelvin<span class="token punctuation">)</span> Celsius <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Celsius</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">+</span> AbsoluteZeroC <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">KToF</span><span class="token punctuation">(</span>k Kelvin<span class="token punctuation">)</span> Fahrenheit <span class="token punctuation">{</span>
	ktoc <span class="token operator">:=</span> <span class="token function">KToC</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
	ctof <span class="token operator">:=</span> <span class="token function">CToF</span><span class="token punctuation">(</span>ktoc<span class="token punctuation">)</span>
	<span class="token keyword">return</span> ctof
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>weightconv.go</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// å®šä¹‰é‡é‡(ç£…å’Œå…¬æ–¤)ä»¥åŠé‡é‡è½¬æ¢ç›¸å…³çš„ç±»å‹å’Œå‡½æ•°</span>
<span class="token keyword">package</span> weightconv

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> Pound <span class="token builtin">float64</span>
<span class="token keyword">type</span> Kilogram <span class="token builtin">float64</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
	PoundToKilogram <span class="token operator">=</span> <span class="token number">0.45359237</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>p Pound<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>    <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%g lb&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>k Kilogram<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%g kg&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">PToK</span><span class="token punctuation">(</span>p Pound<span class="token punctuation">)</span> Kilogram <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Kilogram</span><span class="token punctuation">(</span>p <span class="token operator">*</span> PoundToKilogram<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">KToP</span><span class="token punctuation">(</span>k Kilogram<span class="token punctuation">)</span> Pound <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Pound</span><span class="token punctuation">(</span>k <span class="token operator">/</span> PoundToKilogram<span class="token punctuation">)</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>lengthconv.go</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// å®šä¹‰é•¿åº¦ï¼ˆè‹±å°ºå’Œç±³ï¼‰ä»¥åŠé•¿åº¦è½¬æ¢ç›¸å…³çš„ç±»å‹å’Œå‡½æ•°</span>
<span class="token keyword">package</span> lengthconv

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> Feet <span class="token builtin">float64</span>
<span class="token keyword">type</span> Meter <span class="token builtin">float64</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
	FeetToMeter <span class="token operator">=</span> <span class="token number">0.3048</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>f Feet<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>  <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%g ft&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>m Meter<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%g m&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">FToM</span><span class="token punctuation">(</span>f Feet<span class="token punctuation">)</span> Meter <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Meter</span><span class="token punctuation">(</span>f <span class="token operator">*</span> FeetToMeter<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">MToF</span><span class="token punctuation">(</span>m Meter<span class="token punctuation">)</span> Feet <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">Feet</span><span class="token punctuation">(</span>m <span class="token operator">/</span> FeetToMeter<span class="token punctuation">)</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>main.go</code></p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// é€šç”¨çš„å•ä½è½¬æ¢ç¨‹åº,æ”¯æŒé•¿åº¦ã€é‡é‡ã€æ¸©åº¦çš„å•ä½è½¬æ¢;ä»å‘½ä»¤è¡Œè¯»å–å‚æ•°, å¦‚æœç¼ºçœçš„è¯åˆ™æ˜¯ä»æ ‡å‡†è¾“å…¥è¯»å–å‚æ•°ç„¶ååšç›¸åº”çš„è½¬æ¢</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/ex2_2/lengthconv&quot;</span>
	<span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/ex2_2/tempconv&quot;</span>
	<span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/ex2_2/weightconv&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;os&quot;</span>
	<span class="token string">&quot;strconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> number <span class="token builtin">string</span>
	<span class="token keyword">var</span> unit <span class="token builtin">string</span>

	<span class="token comment">// è·å–å‘½ä»¤è¡Œå‚æ•°</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¾…è½¬æ¢çš„å•ä½,ä¾‹å¦‚: 100F, 100ft, 100lb</span>
		number <span class="token operator">=</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
		<span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¾…è½¬æ¢çš„å•ä½,ä¾‹å¦‚: F, ft, lb</span>
		unit <span class="token operator">=</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">// ä»æ ‡å‡†è¾“å…¥è¯»å–å‚æ•°</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Please input the number and unit:&quot;</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>number<span class="token punctuation">,</span> <span class="token operator">&amp;</span>unit<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// å°†è¾“å…¥çš„æ•°å­—è½¬æ¢ä¸ºæµ®ç‚¹æ•°</span>
	num<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> <span class="token string">&quot;unitconv: %v\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// æ ¹æ®è¾“å…¥çš„å•ä½è¿›è¡Œè½¬æ¢</span>
	<span class="token keyword">switch</span> unit <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token string">&quot;Â°C&quot;</span><span class="token punctuation">:</span>
		c <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Celsius</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		f <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">CToF</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
		k <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">CToK</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s, %s = %s\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> f<span class="token punctuation">,</span> c<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;Â°F&quot;</span><span class="token punctuation">:</span>
		f <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Fahrenheit</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		c <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">FToC</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
		k <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">FToK</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s, %s = %s\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">,</span> c<span class="token punctuation">,</span> f<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;Â°K&quot;</span><span class="token punctuation">:</span>
		k <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">Kelvin</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		c <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">KToC</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
		f <span class="token operator">:=</span> tempconv<span class="token punctuation">.</span><span class="token function">KToF</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s, %s = %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> c<span class="token punctuation">,</span> k<span class="token punctuation">,</span> f<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;ft&quot;</span><span class="token punctuation">:</span>
		f <span class="token operator">:=</span> lengthconv<span class="token punctuation">.</span><span class="token function">Feet</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		m <span class="token operator">:=</span> lengthconv<span class="token punctuation">.</span><span class="token function">FToM</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">,</span> m<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">:</span>
		m <span class="token operator">:=</span> lengthconv<span class="token punctuation">.</span><span class="token function">Meter</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		f <span class="token operator">:=</span> lengthconv<span class="token punctuation">.</span><span class="token function">MToF</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s\n&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">,</span> f<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;lb&quot;</span><span class="token punctuation">:</span>
		p <span class="token operator">:=</span> weightconv<span class="token punctuation">.</span><span class="token function">Pound</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		k <span class="token operator">:=</span> weightconv<span class="token punctuation">.</span><span class="token function">PToK</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s\n&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token string">&quot;kg&quot;</span><span class="token punctuation">:</span>
		k <span class="token operator">:=</span> weightconv<span class="token punctuation">.</span><span class="token function">Kilogram</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
		p <span class="token operator">:=</span> weightconv<span class="token punctuation">.</span><span class="token function">KToP</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s = %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> p<span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> <span class="token string">&quot;unitconv: unknown unit %s\n&quot;</span><span class="token punctuation">,</span> unit<span class="token punctuation">)</span>
		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404080012359.png" alt="image-20240408001212248"></p><hr><h3 id="_2-6-2-åŒ…çš„åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-6-2-åŒ…çš„åˆå§‹åŒ–"><span>2.6.2.åŒ…çš„åˆå§‹åŒ–</span></a></h3><p>åŒ…çš„åˆå§‹åŒ–é¦–å…ˆæ˜¯è§£å†³åŒ…çº§å˜é‡çš„ä¾èµ–é¡ºåºï¼Œç„¶åæŒ‰ç…§åŒ…çº§å˜é‡å£°æ˜å‡ºç°çš„é¡ºåºä¾æ¬¡åˆå§‹åŒ–ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">+</span> c <span class="token comment">// a ç¬¬ä¸‰ä¸ªåˆå§‹åŒ–, ä¸º 3</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// b ç¬¬äºŒä¸ªåˆå§‹åŒ–, ä¸º 2, é€šè¿‡è°ƒç”¨ f (ä¾èµ–c)</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span>     <span class="token comment">// c ç¬¬ä¸€ä¸ªåˆå§‹åŒ–, ä¸º 1</span>

<span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> c <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåŒ…ä¸­å«æœ‰å¤šä¸ª <code>.go</code> æºæ–‡ä»¶ï¼Œå®ƒä»¬å°†æŒ‰ç…§å‘ç»™ç¼–è¯‘å™¨çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–ï¼ŒGoè¯­è¨€çš„æ„å»ºå·¥å…·é¦–å…ˆä¼šå°† <code>.go</code> æ–‡ä»¶æ ¹æ®æ–‡ä»¶åæ’åº(å­—å…¸åº)ï¼Œç„¶åä¾æ¬¡è°ƒç”¨ç¼–è¯‘å™¨ç¼–è¯‘ã€‚</p><p>å¯¹äºåœ¨åŒ…çº§åˆ«å£°æ˜çš„å˜é‡ï¼Œå¦‚æœæœ‰åˆå§‹åŒ–è¡¨è¾¾å¼åˆ™ç”¨è¡¨è¾¾å¼åˆå§‹åŒ–ï¼Œè¿˜æœ‰ä¸€äº›æ²¡æœ‰åˆå§‹åŒ–è¡¨è¾¾å¼çš„ï¼Œä¾‹å¦‚æŸäº›è¡¨æ ¼æ•°æ®åˆå§‹åŒ–å¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„èµ‹å€¼è¿‡ç¨‹ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šçš„initåˆå§‹åŒ–å‡½æ•°æ¥ç®€åŒ–åˆå§‹åŒ–å·¥ä½œã€‚</p><p>æ¯ä¸ªæ–‡ä»¶éƒ½å¯ä»¥åŒ…å«å¤šä¸ªinitåˆå§‹åŒ–å‡½æ•°</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·çš„ <code>init</code> åˆå§‹åŒ–å‡½æ•°é™¤äº†ä¸èƒ½è¢«è°ƒç”¨æˆ–å¼•ç”¨å¤–ï¼Œå…¶ä»–è¡Œä¸ºå’Œæ™®é€šå‡½æ•°ç±»ä¼¼ã€‚</p><p>åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­çš„initåˆå§‹åŒ–å‡½æ•°ï¼Œåœ¨ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶æŒ‰ç…§å®ƒä»¬å£°æ˜çš„é¡ºåºè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p><hr><p>æ¯ä¸ªåŒ…åœ¨è§£å†³ä¾èµ–çš„å‰æä¸‹ï¼Œä»¥å¯¼å…¥å£°æ˜çš„é¡ºåºåˆå§‹åŒ–ï¼Œæ¯ä¸ªåŒ…åªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªpåŒ…å¯¼å…¥äº†qåŒ…ï¼Œé‚£ä¹ˆåœ¨påŒ…åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥è®¤ä¸ºqåŒ…å¿…ç„¶å·²ç»åˆå§‹åŒ–è¿‡äº†ã€‚</p><p>åˆå§‹åŒ–å·¥ä½œæ˜¯è‡ªä¸‹è€Œä¸Šè¿›è¡Œçš„ï¼ŒmainåŒ…æœ€åè¢«åˆå§‹åŒ–ã€‚</p><p>ä»¥è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç¡®ä¿åœ¨mainå‡½æ•°æ‰§è¡Œä¹‹å‰ï¼Œæ‰€æœ‰ä¾èµ–çš„åŒ…éƒ½å·²ç»å®Œæˆåˆå§‹åŒ–å·¥ä½œäº†ã€‚</p><hr><p>ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ª PopCount å‡½æ•°ï¼Œç”¨äºè¿”å›ä¸€ä¸ªæ•°å­—ä¸­å«äºŒè¿›åˆ¶ 1bi tçš„ä¸ªæ•°ã€‚</p><p>å®ƒä½¿ç”¨ init åˆå§‹åŒ–å‡½æ•°æ¥ç”Ÿæˆè¾…åŠ©è¡¨æ ¼pcï¼Œpcè¡¨æ ¼ç”¨äºå¤„ç†æ¯ä¸ª 8bit å®½åº¦çš„æ•°å­—å«äºŒè¿›åˆ¶çš„ 1bit çš„ bit ä¸ªæ•°ï¼ˆä¹Ÿç§°ä¸ºæ±‰æ˜æƒé‡æˆ–è€…ç§ç¾¤æ•°é‡ï¼‰ï¼Œè¿™æ ·çš„è¯åœ¨å¤„ç† 64bit å®½åº¦çš„æ•°å­—æ—¶å°±æ²¡æœ‰å¿…è¦å¾ªç¯64æ¬¡ï¼Œåªéœ€è¦8æ¬¡æŸ¥è¡¨å°±å¯ä»¥äº†ã€‚</p><blockquote><p>PS: è¿™å¹¶ä¸æ˜¯æœ€å¿«çš„ç»Ÿè®¡1bitæ•°ç›®çš„ç®—æ³•ï¼Œä½†æ˜¯å®ƒå¯ä»¥æ–¹ä¾¿æ¼”ç¤ºinitå‡½æ•°çš„ç”¨æ³•ï¼Œå¹¶ä¸”æ¼”ç¤ºäº†å¦‚ä½•é¢„ç”Ÿæˆè¾…åŠ©è¡¨æ ¼ï¼Œè¿™æ˜¯ç¼–ç¨‹ä¸­å¸¸ç”¨çš„æŠ€æœ¯</p></blockquote><p><code>gopl.io/ch2/popcount</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> popcount

<span class="token comment">// pc[i] is the population count of i.</span>
<span class="token keyword">var</span> pc <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token builtin">byte</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡Œçš„ for i:=range pc åªæ¥æ”¶ range è¿”å›çš„ index, value ä¸­çš„ index, ä¹Ÿå°±æ˜¯è¯´ i çš„å€¼æ˜¯ 0-255</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> pc <span class="token punctuation">{</span>
        <span class="token comment">// go è¯­è¨€ä¸­æ•´æ•°é™¤æ³•æ˜¯å‘ä¸‹å–æ•´çš„, ä¹Ÿå°±æ˜¯è¯´ 1/2 = 0</span>
        pc<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pc<span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">byte</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// PopCount returns the population count (number of set bits) of x.</span>
<span class="token keyword">func</span> <span class="token function">PopCount</span><span class="token punctuation">(</span>x <span class="token builtin">uint64</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token comment">// byte(x) -&gt; å– x çš„ä½ 8 ä½</span>
    <span class="token keyword">return</span> <span class="token function">int</span><span class="token punctuation">(</span>pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span>
        pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¯‘æ³¨ï¼šå¯¹äºpcè¿™ç±»éœ€è¦å¤æ‚å¤„ç†çš„åˆå§‹åŒ–ï¼Œå¯ä»¥é€šè¿‡å°†åˆå§‹åŒ–é€»è¾‘åŒ…è£…ä¸ºä¸€ä¸ªåŒ¿åå‡½æ•°å¤„ç†ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// pc[i] is the population count of i.</span>
<span class="token keyword">var</span> pc <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>pc <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> pc <span class="token punctuation">{</span>
     pc<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pc<span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">byte</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æ³¨æ„çš„æ˜¯åœ¨initå‡½æ•°ä¸­ï¼Œrangeå¾ªç¯åªä½¿ç”¨äº†ç´¢å¼•ï¼Œçœç•¥äº†æ²¡æœ‰ç”¨åˆ°çš„å€¼éƒ¨åˆ†ã€‚å¾ªç¯ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> <span class="token keyword">range</span> pc <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚å’Œ10.5èŠ‚è¿˜å°†çœ‹åˆ°å…¶å®ƒä½¿ç”¨initå‡½æ•°çš„åœ°æ–¹ã€‚</p><hr><p><code>byte(x)</code>: å– x çš„ä½ 8 ä½</p></blockquote><hr><h3 id="ç»ƒä¹ 2-3" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ 2-3"><span>ç»ƒä¹ 2.3</span></a></h3><p><strong>ç»ƒä¹  2.3ï¼š</strong> é‡å†™PopCountå‡½æ•°ï¼Œç”¨ä¸€ä¸ªå¾ªç¯ä»£æ›¿å•ä¸€çš„è¡¨è¾¾å¼ã€‚æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½ã€‚</p><blockquote><p>11.4èŠ‚å°†å±•ç¤ºå¦‚ä½•ç³»ç»Ÿåœ°æ¯”è¾ƒä¸¤ä¸ªä¸åŒå®ç°çš„æ€§èƒ½ã€‚</p></blockquote><p>æŒ‰ç†æ¥è¯´, ç›´æ¥æ‰‹åŠ¨æŠŠ 8 æ¬¡è®¡ç®—éƒ½æ˜ç¡®å†™å‡ºæ¥æ˜¯è¦æ¯”å¾ªç¯å¿«çš„, å› ä¸ºå¼•å…¥å¾ªç¯ä¼šå¢åŠ é¢å¤–çš„å¼€é”€, ä¾‹å¦‚</p><ul><li><strong>å¾ªç¯æ§åˆ¶è¯­å¥çš„å¼€é”€</strong>ï¼šæ¯æ¬¡å¾ªç¯éƒ½éœ€è¦è¿›è¡Œæ¡ä»¶æ£€æŸ¥ï¼Œä»¥ç¡®å®šæ˜¯å¦ç»§ç»­æ‰§è¡Œå¾ªç¯</li><li><strong>å˜é‡æ›´æ–°çš„å¼€é”€</strong>ï¼šåœ¨å¾ªç¯ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸€äº›å˜é‡éœ€è¦åœ¨æ¯æ¬¡å¾ªç¯æ—¶æ›´æ–°ï¼ˆä¾‹å¦‚å¾ªç¯è®¡æ•°å™¨ï¼‰</li><li><strong>å‡½æ•°è°ƒç”¨çš„å¼€é”€</strong>ï¼šå¦‚æœåœ¨å¾ªç¯ä¸­è°ƒç”¨äº†å‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šæœ‰ä¸€å®šçš„å¼€é”€ï¼ŒåŒ…æ‹¬å‚æ•°ä¼ é€’ã€è¿”å›å€¼å¤„ç†ã€æ ˆå¸§ç®¡ç†ç­‰</li></ul><p>è¿™é‡Œç”±äºè¿˜æ²¡æœ‰æ¥è§¦åé¢ 11 ç« ç³»ç»Ÿæ¯”è¾ƒç¨‹åºæ€§èƒ½çš„æ–¹æ³•, å› æ­¤é‡‡ç”¨äº†å¾ªç¯å¤šæ¬¡è®¡ç®—å‡½æ•°è°ƒç”¨æ—¶é—´çš„æ–¹å¼æ¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404080207767.png" alt="image-20240408020704725"></p><p><code>ex2_3/popcount</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// é‡å†™PopCountå‡½æ•°ï¼Œç”¨ä¸€ä¸ªå¾ªç¯ä»£æ›¿å•ä¸€çš„è¡¨è¾¾å¼ã€‚æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½ã€‚</span>
<span class="token keyword">package</span> popcount

<span class="token comment">// pc[i] is the population count of i.</span>
<span class="token keyword">var</span> pc <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token builtin">byte</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// è¿™é‡Œçš„ for i:=range pc åªæ¥æ”¶ range è¿”å›çš„ index, value ä¸­çš„ index, ä¹Ÿå°±æ˜¯è¯´ i çš„å€¼æ˜¯ 0-255</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> pc <span class="token punctuation">{</span>
		<span class="token comment">// go è¯­è¨€ä¸­æ•´æ•°é™¤æ³•æ˜¯å‘ä¸‹å–æ•´çš„, ä¹Ÿå°±æ˜¯è¯´ 1/2 = 0</span>
		pc<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pc<span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">byte</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// PopCount returns the population count (number of set bits) of x.</span>
<span class="token keyword">func</span> <span class="token function">PopCount</span><span class="token punctuation">(</span>x <span class="token builtin">uint64</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> count <span class="token builtin">int</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		count <span class="token operator">+=</span> <span class="token function">int</span><span class="token punctuation">(</span>pc<span class="token punctuation">[</span><span class="token function">byte</span><span class="token punctuation">(</span>x<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token function">uint</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>main.go</code>:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬ PopCountå‡½æ•°çš„æ€§èƒ½</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	ex2_3_popcount <span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/ex2_3/popcount&quot;</span>
	popcount <span class="token string">&quot;GoLearning/Chapter/ch2/ch2_6_package_and_file/popcount&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// é€šè¿‡è¿è¡Œæ—¶é•¿æ¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½</span>
	start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		ex2_3_popcount<span class="token punctuation">.</span><span class="token function">PopCount</span><span class="token punctuation">(</span><span class="token number">0x1234567890ABCDEF</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	time_spent <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Nanoseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-25s %v ns\n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ex2_3_popcount.PopCount:&quot;</span><span class="token punctuation">,</span> time_spent<span class="token punctuation">)</span>

	start <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		popcount<span class="token punctuation">.</span><span class="token function">PopCount</span><span class="token punctuation">(</span><span class="token number">0x1234567890ABCDEF</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	time_spent <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Nanoseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-25s %v ns\n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;popcount.PopCount:&quot;</span><span class="token punctuation">,</span> time_spent<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404080211356.png" alt="image-20240408021101266"></p><p>å¯ä»¥çœ‹åˆ°ç›´æ¥å†™å‡º 8 æ¬¡è¿ç®—çš„æ€§èƒ½æ˜¯è¦ä¼˜äºå¾ªç¯çš„</p><hr><h3 id="ç»ƒä¹ 2-4" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ 2-4"><span>ç»ƒä¹ 2.4</span></a></h3><p><strong>ç»ƒä¹  2.4ï¼š</strong> ç”¨ç§»ä½ç®—æ³•é‡å†™ <code>PopCount</code> å‡½æ•°ï¼Œæ¯æ¬¡æµ‹è¯•æœ€å³è¾¹çš„1bitï¼Œç„¶åç»Ÿè®¡æ€»æ•°ã€‚æ¯”è¾ƒå’ŒæŸ¥è¡¨ç®—æ³•çš„æ€§èƒ½å·®å¼‚ã€‚</p><p>è¿™é‡Œè¿˜æ˜¯å»¶ç»­ 2.3 çš„æ€è·¯, é€šè¿‡å¾ªç¯å¤šæ¬¡è®¡ç®—å‡½æ•°è°ƒç”¨æ—¶é—´æ¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„æ€§èƒ½</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token comment">// ç”¨ç§»ä½ç®—æ³•é‡å†™ PopCount å‡½æ•°ï¼Œæ¯æ¬¡æµ‹è¯•æœ€å³è¾¹çš„1bitï¼Œç„¶åç»Ÿè®¡æ€»æ•°</span>
<span class="token keyword">func</span> <span class="token function">PopCount</span><span class="token punctuation">(</span>x <span class="token builtin">uint64</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> count <span class="token builtin">int</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		count <span class="token operator">+=</span> <span class="token function">int</span><span class="token punctuation">(</span>x <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span>
		x <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é¢„è§çš„æ˜¯, ex2.4 çš„ PopCount å‡½æ•°æ¯æ¬¡éƒ½è¦åš 64 æ¬¡å¾ªç¯ä»¥åŠä½æ“ä½œ, æ‰€ä»¥ä»–çš„æ€§èƒ½è¿œä¸åŠ ex2.3 çš„ç‰ˆæœ¬</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404082325775.png" alt="image-20240408232531678"></p><hr><h3 id="ç»ƒä¹ 2-5" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ 2-5"><span>ç»ƒä¹ 2.5</span></a></h3><p><strong>ç»ƒä¹  2.5ï¼š</strong> è¡¨è¾¾å¼<code>x&amp;(x-1)</code>ç”¨äºå°†xçš„æœ€ä½çš„ä¸€ä¸ªéé›¶çš„bitä½æ¸…é›¶ã€‚ä½¿ç”¨è¿™ä¸ªç®—æ³•é‡å†™PopCountå‡½æ•°ï¼Œç„¶åæ¯”è¾ƒæ€§èƒ½ã€‚</p><p>å†™è¿™ä¸ªå‡½éœ€è¦åˆ©ç”¨ <code>x&amp;(x-1)</code> è¿™ä¸ªè¡¨è¾¾å¼æ¥æ¸…é™¤ x çš„æœ€ä½ä½çš„ 1 ç›´åˆ° x ä¸º 0</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">PopCount</span><span class="token punctuation">(</span>x <span class="token builtin">uint64</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> count <span class="token builtin">int</span>
	<span class="token keyword">for</span> x <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		count<span class="token operator">++</span>
		x <span class="token operator">&amp;=</span> x <span class="token operator">-</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥é¢„è§çš„æ˜¯, éœ€è¦è®¡ç®—çš„ x å¹¶ä¸ä¸€å®šå…¨éƒ¨ä½éƒ½æ˜¯é0, å› æ­¤è¿™ä¸ªç‰ˆæœ¬çš„æ€§èƒ½åº”è¯¥ä¼šä¼˜äº ex2.4 çš„ç‰ˆæœ¬,ä½†æ˜¯ç”±äºæ¯æ¬¡å¾ªç¯éƒ½è¦åšä½æ“ä½œ, æ‰€ä»¥ä»–çš„æ€§èƒ½ä¹Ÿè¿œä¸åŠ ex2.3 çš„ç‰ˆæœ¬</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404082349231.png" alt="image-20240408234900132"></p><hr><h2 id="_2-7-ä½œç”¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#_2-7-ä½œç”¨åŸŸ"><span>2.7.ä½œç”¨åŸŸ</span></a></h2><p>ä¸€ä¸ªå£°æ˜è¯­å¥å°†ç¨‹åºä¸­çš„å®ä½“å’Œä¸€ä¸ªåå­—å…³è”ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°æˆ–ä¸€ä¸ªå˜é‡ã€‚</p><p>å£°æ˜è¯­å¥çš„ä½œç”¨åŸŸæ˜¯æŒ‡æºä»£ç ä¸­å¯ä»¥æœ‰æ•ˆä½¿ç”¨è¿™ä¸ªåå­—çš„èŒƒå›´ã€‚</p><hr><p>ä¸è¦å°†ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸæ··ä¸ºä¸€è°ˆã€‚</p><ul><li><p>å£°æ˜è¯­å¥çš„ä½œç”¨åŸŸå¯¹åº”çš„æ˜¯ä¸€ä¸ªæºä»£ç çš„æ–‡æœ¬åŒºåŸŸï¼›</p><p>å®ƒæ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶çš„å±æ€§ã€‚</p></li><li><p>ä¸€ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡ç¨‹åºè¿è¡Œæ—¶å˜é‡å­˜åœ¨çš„æœ‰æ•ˆæ—¶é—´æ®µï¼Œåœ¨æ­¤æ—¶é—´åŒºåŸŸå†…å®ƒå¯ä»¥è¢«ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å¼•ç”¨ï¼›</p><p>æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶çš„æ¦‚å¿µã€‚</p></li></ul><hr><p>å¥æ³•å—æ˜¯ç”±èŠ±æ‹¬å¼§æ‰€åŒ…å«çš„ä¸€ç³»åˆ—è¯­å¥ï¼Œå°±åƒå‡½æ•°ä½“æˆ–å¾ªç¯ä½“èŠ±æ‹¬å¼§åŒ…è£¹çš„å†…å®¹ä¸€æ ·ã€‚</p><p>å¥æ³•å—å†…éƒ¨å£°æ˜çš„åå­—æ˜¯æ— æ³•è¢«å¤–éƒ¨å—è®¿é—®çš„, è¿™ä¸ªå—å†³å®šäº†å†…éƒ¨å£°æ˜çš„åå­—çš„ä½œç”¨åŸŸèŒƒå›´ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠå—ï¼ˆblockï¼‰çš„æ¦‚å¿µæ¨å¹¿åˆ°åŒ…æ‹¬å…¶ä»–å£°æ˜çš„ç¾¤ç»„ï¼Œè¿™äº›å£°æ˜åœ¨ä»£ç ä¸­å¹¶æœªæ˜¾å¼åœ°ä½¿ç”¨èŠ±æ‹¬å·åŒ…è£¹èµ·æ¥ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè¯æ³•å—ã€‚</p><p>å¯¹å…¨å±€çš„æºä»£ç æ¥è¯´ï¼Œå­˜åœ¨ä¸€ä¸ªæ•´ä½“çš„è¯æ³•å—ï¼Œç§°ä¸ºå…¨å±€è¯æ³•å—ï¼›</p><p>å¯¹äºæ¯ä¸ªåŒ…ï¼›æ¯ä¸ªforã€ifå’Œswitchè¯­å¥ï¼Œä¹Ÿéƒ½æœ‰å¯¹åº”è¯æ³•å—ï¼›</p><p>æ¯ä¸ªswitchæˆ–selectçš„åˆ†æ”¯ä¹Ÿæœ‰ç‹¬ç«‹çš„è¯æ³•å—ï¼›</p><p>å½“ç„¶ä¹ŸåŒ…æ‹¬æ˜¾å¼ä¹¦å†™çš„è¯æ³•å—ï¼ˆèŠ±æ‹¬å¼§åŒ…å«çš„è¯­å¥ï¼‰ã€‚</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/202404082354275.png" alt="image-20240408235404185"></p><hr><p>å£°æ˜è¯­å¥å¯¹åº”çš„è¯æ³•åŸŸå†³å®šäº†ä½œç”¨åŸŸèŒƒå›´çš„å¤§å°ã€‚</p><p>å¯¹äºå†…ç½®çš„ç±»å‹ã€å‡½æ•°å’Œå¸¸é‡ï¼Œæ¯”å¦‚intã€lenå’Œtrueç­‰æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸçš„ï¼Œå› æ­¤å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºä¸­ç›´æ¥ä½¿ç”¨ã€‚</p><p>ä»»ä½•åœ¨å‡½æ•°å¤–éƒ¨ï¼ˆä¹Ÿå°±æ˜¯åŒ…çº§è¯­æ³•åŸŸï¼‰å£°æ˜çš„åå­—å¯ä»¥åœ¨åŒä¸€ä¸ªåŒ…çš„ä»»ä½•æºæ–‡ä»¶ä¸­è®¿é—®çš„ã€‚</p><p>å¯¹äºå¯¼å…¥çš„åŒ…ï¼Œä¾‹å¦‚tempconvå¯¼å…¥çš„fmtåŒ…ï¼Œåˆ™æ˜¯å¯¹åº”æºæ–‡ä»¶çº§çš„ä½œç”¨åŸŸï¼Œå› æ­¤åªèƒ½åœ¨å½“å‰çš„æ–‡ä»¶ä¸­è®¿é—®å¯¼å…¥çš„fmtåŒ…ï¼Œå½“å‰åŒ…çš„å…¶å®ƒæºæ–‡ä»¶æ— æ³•è®¿é—®åœ¨å½“å‰æºæ–‡ä»¶å¯¼å…¥çš„åŒ…ã€‚</p><p>è¿˜æœ‰è®¸å¤šå£°æ˜è¯­å¥ï¼Œæ¯”å¦‚ <code>tempconv.CToF</code> å‡½æ•°ä¸­çš„å˜é‡cï¼Œåˆ™æ˜¯å±€éƒ¨ä½œç”¨åŸŸçš„ï¼Œå®ƒåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ï¼ˆç”šè‡³åªèƒ½æ˜¯å±€éƒ¨çš„æŸäº›éƒ¨åˆ†ï¼‰è®¿é—®ã€‚</p><hr><p>æ§åˆ¶æµæ ‡å·ï¼Œå°±æ˜¯breakã€continueæˆ–gotoè¯­å¥åé¢è·Ÿç€çš„é‚£ç§æ ‡å·ï¼Œåˆ™æ˜¯å‡½æ•°çº§çš„ä½œç”¨åŸŸã€‚</p><p>è¿™é‡Œçš„æ§åˆ¶æµæ ‡ç­¾ï¼ˆControl Flow Labelsï¼‰æ˜¯ Go è¯­è¨€ä¸­ä¸€ç§ç‰¹æ®Šçš„æ ‡ç­¾ï¼Œå®ƒä»¬å¯ä»¥è¢«ç”¨åœ¨ <code>break</code>ã€<code>continue</code> æˆ– <code>goto</code> è¯­å¥åé¢ï¼Œç”¨æ¥æ˜ç¡®æŒ‡å®šè·³è½¬çš„ç›®æ ‡ä½ç½®, ä¾‹å¦‚:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> <span class="token number">5</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span> <span class="token comment">// è¿™é‡Œçš„ break ä¼šè·³å‡ºå†…å±‚çš„ for å¾ªç¯</span>
            <span class="token punctuation">}</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;------&quot;</span><span class="token punctuation">)</span>

    OuterLoop<span class="token punctuation">:</span> <span class="token comment">// è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æµæ ‡ç­¾</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> <span class="token number">5</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span> OuterLoop <span class="token comment">// è¿™é‡Œçš„ break ä¼šè·³å‡ºæ ‡ç­¾æŒ‡å®šçš„å¤–å±‚ for å¾ªç¯</span>
            <span class="token punctuation">}</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤º</p><ul><li>åœ¨ç¬¬ä¸€ä¸ª <code>for</code> å¾ªç¯ä¸­ï¼Œå½“ <code>i</code> å’Œ <code>j</code> éƒ½ç­‰äº 5 æ—¶ï¼Œ<code>break</code> è¯­å¥ä¼šè·³å‡ºå†…å±‚çš„ <code>for</code> å¾ªç¯ã€‚</li><li>åœ¨ç¬¬äºŒä¸ªå¾ªç¯å‰å®šä¹‰ä¸€ä¸ªæ ‡ç­¾ï¼Œç„¶ååœ¨å¾ªç¯ä½“å†…éƒ¨ä½¿ç”¨ <code>break</code> æˆ– <code>continue</code> è¯­å¥åŠ ä¸Šè¿™ä¸ªæ ‡ç­¾ï¼Œæ¥è·³å‡ºæˆ–ç»§ç»­è¿™ä¸ªæ ‡ç­¾æ‰€åœ¨çš„å¾ªç¯ï¼Œè€Œä¸ä»…ä»…æ˜¯æœ€å†…å±‚çš„å¾ªç¯</li></ul><hr><p>goto åˆ™å’Œæˆ‘ä»¬åœ¨ C ä¸­æ¥è§¦çš„ goto å·®ä¸å¤š, ä¾‹å¦‚:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i <span class="token operator">:=</span> <span class="token number">0</span>
    Here<span class="token punctuation">:</span> <span class="token comment">// è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æµæ ‡ç­¾</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    i<span class="token operator">++</span>
    <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{</span>
        <span class="token keyword">goto</span> Here <span class="token comment">// è¿™é‡Œçš„ goto ä¼šè·³è½¬åˆ° Here æ ‡ç­¾æŒ‡å®šçš„ä½ç½®</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>è¿™é‡Œæ‰€è¯´çš„å‡½æ•°çº§ä½œç”¨åŸŸ, ä¾‹å¦‚:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i <span class="token operator">:=</span> <span class="token number">0</span>
    Here<span class="token punctuation">:</span> <span class="token comment">// è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æµæ ‡ç­¾</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    i<span class="token operator">++</span>
    <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{</span>
        <span class="token keyword">goto</span> Here <span class="token comment">// è¿™é‡Œçš„ goto ä¼šè·³è½¬åˆ° Here æ ‡ç­¾æŒ‡å®šçš„ä½ç½®</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// goto Here // è¿™æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º Here æ ‡ç­¾åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›æ ‡ç­¾ä¸æ˜¯å…¨å±€çš„, æ— æ³•ç¦»å¼€å½“å‰æ‰€åœ¨çš„å—åŒºåŸŸ</p><hr><p>ä¸€ä¸ªç¨‹åºå¯èƒ½åŒ…å«å¤šä¸ªåŒåçš„å£°æ˜ï¼Œåªè¦å®ƒä»¬åœ¨ä¸åŒçš„è¯æ³•åŸŸå°±æ²¡æœ‰å…³ç³»ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå’ŒåŒ…çº§çš„å˜é‡åŒåã€‚</p><p>æˆ–è€…æ˜¯åƒ2.3.3èŠ‚çš„ä¾‹å­é‚£æ ·ï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°å‚æ•°çš„åå­—å£°æ˜ä¸ºnewï¼Œè™½ç„¶å†…ç½®çš„newæ˜¯å…¨å±€ä½œç”¨åŸŸçš„ã€‚</p><p>ä½†æ˜¯ç‰©æå¿…åï¼Œå¦‚æœæ»¥ç”¨ä¸åŒè¯æ³•åŸŸå¯é‡åçš„ç‰¹æ€§çš„è¯ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå¾ˆéš¾é˜…è¯»ã€‚</p><hr><p>å½“ç¼–è¯‘å™¨é‡åˆ°ä¸€ä¸ªåå­—å¼•ç”¨æ—¶ï¼Œå®ƒä¼šå¯¹å…¶å®šä¹‰è¿›è¡ŒæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹ä»æœ€å†…å±‚çš„è¯æ³•åŸŸå‘å…¨å±€çš„ä½œç”¨åŸŸè¿›è¡Œã€‚</p><p>å¦‚æœæŸ¥æ‰¾å¤±è´¥ï¼Œåˆ™æŠ¥å‘Šâ€œæœªå£°æ˜çš„åå­—â€è¿™æ ·çš„é”™è¯¯ã€‚</p><p>å¦‚æœè¯¥åå­—åœ¨å†…éƒ¨å’Œå¤–éƒ¨çš„å—åˆ†åˆ«å£°æ˜è¿‡ï¼Œåˆ™å†…éƒ¨å—çš„å£°æ˜é¦–å…ˆè¢«æ‰¾åˆ°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå†…éƒ¨å£°æ˜å±è”½äº†å¤–éƒ¨åŒåçš„å£°æ˜ï¼Œè®©å¤–éƒ¨çš„å£°æ˜çš„åå­—æ— æ³•è¢«è®¿é—®ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token string">&quot;g&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    f <span class="token operator">:=</span> <span class="token string">&quot;f&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token comment">// &quot;f&quot;; local var f shadows package-level func f</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token comment">// &quot;g&quot;; package-level var</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token comment">// compile error: undefined: h</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å‡½æ•°ä¸­è¯æ³•åŸŸå¯ä»¥æ·±åº¦åµŒå¥—ï¼Œå› æ­¤å†…éƒ¨çš„ä¸€ä¸ªå£°æ˜å¯èƒ½å±è”½å¤–éƒ¨çš„å£°æ˜ã€‚</p><hr><p>è¿˜æœ‰è®¸å¤šè¯­æ³•å—æ˜¯ if æˆ– for ç­‰æ§åˆ¶æµè¯­å¥æ„é€ çš„ã€‚</p><p>ä¸‹é¢çš„ä»£ç æœ‰ä¸‰ä¸ªä¸åŒçš„å˜é‡xï¼Œå› ä¸ºå®ƒä»¬æ˜¯å®šä¹‰åœ¨ä¸åŒçš„è¯æ³•åŸŸ</p><blockquote><p>è¿™ä¸ªä¾‹å­åªæ˜¯ä¸ºäº†æ¼”ç¤ºä½œç”¨åŸŸè§„åˆ™ï¼Œä½†ä¸æ˜¯å¥½çš„ç¼–ç¨‹é£æ ¼</p></blockquote><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">:=</span> <span class="token string">&quot;hello!&quot;</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        x <span class="token operator">:=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">if</span> x <span class="token operator">!=</span> <span class="token char">&#39;!&#39;</span> <span class="token punctuation">{</span>
            x <span class="token operator">:=</span> x <span class="token operator">+</span> <span class="token char">&#39;A&#39;</span> <span class="token operator">-</span> <span class="token char">&#39;a&#39;</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token comment">// &quot;HELLO&quot; (one letter per iteration)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>x[i]</code>å’Œ<code>x + &#39;A&#39; - &#39;a&#39;</code>å£°æ˜è¯­å¥çš„åˆå§‹åŒ–çš„è¡¨è¾¾å¼ä¸­éƒ½å¼•ç”¨äº†å¤–éƒ¨ä½œç”¨åŸŸå£°æ˜çš„xå˜é‡ï¼Œç¨åæˆ‘ä»¬ä¼šè§£é‡Šè¿™ä¸ªã€‚ï¼ˆæ³¨æ„ï¼Œåé¢çš„è¡¨è¾¾å¼ä¸unicode.ToUpperå¹¶ä¸ç­‰ä»·ã€‚ï¼‰</p><hr><p>æ­£å¦‚ä¸Šé¢ä¾‹å­æ‰€ç¤ºï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„è¯æ³•åŸŸéƒ½æ˜¾å¼åœ°å¯¹åº”åˆ°ç”±èŠ±æ‹¬å¼§åŒ…å«çš„è¯­å¥, è¿˜æœ‰ä¸€äº›éšå«çš„è§„åˆ™ã€‚</p><p>ä¸Šé¢çš„forè¯­å¥åˆ›å»ºäº†ä¸¤ä¸ªè¯æ³•åŸŸï¼š</p><ul><li><p>èŠ±æ‹¬å¼§åŒ…å«çš„æ˜¯æ˜¾å¼çš„éƒ¨åˆ†ï¼Œæ˜¯forçš„å¾ªç¯ä½“éƒ¨åˆ†è¯æ³•åŸŸ</p></li><li><p>å¦å¤–ä¸€ä¸ªéšå¼çš„éƒ¨åˆ†åˆ™æ˜¯å¾ªç¯çš„åˆå§‹åŒ–éƒ¨åˆ†ï¼Œæ¯”å¦‚ç”¨äºè¿­ä»£å˜é‡içš„åˆå§‹åŒ–ã€‚</p><p>éšå¼çš„è¯æ³•åŸŸéƒ¨åˆ†çš„ä½œç”¨åŸŸè¿˜åŒ…å«æ¡ä»¶æµ‹è¯•éƒ¨åˆ†å’Œå¾ªç¯åçš„è¿­ä»£éƒ¨åˆ†ï¼ˆ<code>i++</code>ï¼‰ï¼Œå½“ç„¶ä¹ŸåŒ…å«å¾ªç¯ä½“è¯æ³•åŸŸã€‚</p></li></ul><p>ä¸‹é¢çš„ä¾‹å­åŒæ ·æœ‰ä¸‰ä¸ªä¸åŒçš„xå˜é‡ï¼Œæ¯ä¸ªå£°æ˜åœ¨ä¸åŒçš„è¯æ³•åŸŸï¼Œä¸€ä¸ªåœ¨å‡½æ•°ä½“è¯æ³•åŸŸï¼Œä¸€ä¸ªåœ¨foréšå¼çš„åˆå§‹åŒ–è¯æ³•åŸŸï¼Œä¸€ä¸ªåœ¨forå¾ªç¯ä½“è¯æ³•åŸŸï¼›åªæœ‰ä¸¤ä¸ªå—æ˜¯æ˜¾å¼åˆ›å»ºçš„ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">:=</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> x <span class="token operator">:=</span> <span class="token keyword">range</span> x <span class="token punctuation">{</span>
        x <span class="token operator">:=</span> x <span class="token operator">+</span> <span class="token char">&#39;A&#39;</span> <span class="token operator">-</span> <span class="token char">&#39;a&#39;</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token comment">// &quot;HELLO&quot; (one letter per iteration)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>å’Œ for å¾ªç¯ç±»ä¼¼ï¼Œif å’Œ switch è¯­å¥ä¹Ÿä¼šåœ¨æ¡ä»¶éƒ¨åˆ†åˆ›å»ºéšå¼è¯æ³•åŸŸï¼Œè¿˜æœ‰å®ƒä»¬å¯¹åº”çš„æ‰§è¡Œä½“è¯æ³•åŸŸã€‚</p><p>ä¸‹é¢çš„if-elseæµ‹è¯•é“¾æ¼”ç¤ºäº†xå’Œyçš„æœ‰æ•ˆä½œç”¨åŸŸèŒƒå›´ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">if</span> x <span class="token operator">:=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> y <span class="token operator">:=</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> x <span class="token operator">==</span> y <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment">// compile error: x and y are not visible here</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒä¸ª if è¯­å¥åµŒå¥—åœ¨ç¬¬ä¸€ä¸ªå†…éƒ¨ï¼Œå› æ­¤ç¬¬ä¸€ä¸ª if è¯­å¥æ¡ä»¶åˆå§‹åŒ–è¯æ³•åŸŸå£°æ˜çš„å˜é‡åœ¨ç¬¬äºŒä¸ªifä¸­ä¹Ÿå¯ä»¥è®¿é—®ã€‚</p><p>switchè¯­å¥çš„æ¯ä¸ªåˆ†æ”¯ä¹Ÿæœ‰ç±»ä¼¼çš„è¯æ³•åŸŸè§„åˆ™ï¼šæ¡ä»¶éƒ¨åˆ†ä¸ºä¸€ä¸ªéšå¼è¯æ³•åŸŸï¼Œç„¶åæ˜¯æ¯ä¸ªåˆ†æ”¯çš„è¯æ³•åŸŸã€‚</p><hr><p>åœ¨åŒ…çº§åˆ«ï¼Œå£°æ˜çš„é¡ºåºå¹¶ä¸ä¼šå½±å“ä½œç”¨åŸŸèŒƒå›´ï¼Œå› æ­¤ä¸€ä¸ªå…ˆå£°æ˜çš„å¯ä»¥å¼•ç”¨å®ƒè‡ªèº«æˆ–è€…æ˜¯å¼•ç”¨åé¢çš„ä¸€ä¸ªå£°æ˜ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬å®šä¹‰ä¸€äº›ç›¸äº’åµŒå¥—æˆ–é€’å½’çš„ç±»å‹æˆ–å‡½æ•°ã€‚</p><p>ä½†æ˜¯å¦‚æœä¸€ä¸ªå˜é‡æˆ–å¸¸é‡é€’å½’å¼•ç”¨äº†è‡ªèº«ï¼Œåˆ™ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p><p>åœ¨è¿™ä¸ªç¨‹åºä¸­:</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">if</span> f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>fname<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span> <span class="token comment">// compile error: unused: f</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span>
f<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// compile error: undefined f</span>
f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// compile error: undefined f</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å˜é‡fçš„ä½œç”¨åŸŸåªåœ¨ifè¯­å¥å†…ï¼Œå› æ­¤åé¢çš„è¯­å¥å°†æ— æ³•å¼•å…¥å®ƒï¼Œè¿™å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p><p>ä½ å¯èƒ½ä¼šæ”¶åˆ°ä¸€ä¸ªå±€éƒ¨å˜é‡fæ²¡æœ‰å£°æ˜çš„é”™è¯¯æç¤ºï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯ä¾èµ–ç¼–è¯‘å™¨çš„å®ç°ã€‚</p><p>é€šå¸¸éœ€è¦åœ¨ifä¹‹å‰å£°æ˜å˜é‡ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿åé¢çš„è¯­å¥ä¾ç„¶å¯ä»¥è®¿é—®å˜é‡ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>fname<span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span>
f<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ å¯èƒ½ä¼šè€ƒè™‘é€šè¿‡å°†ReadByteå’ŒCloseç§»åŠ¨åˆ°ifçš„elseå—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">if</span> f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>fname<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> err
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// f and err are visible here too</span>
    f<span class="token punctuation">.</span><span class="token function">ReadByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†è¿™ä¸æ˜¯Goè¯­è¨€æ¨èçš„åšæ³•ï¼ŒGoè¯­è¨€çš„ä¹ æƒ¯æ˜¯åœ¨ifä¸­å¤„ç†é”™è¯¯ç„¶åç›´æ¥è¿”å›ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ­£å¸¸æ‰§è¡Œçš„è¯­å¥ä¸éœ€è¦ä»£ç ç¼©è¿›ã€‚</p><hr><p>è¦ç‰¹åˆ«æ³¨æ„çŸ­å˜é‡å£°æ˜è¯­å¥çš„ä½œç”¨åŸŸèŒƒå›´</p><p>è€ƒè™‘ä¸‹é¢çš„ç¨‹åºï¼Œå®ƒçš„ç›®çš„æ˜¯è·å–å½“å‰çš„å·¥ä½œç›®å½•ç„¶åä¿å­˜åˆ°ä¸€ä¸ªåŒ…çº§çš„å˜é‡ä¸­ã€‚è¿™æœ¬æ¥å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨ <code>os.Getwd</code> å®Œæˆï¼Œä½†æ˜¯å°†è¿™ä¸ªä»ä¸»é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥å¯èƒ½ä¼šæ›´å¥½ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦å¤„ç†é”™è¯¯çš„æ—¶å€™ã€‚</p><p>å‡½æ•°log.Fatalfç”¨äºæ‰“å°æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åè°ƒç”¨os.Exit(1)ç»ˆæ­¢ç¨‹åºã€‚</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> cwd <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cwd<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Getwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// compile error: unused: cwd</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;os.Getwd failed: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶cwdåœ¨å¤–éƒ¨å·²ç»å£°æ˜è¿‡ï¼Œä½†æ˜¯<code>:=</code>è¯­å¥è¿˜æ˜¯å°†cwdå’Œerré‡æ–°å£°æ˜ä¸ºæ–°çš„å±€éƒ¨å˜é‡ã€‚</p><p>å› ä¸ºå†…éƒ¨å£°æ˜çš„cwdå°†å±è”½å¤–éƒ¨çš„å£°æ˜ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç å¹¶ä¸ä¼šæ­£ç¡®æ›´æ–°åŒ…çº§å£°æ˜çš„cwdå˜é‡ã€‚</p><p>ç”±äºå½“å‰çš„ç¼–è¯‘å™¨ä¼šæ£€æµ‹åˆ°å±€éƒ¨å£°æ˜çš„cwdå¹¶æ²¡æœ‰ä½¿ç”¨ï¼Œç„¶åæŠ¥å‘Šè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œä½†æ˜¯è¿™ç§æ£€æµ‹å¹¶ä¸å¯é ã€‚å› ä¸ºä¸€äº›å°çš„ä»£ç å˜æ›´ï¼Œä¾‹å¦‚å¢åŠ ä¸€ä¸ªå±€éƒ¨cwdçš„æ‰“å°è¯­å¥ï¼Œå°±å¯èƒ½å¯¼è‡´è¿™ç§æ£€æµ‹å¤±æ•ˆã€‚</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> cwd <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cwd<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Getwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// NOTE: wrong!</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;os.Getwd failed: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Working directory = %s&quot;</span><span class="token punctuation">,</span> cwd<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¨å±€çš„cwdå˜é‡ä¾ç„¶æ˜¯æ²¡æœ‰è¢«æ­£ç¡®åˆå§‹åŒ–çš„ï¼Œè€Œä¸”çœ‹ä¼¼æ­£å¸¸çš„æ—¥å¿—è¾“å‡ºæ›´æ˜¯è®©è¿™ä¸ªBUGæ›´åŠ éšæ™¦ã€‚</p><hr><p>æœ‰è®¸å¤šæ–¹å¼å¯ä»¥é¿å…å‡ºç°ç±»ä¼¼æ½œåœ¨çš„é—®é¢˜ã€‚</p><p>æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯é€šè¿‡å•ç‹¬å£°æ˜errå˜é‡ï¼Œæ¥é¿å…ä½¿ç”¨<code>:=</code>çš„ç®€çŸ­å£°æ˜æ–¹å¼ï¼š</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">var</span> cwd <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> err <span class="token builtin">error</span>
    cwd<span class="token punctuation">,</span> err <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">Getwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;os.Getwd failed: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°åŒ…ã€æ–‡ä»¶ã€å£°æ˜å’Œè¯­å¥å¦‚ä½•æ¥è¡¨è¾¾ä¸€ä¸ªç¨‹åºç»“æ„ã€‚åœ¨ä¸‹é¢çš„ä¸¤ä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬å°†æ¢è®¨æ•°æ®çš„ç»“æ„ã€‚</p><hr><h3 id="å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•"><span>å…³äºä½œç”¨åŸŸä»¥åŠç®€çŸ­å˜é‡å£°æ˜çš„ä¸€äº›ä½œç”¨æµ‹è¯•</span></a></h3><ul><li><p>å•ä¸€å˜é‡å•ç‹¬ä½¿ç”¨ç®€çŸ­å˜é‡å£°æ˜</p><ul><li><p>ä½œç”¨åŸŸæœªå‘ç”Ÿå˜åŒ–æ—¶ä¼šå› ä¸ºé‡å¤å£°æ˜è€Œæ— æ³•é€šè¿‡ç¼–è¯‘</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410095015306.png" alt="image-20240410095015306"></p></li><li><p>ä½œç”¨åŸŸå‘ç”Ÿå˜åŒ–æ—¶ä¼šå±è”½æ‰å¤–å±‚å£°æ˜</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410095514210.png" alt="image-20240410095514210"></p></li></ul></li><li><p>å¤šå˜é‡ä½¿ç”¨ç®€çŸ­å˜é‡å£°æ˜</p><ul><li><p>ä½œç”¨åŸŸæœªå‘ç”Ÿå˜åŒ–æ—¶</p><ul><li><p><code>:=</code> å·¦ä¾§éƒ½æ˜¯å·²ç»å£°æ˜è¿‡çš„å˜é‡æ—¶ä¼šå› ä¸ºé‡å¤å£°æ˜è€Œç¼–è¯‘æŠ¥é”™</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410095752197.png" alt="image-20240410095752197"></p></li><li><p><code>:=</code> å·¦ä¾§æœ‰æœªå£°æ˜å˜é‡æ—¶å¯¹äºå·²å£°æ˜çš„éƒ¨åˆ†ä½œç”¨ä»…ä¸ºèµ‹å€¼</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410100541372.png" alt="image-20240410100541372"></p><p>å¯ä»¥çœ‹åˆ°åœ¨é‡å¤ <code>:=</code> çš„æ—¶å€™ <code>a</code> çš„åœ°å€æ˜¯æ²¡æœ‰å˜åŒ–çš„</p></li></ul></li><li><p>ä½œç”¨åŸŸå‘ç”Ÿå˜åŒ–æ—¶ä¼šå±è”½æ‰å¤–å±‚å£°æ˜</p><ul><li><p><code>:=</code> å·¦ä¾§éƒ½æ˜¯å·²ç»å£°æ˜è¿‡çš„å˜é‡æ—¶ä¼šå±è”½æ‰å¤–å±‚å£°æ˜</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410111824675.png" alt=""></p><p>å¯ä»¥çœ‹åˆ°åœ¨ for å¾ªç¯å†…éƒ¨çš„å˜é‡ <code>a</code>, <code>b</code> æœ‰æ–°çš„åœ°å€</p></li><li><p><code>:=</code> å·¦ä¾§æœ‰æœªå£°æ˜å˜é‡æ—¶ä¼šå±è”½æ‰å¤–å±‚å£°æ˜</p><p><img src="http://cdn.ayusummer233.top/DailyNotes/image-20240410101155068.png" alt="image-20240410101155068"></p><p>å¯ä»¥çœ‹åˆ°åœ¨ for å¾ªç¯å†…éƒ¨çš„å˜é‡ <code>a</code> æœ‰æ–°çš„åœ°å€</p></li></ul></li></ul></li></ul></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ayusummer/DailyNotes/edit/main/docs/Language/Go/Goè¯­è¨€åœ£ç»/CH2-ç¨‹åºç»“æ„.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: ayusummer233@gmail.com">233PC</span>,<!--]--><!--[--><span class="contributor" title="email: ayusummer233@gmail.com">Ayusummer</span>,<!--]--><!--[--><span class="contributor" title="email: ayusummer233@gmail.com">233JG</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/DailyNotes/Language/Go/Go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F/CH1-%E5%85%A5%E9%97%A8.html" aria-label="CH1 å…¥é—¨"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->CH1 å…¥é—¨</div></a><!----></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/DailyNotes/assets/app-DxMJFouC.js" defer></script>
  </body>
</html>
