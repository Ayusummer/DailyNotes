<!--
 * @Author: your name
 * @Date: 2021-03-18 19:54:25
 * @LastEditTime: 2021-05-22 09:47:25
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \DailyNotes\软件相关.md
-->
# Programming

---
## Visual Studio

----
### 快捷键相关
```
Ctrl + M + O: 折叠所有方法
Ctrl + M + M: 折叠或者展开当前方法
Ctrl + M + L: 展开所有方法
```

---
### 编码相关
- vs将默认编码调成UTF-8 : vs默认编码非UTF-8,可以通过如下扩展更改默认编码为UTF-8
  - 拓展——>联机——>force UTF-8（No BOM)

----
## VSCode

---
### 快捷键相关
```
Ctrl+K, Ctrl+J : 展开所有方法
Ctrl+K, Ctrl+0 : 折叠所有方法
```

---
## Pycharm

### 换源操作

---
#### 单次 `pip` 命令换源
- [参考文档](https://github.com/winrey/EasyConnectedInChina)
```python
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencc  
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
py -3.8 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple --upgrade pip

pip install -i https://mirrors.aliyun.com/pypi/simple/ 
```
- 镜像源地址
  - 阿里云   
    https://mirrors.aliyun.com/pypi/simple/
  - 中国科技大学  
    https://pypi.mirrors.ustc.edu.cn/simple/
  - 豆瓣(douban)  
    http://pypi.douban.com/simple/
  - 清华大学  
    https://pypi.tuna.tsinghua.edu.cn/simple/
  - 中国科学技术大学  
    http://pypi.mirrors.ustc.edu.cn/simple/   

> - 补充:将包装到指定路径:
>   ```Python
>   pip install -i https://pypi.tuna.tsinghua.edu.cn/simple  pygame --target=C:/Users/233/AppData/Local/Programs/Python/Python38/Lib/site-packages
>   ```

----
#### 项目使用的 `python解释器` 换源
![20210522085736](http:cdn.ayusummer233.top/img/20210522085736.png)    
![20210522085759](http:cdn.ayusummer233.top/img/20210522085759.png)    
![20210522085821](http:cdn.ayusummer233.top/img/20210522085821.png)   
- 实际上这里我用的 `conda环境` ,相应的也可以在 `anaconda` 中进行换源配置,具体操作见[anaconda换源](#anaconda换源)


----
## anaconda

---
### `Anaconda`换源
- 在 `Anaconda Navigator` 中操作  
  ![20210522090309](http:cdn.ayusummer233.top/img/20210522090309.png)
  
  ----
- 或者用命令行操作
  - [参考链接](https://www.cnblogs.com/yuvejxke/p/13169172.html)
  - 打开 `anaconda prompt`  ，在命令行中直接使用以下命令：
    ```
    // 清华源
    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge
    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/
    ```
    - 阿里源
    ```
    conda config --add channels https://mirrors.aliyun.com/anaconda/pkgs/free/
    
    conda config --add channels https://mirrors.aliyun.com/anaconda/cloud/conda-forge
    
    conda config --add channels https://mirrors.aliyun.com/anaconda/cloud/msys2/
    ```

---
### 报错收集

----
#### `check_hostname requires server_hostname`
- 本来是在 `Pycharm` 中新建 `conda` 环境报的错误,接着打开 `Anaconda Navigator` 也报了相同的错误
- 最终在[anaconda-issues #12410](https://github.com/ContinuumIO/anaconda-issues/issues/12410)找到的相同报错及解决方案
  - 关掉VPN即可解决(

----
#### 各类HTTPError相关
- 我这边报错都是清华的源报错,换成阿里的源就没问题了(   
  - `https://mirrors.aliyun.com/anaconda/pkgs/main/`   
  ![20210522090710](http:cdn.ayusummer233.top/img/20210522090710.png)


---
### 自动生成conda环境依赖

---
#### `pip freeze`
- 打开相应环境的 `CMD.exe Prompt` 执行 `pip freeze >requirements.txt` 就会在当前命令行的执行目录 (`一般是C:\Users\用户名`) 下生成一个 `requirements.txt` 文件

  ---
#### `pipreqs`
- [参考链接](https://blog.csdn.net/weixin_45329445/article/details/108008073)

  ---
- `pip freeze`会将当前 python 环境下所有的安装包都进行生成
- 而使用 `pipreqs` 的好处是可以通过对项目目录的扫描，生成依赖清单。
- 安装
  ```
  pip install pipreqs
  ```
- 在项目根目录使用如下命令生成 `requirements.txt`
  ```
  pipreqs ./ --encoding=utf8
  ```