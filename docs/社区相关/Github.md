# Github

- [Github](#github)
  - [åŠ é€Ÿ](#åŠ é€Ÿ)
    - [Github é•œåƒ](#github-é•œåƒ)
      - [Mirrors](#mirrors)
          - [é•œåƒæµ‹é€Ÿ](#é•œåƒæµ‹é€Ÿ)
    - [PCç½‘é¡µç«¯ç”¨æˆ·å¤´åƒåŠ è½½ä¸å‡ºæ¥](#pcç½‘é¡µç«¯ç”¨æˆ·å¤´åƒåŠ è½½ä¸å‡ºæ¥)
  - [Gité…ç½®](#gité…ç½®)
  - [ç®€ä»‹](#ç®€ä»‹)
    - [Commit](#commit)
      - [è§„èŒƒ](#è§„èŒƒ)
    - [Issues](#issues)
    - [Pull Request](#pull-request)
  - [SSH Key](#ssh-key)
  - [Actions](#actions)
    - [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)
    - [workflow](#workflow)
  - [Markdown](#markdown)
    - [æ•°å­¦å…¬å¼](#æ•°å­¦å…¬å¼)
  - [webhooks](#webhooks)
    - [å€ŸåŠ©é’‰é’‰çš„Githubæœºå™¨äººå°†ä»“åº“å˜åŠ¨é€šçŸ¥åˆ°é’‰é’‰ç¾¤é‡Œ](#å€ŸåŠ©é’‰é’‰çš„githubæœºå™¨äººå°†ä»“åº“å˜åŠ¨é€šçŸ¥åˆ°é’‰é’‰ç¾¤é‡Œ)
  - [å¼€æºè®¸å¯è¯é€‰æ‹©](#å¼€æºè®¸å¯è¯é€‰æ‹©)
  - [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
    - [.gitè¿‡å¤§](#gitè¿‡å¤§)
    - [è…¾è®¯äº‘ github è¿æ¥è¶…æ—¶é—®é¢˜](#è…¾è®¯äº‘-github-è¿æ¥è¶…æ—¶é—®é¢˜)
  - [æŠ¥é”™å¤„ç†](#æŠ¥é”™å¤„ç†)
    - [`Failed to connect to github.com port 443 after 21063 ms: Timed out`](#failed-to-connect-to-githubcom-port-443-after-21063-ms-timed-out)
    - [`OpenSSL SSL_read: Connection was reset, errno 10054`](#openssl-ssl_read-connection-was-reset-errno-10054)
  - [æœªæˆåŠŸå½’æ¡£/TODO](#æœªæˆåŠŸå½’æ¡£todo)
    - [Nginx åä»£ Github(TODO: markä¸‹, æ²¡æˆåŠŸè·‘èµ·æ¥)](#nginx-åä»£-githubtodo-markä¸‹-æ²¡æˆåŠŸè·‘èµ·æ¥)
      - [å®‰è£… Nginx å’Œ OpenSSL](#å®‰è£…-nginx-å’Œ-openssl)
      - [åˆ¶ä½œ CA è¯ä¹¦ä¸ç­¾åè¯ä¹¦](#åˆ¶ä½œ-ca-è¯ä¹¦ä¸ç­¾åè¯ä¹¦)
      - [å®‰è£…è¯ä¹¦](#å®‰è£…è¯ä¹¦)
      - [é…ç½® Nginx](#é…ç½®-nginx)


---

## åŠ é€Ÿ

é€šç”¨çš„åŠ é€Ÿæ–¹æ¡ˆæœ€å¥½çš„æªæ–½å°±æ˜¯ç”¨ä»£ç†

å¯¹äºä¸æ–¹ä¾¿ä½¿ç”¨ä»£ç†çš„åœºæ™¯, å¦‚æœæ˜¯ clone æˆ–è€…ä¸‹è½½é¡¹ç›®å‹ç¼©åŒ…, releases çš„åœºæ™¯, å¯ä»¥ä½¿ç”¨é•œåƒ

é™¤æ­¤ä»¥å¤–, watt Toolkit ç­‰å·¥å…·ä¹Ÿå¯ä»¥ç”¨

æœ€ä¸æµå¯ä»¥æ‰‹åŠ¨æ”¹ host

---

### Github é•œåƒ

> [eryajf/Thanks-Mirror: æ•´ç†è®°å½•å„ä¸ªåŒ…ç®¡ç†å™¨ï¼Œç³»ç»Ÿé•œåƒï¼Œä»¥åŠå¸¸ç”¨è½¯ä»¶çš„å¥½ç”¨é•œåƒï¼ŒThanks Mirrorã€‚ èµ°è¿‡è·¯è¿‡ï¼Œå¦‚è§‰ä¸é”™ï¼Œéº»çƒ¦ç‚¹ä¸ªèµğŸ‘†ğŸŒŸ (github.com)](https://github.com/eryajf/Thanks-Mirror#github)

---

#### Mirrors

GitHub ç›¸å…³çš„å›½å†…é•œåƒï¼Œæœ‰ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼Œè¿™é‡Œä»…åˆ—å‡ºç›®å‰å¯ç”¨çš„å›½å†…é•œåƒï¼Œå…·ä½“ç”¨æ³•è¯·æŸ¥é˜…é•œåƒçš„å®˜æ–¹è¯´æ˜ã€‚

- https://hub.fastgit.xyz/

  æä¾›äº† GitHub å…¨ç«™é•œåƒï¼Œä½†æ³¨æ„ä¸è¦åœ¨è¿™ä¸ªç«™ç™»é™†ä½ çš„ GitHub è´¦å·ã€‚è¯¦è§[å®˜æ–¹æ–‡æ¡£](https://doc.fastgit.org/zh-cn/)ã€‚

  ç±»ä¼¼fastgitçš„è¿˜æœ‰ï¼š

  - https://hub.yzuu.cf/
  - https://hub.njuu.cf/

- https://gitclone.com/

  æä¾›äº† `GitHub` å…¨é¢çš„åŠ é€Ÿï¼Œè¯¦è§[å®˜æ–¹æ–‡æ¡£](https://gitclone.com/docs/feature/gitclone_web)ã€‚

- https://ghproxy.com/

  `GitHub` æ–‡ä»¶ , Releases , archive , gist , `raw.githubusercontent.com` æ–‡ä»¶ä»£ç†åŠ é€Ÿä¸‹è½½æœåŠ¡ï¼Œä½¿ç”¨ç»†åˆ™å‚è§å®˜æ–¹ã€‚

- https://toolwa.com/github/

- https://github.91chi.fun/

- https://github.abskoop.workers.dev/

- https://pd.zwc365.com/

- https://gh.con.sh/

- https://www.7ed.net/#/raw-cdn

ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æä¾›çš„åŠ é€Ÿæ–¹æ¡ˆã€‚

- [æ²¹çŒ´è„šæœ¬](https://greasyfork.org/zh-CN/scripts/397419-fastgithub-é•œåƒåŠ é€Ÿè®¿é—®-å…‹éš†å’Œä¸‹è½½)

  å®‰è£…ä¹‹åï¼Œä¼šç›´æ¥åœ¨ `GitHub` é¡¹ç›®å½“ä¸­å‡ºç°å¯ç”¨çš„å›½å†…åŠ é€Ÿå…‹éš†æ–¹å¼ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œæ¨èå®‰è£…ã€‚

- [chromeæ’ä»¶](https://chrome.google.com/webstore/detail/githubåŠ é€Ÿ/ffjjnphohkfckeplcjflmgneebafggej?hl=zh)

  ä¸æ²¹çŒ´è„šæœ¬æ•ˆæœä¸€è‡´ï¼Œåªæ˜¯é€šè¿‡æ’ä»¶çš„å½¢å¼å®‰è£…é…ç½®ã€‚

---

###### é•œåƒæµ‹é€Ÿ

```python
# è¯»å–æºåˆ—è¡¨æ¯ä¸€è¡Œçš„åœ°å€, å°†æ¯ä¸ªåœ°å€æ‹†åˆ†ä¸º [åè®®, åŸŸå, è·¯å¾„], ç„¶åå¯¹æ¯ä¸ªåŸŸå ping 4æ¬¡, æŒ‰ç…§å“åº”æ—¶é—´é€’å¢æ’åº, è¾“å‡ºåˆ°ç›®çš„æ–‡ä»¶
import os
import re


def ping_linux(host: str, count: int = 4) -> float:
    """Linux ä¸‹çš„ ping å‘½ä»¤  
    :param host: åŸŸå
    :param count: ping çš„æ¬¡æ•°
    :return: è¿”å›å¹³å‡å“åº”æ—¶é•¿
    """
    output = os.popen(f'ping {host} -c {count}').read()
    try:
        min, avg, max, mdev = re.findall(r'rtt min/avg/max/mdev = (\d+\.\d+)/(\d+\.\d+)/(\d+\.\d+)/(\d+\.\d+) ms', output)[0]
        print(f'{host} {avg}ms')
    # å…¨ä¸¢åŒ…çš„æƒ…å†µä¸‹å°±æ‰¾ä¸åˆ°äº†, æ­¤æ—¶è¿”å›ä¸€ä¸ªå¾ˆå¤§çš„æ•°
    except IndexError:
        print(f'{host} è¶…æ—¶')
        return 999999
    return float(avg)


def split_url_to_hosts(source_path: str) -> list:
    """å°†æºåˆ—è¡¨æ¯ä¸ªæ¡ç›®æ‹†åˆ†æˆ [åè®®, åŸŸå, è·¯å¾„] çš„æ ¼å¼å¹¶è¿”å›æ‰€æœ‰æ¡ç›®æ‹†åˆ†å®Œåçš„åµŒå¥—åˆ—è¡¨  
    :param source_path: æºæ–‡ä»¶
    :return: æ‹†åˆ†åçš„åµŒå¥—åˆ—è¡¨
    """
    with open(source_path, 'r') as f:
        hosts = f.read().splitlines()
        for i in range(len(hosts)):
            hosts[i] = hosts[i].strip()
            # æ ¹æ® :// è¿›è¡Œæ‹†åˆ†, æ‹†åˆ†ç»“æœä½œä¸ºç»§ç»­æ‹†åˆ† åè®®, åŸŸå, è·¯å¾„ çš„ä¾æ®
            main_split = hosts[i].split('://')

            # ç¬¬ä¸€ç‰‡ä¸º åè®®://
            first_fragment = main_split[0] + '://'
            # ç¬¬äºŒç‰‡ä¸º åŸŸå
            second_fragment = main_split[1].split('/')[0]
            # ç¬¬ä¸‰ç‰‡ä¸º è·¯å¾„
            third_fragment = '/' + '/'.join(main_split[1].split('/')[1:])

            # å°†æ‹†åˆ†åçš„ä¸‰ç‰‡ç»„åˆæˆä¸€ä¸ªåˆ—è¡¨
            hosts[i] = [first_fragment, second_fragment, third_fragment]
        # è¿”å›æ‹†åˆ†åçš„åµŒå¥—åˆ—è¡¨
        return hosts


def sort_write_hosts(hosts: list, target_path: str) -> None:
    """æ ¹æ®å¯¹æºæ–‡ä»¶æ‹†åˆ†åçš„åµŒå¥—åˆ—è¡¨ä¸­çš„åŸŸåè¿›è¡Œ ping æ“ä½œ, å¹¶å°†ç»“æœæŒ‰å“åº”æ—¶é—´å‡åºè¾“å‡ºåˆ°ç›®çš„æ–‡ä»¶  
    :param hosts: æºæ–‡ä»¶æ‹†åˆ†åçš„åµŒå¥—åˆ—è¡¨  
    :param target_path: ç›®æ ‡è¾“å‡ºæ–‡ä»¶è·¯å¾„
    :return: None
    """
    # éå† hosts ä¸­çš„æ¯ä¸ªåŸŸå, å¹¶å¯¹å…¶è¿›è¡Œ ping æ“ä½œ, å°†å¹³å‡å“åº”æ—¶é—´æ’å…¥åˆ° hosts å°¾éƒ¨
    for i in range(len(hosts)):
        hosts[i].append(ping_linux(hosts[i][1]))
    # æŒ‰ç…§å“åº”æ—¶é—´å‡åºæ’åº
    hosts.sort(key=lambda x: x[3])
    # å°†æ’åºåçš„ hosts å†™å…¥åˆ°ç›®çš„æ–‡ä»¶
    with open(target_path, 'w') as f:
        for host in hosts:
            f.write(f'{host[0]}{host[1]}{host[2]} {host[3]}ms \n')


def sort_sources(source_path: str, target_path: str) -> None:
    """å¯¹æºæ–‡ä»¶(kali é•œåƒåˆ—è¡¨)è¿›è¡Œæ’åº, å¹¶æŒ‰ç…§å“åº”æ—¶é—´å‡åºè¾“å‡ºåˆ°ç›®çš„æ–‡ä»¶  
    :param source_path: kali é•œåƒåˆ—è¡¨æ–‡ä»¶è·¯å¾„  
    :param target_path: æŒ‰ç…§ç›¸åº”æ—¶é—´å‡åºè¾“å‡ºçš„ç›®çš„æ–‡ä»¶è·¯å¾„
    """
    print("å¼€å§‹æ‹†åˆ†æºæ–‡ä»¶...")
    # å°†æºæ–‡ä»¶æ‹†åˆ†ä¸ºåµŒå¥—åˆ—è¡¨
    hosts = split_url_to_hosts(source_path)
    print("æ‹†åˆ†å®Œæˆ, å¼€å§‹æ’åº...")
    # å¯¹æ‹†åˆ†åçš„åµŒå¥—åˆ—è¡¨è¿›è¡Œæ’åºå¹¶è¾“å‡ºåˆ°ç›®çš„æ–‡ä»¶
    sort_write_hosts(hosts, target_path)    
    print("æ’åºå®Œæˆ, è¯·æŸ¥çœ‹ç›®çš„æ–‡ä»¶")


if __name__ == '__main__':
    source_path = os.path.join(os.path.dirname(__file__), 'sources_github.txt')
    target_path = os.path.join(os.path.dirname(__file__), 'result_github.txt')
    sort_sources(source_path, target_path)
```


---
### PCç½‘é¡µç«¯ç”¨æˆ·å¤´åƒåŠ è½½ä¸å‡ºæ¥


- [è§£å†³Githubç½‘é¡µä¸Šå›¾ç‰‡æ˜¾ç¤ºå¤±è´¥çš„é—®é¢˜](https://zhuanlan.zhihu.com/p/139219691)[å‚è€ƒé“¾æ¥]
- å½“å‰æ— æ³•æ˜¾ç¤ºç”¨æˆ·å¤´åƒçš„é¡µé¢ä¸‹`Ctrl+Shift+C`æ‰“å¼€å…ƒç´ é€‰æ‹©å™¨é€‰æ‹©æœªåŠ è½½å‡ºçš„å¤´åƒå®šä½åˆ°å…¶åœ¨æºç ä¸­çš„æ ‡ç­¾å¹¶è®°ä¸‹å…¶åŸŸå
  <!-- - ![](../res_-daily-notes/img/Github/è·å–ç¼ºå¤±å›¾ç‰‡åŸŸå.png) -->
- æ‰“å¼€`https://www.ipaddress.com/`è¾“å…¥åŸŸåå¹¶å›è½¦å¾—åˆ°ä¸€ä¸ªip
  <!-- - ![](../res_-daily-notes/img/Github/è·å–ip.png) -->
- æ‰“å¼€è·¯å¾„`C:\Windows\System32\drivers\etc`
- ä¿®æ”¹è¯¥è·¯å¾„ä¸‹çš„`host`æ–‡ä»¶çš„æ–‡ä»¶å±æ€§ä¸­çš„`å®‰å…¨`ä¸€æ ä¸­çš„`Users`ç»„çš„æƒé™,å‹¾é€‰`å®Œå…¨æ§åˆ¶`
- ç”¨è®°äº‹æœ¬æ‰“å¼€`host`æ–‡ä»¶,åœ¨æœ«å°¾ç²˜è´´ä»¥ä¸‹æ–‡å­—å¹¶ä¿å­˜é€€å‡º,è¿”å›åŸç½‘é¡µåˆ·æ–°å³å¯
    ```
    # GitHub Start(æ›´æ–°äº2021.1.22) 
    140.82.113.3      github.com
    140.82.114.20     gist.github.com
    
    199.232.96.133    assets-cdn.github.com
    199.232.96.133    raw.githubusercontent.com
    199.232.96.133    gist.githubusercontent.com
    199.232.96.133    cloud.githubusercontent.com
    199.232.96.133    camo.githubusercontent.com
    199.232.96.133    avatars.githubusercontent.com
    199.232.68.133     avatars.githubusercontent.com
    199.232.96.133    avatars0.githubusercontent.com
    199.232.68.133     avatars0.githubusercontent.com
    199.232.28.133     avatars1.githubusercontent.com
    199.232.96.133    avatars1.githubusercontent.com
    199.232.96.133    avatars2.githubusercontent.com
    199.232.28.133     avatars2.githubusercontent.com
    199.232.96.133    avatars3.githubusercontent.com
    199.232.68.133     avatars3.githubusercontent.com
    199.232.96.133    avatars4.githubusercontent.com
    199.232.68.133     avatars4.githubusercontent.com
    199.232.96.133    avatars5.githubusercontent.com
    199.232.68.133     avatars5.githubusercontent.com
    199.232.96.133    avatars6.githubusercontent.com
    199.232.68.133     avatars6.githubusercontent.com
    199.232.96.133    avatars7.githubusercontent.com
    199.232.68.133     avatars7.githubusercontent.com
    199.232.96.133    avatars8.githubusercontent.com
    199.232.68.133     avatars8.githubusercontent.com
    
    # GitHub End
    ```
  > å¦‚è‹¥ä½ å¾—åˆ°çš„ipå¹¶é`199.232.96.133`åˆ™åªéœ€æŠŠä¸Šé¢ä»£ç ä¸­çš„`199.232.96.133`åˆ©ç”¨æŸ¥æ‰¾æ›¿æ¢æ›¿æ¢ä¸ºä½ å¾—åˆ°çš„ipå³å¯(å½“å†æ¬¡æ— æ³•çœ‹åˆ°å¤´åƒæ—¶å¯ä»¥è¯•ç€é‡æŸ¥ä¸€æ¬¡ipç„¶åæ›¿æ¢æ‰åŸip)



---

## Gité…ç½®

> [GItè®¾ç½®ä»£ç† - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/b481d2a42274)
>
> ---

- è®¾ç½®ç”¨æˆ·å
  ```bash
  git config --global user.name "GitHubç”¨æˆ·å"
  ```
  - ç”¨æˆ·åéšä¸ªäººå–œå¥½å³å¯,å¹¶éå¿…é¡»è¦Githubçš„ç”¨æˆ·å,å¯ä»¥èµ·ä¸€ä¸ªèƒ½å¤Ÿä»£è¡¨å½“å‰ä¿®æ”¹ç¯å¢ƒçš„åå­—
- è®¾ç½®ç”¨æˆ·é‚®ç®±
  ```bash
  git config --global user.email "GitHubç»‘å®šé‚®ç®±"
  ```
  - GitHubç»‘å®šé‚®ç®±è¯·æ ¹æ®è‡ªå·±æ³¨å†Œçš„è´¦å·é‚®ç®±å¡«å†™
- æŸ¥çœ‹å½“å‰é…ç½®é¡¹åˆ—è¡¨
  ```bash
  git config --list
  ```
- åˆ é™¤æŸä¸ªé…ç½®é¡¹(ä»¥`user.name`ä¸ºä¾‹)
  ```bash
  git config --global --unset user.name
  ```
- ç¼–è¾‘æŸä¸ªé…ç½®é¡¹
  ```bash
  git config --global --edit user.name 'ç”¨æˆ·å'
  ```

---

ä½¿ç”¨ VSCode æ‹‰å–æ›´æ–°ä¸æ¨é€ä¿®æ”¹ç»å¸¸å‡ºé”™, éœ€è¦é…ç½®ä»£ç†(ä»¥æœ¬åœ° 7890 ç«¯å£ä¸ºä¾‹), åœ¨æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œè¿›è¡Œä»£ç†é…ç½®:

```bash
git config http.proxy http://127.0.0.1:7890
git config https.proxy http://127.0.0.1:7890
git config core.gitPorxy socks5://127.0.0.1:7890
```

> å¯ä»¥é…ç½®å…¨å±€ä»£ç†, ä½†æ˜¯ç”±äºæœ¬åœ°è¿˜æœ‰åœ¨ç”¨å†…ç½‘çš„ gitlab, æ‰€ä»¥ä¸é€‚åˆé…å…¨å±€, è¿™é‡Œæ˜¯é’ˆå¯¹é¡¹ç›®é…çš„
>
> ---
>
> å–æ¶ˆä»£ç†é…ç½®å¦‚ä¸‹:
>
> ```bash
> git config --global --unset http.proxy
> git config --global --unset https.proxy
> git config --global --unset core.gitPorxy
> ```


---

### SSH Key

> [gitç”Ÿæˆè¿æ¥è¿œç¨‹ä»“åº“çš„å¯†é’¥_æ—è§‚è€…lgpçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_45515863/article/details/106312232)

- åœ¨ä¸»æœºåˆ›å»º ssh key

  ```shell
  ssh-keygen -t rsa -C "youremail@example.com"
  ```

  `-C(comment)` éšä¾¿å¡«, æœ‰è¾¨è¯†åº¦å°±è¡Œ

  è¿è¡Œå‘½ä»¤åä¸€è·¯å›è½¦é»˜è®¤é…ç½®, æ ¹æ®è¿è¡Œæç¤ºæ‰¾åˆ° å…¬é’¥ `id_rsa.pub`

- `Github å³ä¸Šè§’å¤´åƒ -> Settings -> SSH and GPG keys -> add new ssh key`

  title éšä¾¿å¡«, key ç²˜è´´ `id_rsa.pub` çš„å…¨éƒ¨å†…å®¹

- åœ¨ä¸»æœºä¸Šä½¿ç”¨

  ```shell
  git clone ä»“åº“SSHè·¯å¾„
  ```

  æ¥ clone ä»“åº“

> éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ Linux ä¸Šä½¿ç”¨ä¸åŒçš„ç”¨æˆ·åˆ›å»ºçš„ ssh-key åŠ å…¥åˆ° github åä¹Ÿåªæœ‰å¯¹åº”çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨, å½“åˆ‡æ¢ç”¨æˆ·åéœ€è¦å°†è¯¥ç”¨æˆ·çš„ ssh-key ä¹ŸåŠ å…¥åˆ° Github çš„ SSH-key ä¸­æ–¹å¯ä½¿ç”¨

---

### æœ¬åœ°ä»“åº“åˆ‡æ¢ https åˆ° ssh

> [ã€æ±‚åŠ©ã€‘å¼€å¯OpenClashä¹‹åï¼Œæ— æ³•ä½¿ç”¨ git clone/pushï¼Œkex ssh å¯†é’¥é”™è¯¯ Â· Issue #1960 Â· vernesong/OpenClash (github.com)](https://github.com/vernesong/OpenClash/issues/1960#issuecomment-1019101426)
>
> [Correct way to set git proxy - Kirovj's Chaos --- è®¾ç½® git ä»£ç†çš„æ­£ç¡®æ–¹æ³• - Kirovj's Chaos (wuyiting.cn)](https://www.wuyiting.cn/blog/Correct way to set git proxy)
>
> [ä½¿ç”¨Gitæ—¶æŠ¥é”™Connection reset by 20.205.243.166 port 22_Wrysmile0308çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/Wrysmile0308/article/details/128801870)
>
> [Has GitHub changed his remote host key ? Â· community Â· Discussion #50878 --- GitHub æ›´æ”¹äº†ä»–çš„è¿œç¨‹ä¸»æœºå¯†é’¥å—ï¼Ÿ Â· ç¤¾åŒº Â· è®¨è®º #50878](https://github.com/orgs/community/discussions/50878)
>
> [We updated our RSA SSH host key - The GitHub Blog --- æˆ‘ä»¬æ›´æ–°äº† RSA SSH ä¸»æœºå¯†é’¥ - GitHub åšå®¢](https://github.blog/2023-03-23-we-updated-our-rsa-ssh-host-key/)
>
> 

å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ä»“åº“çš„è¿œç¨‹ URL:

```bash
git remote -v
```

![image-20230921013052319](http://cdn.ayusummer233.top/DailyNotes/202309210130370.png)

è¦æƒ³ä» https(ssh) åˆ‡åˆ° ssh(https) çš„è¯å¯ä»¥å¦‚ä¸‹è®¾ç½®:

```bash
# git remote set-url origin xxx
git remote set-url origin git@github.com:Ayusummer/DailyNotes.git
```

----

### SSH ä»£ç†

æœ€è¿‘æ›´æ–°ä»“åº“æ—¶æ€»æ˜¯è«åå…¶å¦™è¢«é‡ç½®, è§åˆ°äº†å¥½å¤šå¥‡æ€ªçš„æŠ¥é”™, åŒ…æ‹¬ä½†ä¸é™äº

```
Connection reset by 20.205.243.166 port 22
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

```
Error: Unable to Fetch from Remote(s)
kex_exchange_identification: Connection closed by remote host
Connection closed by UNKNOWN port 65535
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

```
Error: Unable to Fetch from Remote(s)
Host key verification failed.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

æœ€ç»ˆè¾¾æˆçš„è§£å†³æ–¹æ¡ˆæ˜¯

1. æŠŠæœ¬åœ°çš„å¯†é’¥å¯¹åˆ äº†, é‡æ–°æ–°å»ºä¸€å¯¹å¯†é’¥å¹¶å°†å…¬é’¥æ·»åŠ åˆ° github ssh key

2. æ¸…é™¤æœ¬åœ° `know_hosts` ä¸­çš„ github æ¡ç›®

   ![image-20230921013523135](http://cdn.ayusummer233.top/DailyNotes/202309210135195.png)

   å¦‚æœæœ‰ `know_hosts.old` æ–‡ä»¶, å¯ä»¥ç›´æ¥æŠŠè¿™ä¸ª old åˆ äº†

   ![image-20230921013757996](http://cdn.ayusummer233.top/DailyNotes/202309210137027.png)

3. é…ç½® ssh ä½¿ç”¨æœ¬åœ°ä»£ç†, ä»¥ clash é»˜è®¤ 7890 ç«¯å£ä¸ºä¾‹

   é…ç½®æ–‡ä»¶åœ¨ `~/.ssh/config`, ä¸å­˜åœ¨åˆ™æ–°å»º, å¯¹äº windows è€Œè¨€å¯ä»¥æ˜¯:

   ![image-20230921013914928](http://cdn.ayusummer233.top/DailyNotes/202309210139983.png)

   å†™å…¥å¦‚ä¸‹é…ç½®

   ```properties
   Host github.com
       Hostname ssh.github.com
       Port 443
       User git
       ProxyCommand connect -H 127.0.0.1:7890 %h %p
   ```

4. å…³é—­ VSCode, é‡æ–°æ‰“å¼€å³å¯, å¯ä»¥ git fetch çœ‹ä¸‹æ•ˆæœ

   ![image-20230921014108032](http://cdn.ayusummer233.top/DailyNotes/202309210141058.png)

   ![image-20230921014150077](http://cdn.ayusummer233.top/DailyNotes/202309210141104.png)

è‡³å°‘æˆ‘å¦‚æ­¤æ“ä½œæˆåŠŸä¿®å¤äº†, åç»­å†é‡åˆ°ç±»ä¼¼é—®é¢˜å†çœ‹å§(


---

## ç®€ä»‹

----
### Commit
- æäº¤ä»£ç 

---
#### è§„èŒƒ

[UvDream/git-commit-lint-vscode: vscodeä¸€æ¬¾git è§„èŒƒåŒ–æäº¤æ’ä»¶ (github.com)](https://github.com/UvDream/git-commit-lint-vscode)

å‚ç…§ `Angular` ç¤¾åŒºçš„æäº¤è§„èŒƒå¹¶ç»“åˆ emoji, ä¸Šé¢å‚è€ƒé“¾æ¥é‡Œè¿™ä½è€å“¥å¼€å‘äº†ä¸€æ¬¾ `VSCode` git è§„èŒƒåŒ–æäº¤æ’ä»¶ `git-commit-lint-vscode`, æäº¤çš„æ—¶å€™å¯è§†åŒ–é€‰æ‹©ç±»å‹ç„¶åå†æ‰‹æ‰“è¯¦ç»†ä¿¡æ¯

![image-20210628112317321](http://cdn.ayusummer233.top/img/20210628112317.png)


----
### Issues


---
### Pull Request
- [å‚è€ƒé“¾æ¥](https://www.zhihu.com/question/21682976)
- ä»¥ä¸‹ä¸ºæ–‡ç« åŸæ–‡:
- æˆ‘å°è¯•ç”¨ç±»æ¯”çš„æ–¹æ³•æ¥è§£é‡Šä¸€ä¸‹ pull reqeustã€‚æƒ³æƒ³æˆ‘ä»¬ä¸­å­¦è€ƒè¯•ï¼Œè€å¸ˆæ”¹å·çš„åœºæ™¯å§ã€‚
  - ä½ åšçš„è¯•å·å°±åƒä»“åº“ï¼Œä½ çš„è¯•å·è‚¯å®šä¼šæœ‰å¾ˆå¤šé”™è¯¯ï¼Œå°±ç›¸å½“äºç¨‹åºé‡Œçš„ bugã€‚
  - è€å¸ˆæŠŠä½ çš„è¯•å·æ‹¿è¿‡æ¥ï¼Œç›¸å½“äºå…ˆ forkã€‚
    - åœ¨ä½ çš„å·å­ä¸Šåšä¸€äº›ä¿®æ”¹æ‰¹æ³¨ï¼Œç›¸å½“äº git commitã€‚
    - æœ€åæŠŠæ”¹å¥½çš„è¯•å·ç»™ä½ ï¼Œç›¸å½“äºå‘ pull requestï¼Œ
  - ä½ æ‹¿åˆ°è¯•å·é‡æ–°æ”¹æ­£é”™è¯¯ï¼Œç›¸å½“äº mergeã€‚

---

## Actions

> [åŸæ–‡é“¾æ¥:GitHub Actions å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)](http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html)
>
> [å…³äºå·¥ä½œæµç¨‹ - GitHub Docs](https://docs.github.com/cn/github-ae@latest/actions/using-workflows/about-workflows)

æŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œå‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ç­‰ã€‚GitHub æŠŠè¿™äº›æ“ä½œå°±ç§°ä¸º actionsã€‚

å¾ˆå¤šæ“ä½œåœ¨ä¸åŒé¡¹ç›®é‡Œé¢æ˜¯ç±»ä¼¼çš„ï¼Œå®Œå…¨å¯ä»¥å…±äº«ã€‚GitHub å…è®¸å¼€å‘è€…æŠŠæ¯ä¸ªæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬æ–‡ä»¶ï¼Œå­˜æ”¾åˆ°ä»£ç ä»“åº“ï¼Œä½¿å¾—å…¶ä»–å¼€å‘è€…å¯ä»¥å¼•ç”¨ã€‚

å¦‚æœä½ éœ€è¦æŸä¸ª actionï¼Œä¸å¿…è‡ªå·±å†™å¤æ‚çš„è„šæœ¬ï¼Œç›´æ¥å¼•ç”¨ä»–äººå†™å¥½çš„ action å³å¯ï¼Œæ•´ä¸ªæŒç»­é›†æˆè¿‡ç¨‹ï¼Œå°±å˜æˆäº†ä¸€ä¸ª actions çš„ç»„åˆã€‚è¿™å°±æ˜¯ GitHub Actions æœ€ç‰¹åˆ«çš„åœ°æ–¹ã€‚

GitHub åšäº†ä¸€ä¸ª[å®˜æ–¹å¸‚åœº](https://github.com/marketplace?type=actions)ï¼Œå¯ä»¥æœç´¢åˆ°ä»–äººæäº¤çš„ actionsã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª [awesome actions](https://github.com/sdras/awesome-actions) çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸å°‘ actionã€‚

æ¯ä¸ª action å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹è„šæœ¬ï¼Œå› æ­¤å¯ä»¥åšæˆä»£ç ä»“åº“ï¼Œä½¿ç”¨`userName/repoName`çš„è¯­æ³•å¼•ç”¨ actionã€‚æ¯”å¦‚ï¼Œ`actions/setup-node`å°±è¡¨ç¤º`github.com/actions/setup-node`è¿™ä¸ª[ä»“åº“](https://github.com/actions/setup-node)ï¼Œå®ƒä»£è¡¨ä¸€ä¸ª actionï¼Œä½œç”¨æ˜¯å®‰è£… Node.jsã€‚äº‹å®ä¸Šï¼ŒGitHub å®˜æ–¹çš„ actions éƒ½æ”¾åœ¨ [github.com/actions](https://github.com/actions) é‡Œé¢ã€‚

 actions æ˜¯ä»£ç ä»“åº“ï¼Œæœ‰ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œç”¨æˆ·å¯ä»¥å¼•ç”¨æŸä¸ªå…·ä½“ç‰ˆæœ¬çš„ actionã€‚ä¸‹é¢éƒ½æ˜¯åˆæ³•çš„ action å¼•ç”¨ï¼Œç”¨çš„å°±æ˜¯ Git çš„æŒ‡é’ˆæ¦‚å¿µï¼Œè¯¦è§[å®˜æ–¹æ–‡æ¡£](https://help.github.com/en/articles/about-actions#versioning-your-action)ã€‚

```sh
actions/setup-node@74bc508 # æŒ‡å‘ä¸€ä¸ª commit
actions/setup-node@v1.0    # æŒ‡å‘ä¸€ä¸ªæ ‡ç­¾
actions/setup-node@master  # æŒ‡å‘ä¸€ä¸ªåˆ†æ”¯
```

---

### åŸºæœ¬æ¦‚å¿µ

- `workflow`: æŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚
- `job`: ä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚
- `step`: æ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚
- `action`: æ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤(action) ã€‚

---

### workflow

GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„`.github/workflows`ç›®å½•ã€‚

workflow æ–‡ä»¶é‡‡ç”¨ [YAML æ ¼å¼](https://www.ruanyifeng.com/blog/2016/07/yaml.html)ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º`.yml`ï¼Œæ¯”å¦‚`foo.yml`ã€‚ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç°`.github/workflows`ç›®å½•é‡Œé¢æœ‰`.yml`æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚

> ![image-20220522071931643](http://cdn.ayusummer233.top/img/202205220719879.png)

workflow æ–‡ä»¶çš„é…ç½®å­—æ®µéå¸¸å¤šï¼Œè¯¦è§[å®˜æ–¹æ–‡æ¡£](https://help.github.com/en/articles/workflow-syntax-for-github-actions)ã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬å­—æ®µã€‚

- `name`: `name`å­—æ®µæ˜¯ workflow çš„åç§°ã€‚å¦‚æœçœç•¥è¯¥å­—æ®µï¼Œé»˜è®¤ä¸ºå½“å‰ workflow çš„æ–‡ä»¶åã€‚

  ```yaml
  name: Create Release
  ```

- `on`: `on`å­—æ®µæŒ‡å®šè§¦å‘ workflow çš„æ¡ä»¶ï¼Œé€šå¸¸æ˜¯æŸäº›äº‹ä»¶ã€‚

  ```yaml
  on: push
  ```

  ä¸Šé¢ä»£ç æŒ‡å®šï¼Œ`push`äº‹ä»¶è§¦å‘ workflowã€‚

  `on`å­—æ®µä¹Ÿå¯ä»¥æ˜¯äº‹ä»¶çš„æ•°ç»„ã€‚

  ```yaml
  on: [push, pull_request]
  ```

  å®Œæ•´çš„äº‹ä»¶åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://help.github.com/en/articles/events-that-trigger-workflows)ã€‚é™¤äº†ä»£ç åº“äº‹ä»¶ï¼ŒGitHub Actions ä¹Ÿæ”¯æŒå¤–éƒ¨äº‹ä»¶è§¦å‘ï¼Œæˆ–è€…å®šæ—¶è¿è¡Œã€‚

- `on.<push|pull_request>.<tags|branches>`: æŒ‡å®šè§¦å‘äº‹ä»¶æ—¶ï¼Œå¯ä»¥é™å®šåˆ†æ”¯æˆ–æ ‡ç­¾ã€‚

  ```yaml
  on:
    push:
      branches:    
        - master
  ```

  å½“ä½¿ç”¨ `push` äº‹ä»¶æ—¶, å¯ä»¥é…ç½® `workflow` è¿è¡Œåœ¨æŒ‡å®šçš„ `branch` æˆ–æ˜¯ `tag` ä¸Š

  å¦‚æœå¸Œæœ›åŒ…å« `branch` åç§°æ¨¡å¼ï¼Œæˆ–è€…å¸Œæœ›åŒæ—¶åŒ…å«å’Œæ’é™¤ `branch` åç§°æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ `branch` ç­›é€‰å™¨ã€‚å½“åªæƒ³æ’é™¤åˆ†æ”¯åç§°æ¨¡å¼æ—¶ï¼Œä½¿ç”¨`branches-ignore`ç­›é€‰å™¨ã€‚æ³¨æ„ä¸èƒ½å¯¹å·¥ä½œæµä¸­çš„åŒä¸€äº‹ä»¶åŒæ—¶ä½¿ç”¨ `branches` å’Œ `branches-ignore`ç­›é€‰å™¨

  å¯¹äº `tag` å¤„ç†å’Œä¸Šè¿° `branch` å¤„ç†ç›¸ä¼¼

  åƒè¿™æ ·ç±»ä¼¼çš„ `paths` ä»¥åŠ `paths-gnore` å…³é”®è¯æ”¯æŒä½¿ç”¨ `*` å’Œ `**` é€šé…ç¬¦åŒ¹é…å¤šä¸ªè·¯å¾„åçš„ glob pattern; æ›´å¤šä¿¡æ¯è¯·å‚é˜…â€œ[è¿‡æ»¤å™¨æ¨¡å¼å¤‡å¿˜æ¸…å•](https://docs.github.com/cn/github-ae@latest/actions/using-workflows/workflow-syntax-for-github-actions#filter-pattern-cheat-sheet)â€ã€‚

- `jobs.<job_id>.name`

  workflow æ–‡ä»¶çš„ä¸»ä½“æ˜¯`jobs`å­—æ®µï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚

  `jobs`å­—æ®µé‡Œé¢ï¼Œéœ€è¦å†™å‡ºæ¯ä¸€é¡¹ä»»åŠ¡çš„`job_id`ï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ã€‚`job_id`é‡Œé¢çš„`name`å­—æ®µæ˜¯ä»»åŠ¡çš„è¯´æ˜ã€‚

  ```yaml
  jobs:
    my_first_job:
      name: My first job
    my_second_job:
      name: My second job
  ```

  ä¸Šé¢ä»£ç çš„`jobs`å­—æ®µåŒ…å«ä¸¤é¡¹ä»»åŠ¡ï¼Œ`job_id`åˆ†åˆ«æ˜¯`my_first_job`å’Œ`my_second_job`ã€‚

  ```yaml
  jobs:
    build:
      name: Create Release
  ```

  `job_id`: build; `name`: Create Release

- `jobs.<job_id>.needs`: `needs`å­—æ®µæŒ‡å®šå½“å‰ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå³è¿è¡Œé¡ºåºã€‚

  ```yaml
  jobs:
    job1:
    job2:
      needs: job1
    job3:
      needs: [job1, job2]
  ```

  ä¸Šé¢ä»£ç ä¸­ï¼Œ`job1`å¿…é¡»å…ˆäº`job2`å®Œæˆï¼Œè€Œ`job3`ç­‰å¾…`job1`å’Œ`job2`çš„å®Œæˆæ‰èƒ½è¿è¡Œã€‚å› æ­¤ï¼Œè¿™ä¸ª workflow çš„è¿è¡Œé¡ºåºä¾æ¬¡ä¸ºï¼š`job1`ã€`job2`ã€`job3`ã€‚

- `jobs.<job_id>.runs-on`: `runs-on`å­—æ®µæŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚å®ƒæ˜¯å¿…å¡«å­—æ®µã€‚ç›®å‰å¯ç”¨çš„è™šæ‹Ÿæœºå¦‚ä¸‹ã€‚

  ```yaml
  ubuntu-latestï¼Œubuntu-18.04æˆ–ubuntu-16.04
  windows-latestï¼Œwindows-2019æˆ–windows-2016
  macOS-latestæˆ–macOS-10.14
  ```
  
  > [About self-hosted runners - GitHub Docs](https://docs.github.com/cn/github-ae@latest/actions/hosting-your-own-runners/about-self-hosted-runners)
  
- `jobs.<job_id>.steps`: `steps`å­—æ®µæŒ‡å®šæ¯ä¸ª Job çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥æŒ‡å®šä»¥ä¸‹ä¸‰ä¸ªå­—æ®µã€‚
  - `jobs.<job_id>.steps.name`ï¼šæ­¥éª¤åç§°ã€‚
  - `jobs.<job_id>.steps.run`ï¼šè¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤æˆ–è€… actionã€‚
  - `jobs.<job_id>.steps.env`ï¼šè¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚


---

## Markdown

### æ•°å­¦å…¬å¼

- [è®¿é—®è¯¥åœ°å€](https://github.com/orsharir/github-mathjax/releases/tag/v0.2.1)
  - ä¸‹è½½`Source code(zip)`
  - è§£å‹åˆ°`C:/Users/"ä½ çš„ç”¨æˆ·å"/AppDataLocal/Google/Chrome/User Data/Default/Extensions
    - æ³¨æ„è§£å‹åçš„æ–‡ä»¶å¤¹è¡¨å±‚å’Œé‡Œä¸€å±‚éƒ½æ˜¯ä¸€æ ·çš„æ–‡ä»¶å¤¹å
      - åªè¦é‡Œå±‚çš„
  - æ‰“å¼€Chromeæ‰©å±•ç¨‹åº,æ‰“å¼€å¼€å‘è€…æ¨¡å¼
  - åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº
    - å°±æ˜¯åˆšæ‰æ”¾åˆ°ä¸Šé¢ç›®å½•é‡Œçš„æ•´ä¸ªæ–‡ä»¶å¤¹
    - ![image-20221108001752709](http://cdn.ayusummer233.top/img/202211080017729.png)  
  - æ­¤æ—¶å†æ‰“å¼€GithubæŸ¥çœ‹æºç å°±èƒ½æ˜¾ç¤ºmarkdownçš„æ•°å­¦å…¬å¼äº†
  - ![image-20221108001819213](http://cdn.ayusummer233.top/img/202211080018283.png)

## webhooks
### å€ŸåŠ©é’‰é’‰çš„Githubæœºå™¨äººå°†ä»“åº“å˜åŠ¨é€šçŸ¥åˆ°é’‰é’‰ç¾¤é‡Œ
- [å‚è€ƒé“¾æ¥](https://blog.csdn.net/q563573095/article/details/79580249)
- è¿›å…¥é’‰é’‰ç¾¤èŠ
  - ä¾§è¾¹æ ç¬¬ä¸€ä¸ªå›¾æ ‡`ç¾¤è®¾ç½®`
  - æ™ºèƒ½ç¾¤åŠ©æ‰‹
  - æ·»åŠ æœºå™¨äºº
  - æ›´å¤š`...`          
  - **Github**æœºå™¨äºº
  - æ·»åŠ 
  - å¤åˆ¶Webhooké“¾æ¥
- æ‰“å¼€Githubä»“åº“
  - Settings
  - å·¦ä¾§è¾¹æ `Webhooks`
  - `Add webhook`
  - `Payload URL`å¡«åˆšæ‰ä»é’‰é’‰Githubæœºå™¨äººé‚£é‡Œå¤åˆ¶æ¥çš„webhooké“¾æ¥
  - å…¶ä½™é€‰é¡¹è‡ªè¡Œå‘æŒ¥
    - è®°å¾—å‹¾é€‰Active
  - `Add webhook`
- pushä¸€æ¬¡æäº¤
  - è¿™æ—¶å€™å°±ä¼šæœ‰é’‰~çš„æé†’å•¦

## å¼€æºè®¸å¯è¯é€‰æ‹©
![å¼€æºè®¸å¯è¯é€‰æ‹©](http://cdn.ayusummer233.top/DailyNotes/202302191539879.png "å±å¹•æˆªå›¾.png")
> [from é˜®ä¸€å³°-2011.5.2](http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html)

---

## å¸¸è§é—®é¢˜

### .gitè¿‡å¤§
- åˆç”¨gitæ—¶æœ‰æ—¶ä¼šé”™æŠŠèµ„æºæ–‡ä»¶ä¼ åˆ°æºç ä»“åº“é‡Œå»,è¿™æ ·ä¸‹æ¥ä»“åº“æœ¬èº«å°±ä¼šå˜å¾—ç‰¹åˆ«å¤§,å³ä½¿æ˜¯åæ¥åˆ æ‰äº†èµ„æºæ–‡ä»¶ä¹Ÿä¼šå¯¼è‡´`.git`æ–‡ä»¶è¿‡å¤§ä»è€Œç›´æ¥`clone`çš„æ—¶å€™å¯èƒ½ä¼šå› ä¸ºä»“åº“è¿‡å¤§è€Œå¤±è´¥
- æäº¤æ¬¡æ•°è¿‡å¤šä¹Ÿä¼šè®©`.git`è¶Šæ¥è¶Šå¤§
- **è§£å†³æ–¹æ³•[@Ever-Lose](https://www.cnblogs.com/everlose/p/12826025.html)**:å¦‚æœç¡®å®šä¹‹å‰çš„æäº¤å¯¹ç°åœ¨å·²ç»æ²¡æœ‰ç”¨äº†,é‚£ä¹ˆåœ¨`clone`ä»“åº“çš„æ—¶å€™åœ¨æœ€ååŠ ä¸Š`--depth 1`åªå…‹éš†æœ€åä¸€æ¬¡`commit`


---

### è…¾è®¯äº‘ github è¿æ¥è¶…æ—¶é—®é¢˜

- ä½¿ç”¨è…¾è®¯äº‘åŒ—äº¬çš„è½»é‡åº”ç”¨æœåŠ¡å™¨æ¨é€æ›´æ–°æ—¶æ€»æ˜¯è¿æ¥è¶…æ—¶,æœ€ç»ˆæ‰¾åˆ°äº†æœ‰æ•ˆçš„å¦‚ä¸‹[è§£å†³æ–¹æ¡ˆ](https://cloud.tencent.com/developer/article/1704705)
- æ‰“å¼€ ipaddress.com,æŸ¥è¯¢github.comåŸŸåï¼Œè®°å½•ä¸‹å…¶å¯¹åº”çš„ip(IP Addressé¡¹å†…å®¹)
- ä¿®æ”¹å¹¶ä¿å­˜`/etc/hosts`:æœ«å°¾åŠ ä¸Š 
  ```
  æŸ¥è¯¢åˆ°çš„åŸŸå github.com
  ```



----

## æŠ¥é”™å¤„ç†

### `Failed to connect to github.com port 443 after 21063 ms: Timed out`

ç½‘ä¸å¥½, æ¢ä¸ªç»“ç‚¹

---

### `OpenSSL SSL_read: Connection was reset, errno 10054`

> [ã€Git/GitHubã€‘è§£å†³Gitä¸Šä¼ æ—¶OpenSSL SSL_read: Connection was reset, errno 10054çš„é”™è¯¯_memcpy0çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/myRealization/article/details/119737101)

æˆ‘ç¢°åˆ°çš„æƒ…å†µæ˜¯æœ¬åœ° git é…ç½®é”™äº†, å‰é˜µå­åœ¨ github ä¸Šæ›´æ”¹äº†ä¸»é‚®ç®±, ç›¸åº”çš„æœ¬åœ°é…ç½®è¦æ”¹ä¸‹é‚®ç®±

```shell
git config --global user.email "xxx"
```

---

## æœªæˆåŠŸå½’æ¡£/TODO

---

### Nginx åä»£ Github(TODO: markä¸‹, æ²¡æˆåŠŸè·‘èµ·æ¥)

> æœ¬åœ°æµ‹è¯•ç¯å¢ƒ - ubuntu 20.04 LTS
>
> [nginxæœ¬åœ°åä»£github - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/411165246)
>
> ---

#### å®‰è£… Nginx å’Œ OpenSSL

> [å¦‚ä½•åœ¨ Ubuntu 20.04 ä¸Šå®‰è£… Nginx - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/138007915)
>
> ---

```bash
sudo apt update
sudo apt install nginx
```

ä¸€æ—¦å®‰è£…å®Œæˆï¼ŒNginx å°†ä¼šè‡ªåŠ¨è¢«å¯åŠ¨ã€‚ä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥éªŒè¯å®ƒï¼š

```bash
sudo systemctl status nginx
```

åœ¨ä½ å·²ç»åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå®‰è£…å’Œè¿è¡Œäº† Nginxï¼Œä½ éœ€è¦ç¡®ä¿ä½ çš„é˜²ç«å¢™è¢«é…ç½®å¥½ï¼Œå…è®¸æµé‡é€šè¿‡ HTTP(`80`) å’Œ HTTPS(`443`) ç«¯å£ã€‚

---

- å‡è®¾ä½ æ­£åœ¨ä½¿ç”¨`UFW`,ä½ å¯ä»¥åšçš„æ˜¯å¯ç”¨ â€˜Nginx Fullâ€™ profileï¼Œå®ƒåŒ…å«äº†è¿™ä¸¤ä¸ªç«¯å£ï¼š

  ```bash
  sudo ufw allow 'Nginx Full'
  ```

  æƒ³è¦éªŒè¯çŠ¶æ€ï¼Œè¾“å…¥ï¼š

  ```bash
  sudo ufw status
  ```

- è€Œå¦‚æœä½¿ç”¨çš„æ˜¯å‚å•†çš„äº‘æœåŠ¡å™¨åˆ™éœ€è¦åœ¨æœåŠ¡å™¨çš„æ§åˆ¶é¢æ¿çš„é˜²ç«å¢™ç®¡ç†é¢æ¿å¤„æ”¾é€šç«¯å£(ä¸€èˆ¬éƒ½æ˜¯é»˜è®¤æ”¾é€šçš„)

  ![image-20221012223741767](http://cdn.ayusummer233.top/img/202210122237943.png)

---

> [2.2.1 linuxä¸‹çš„å®‰è£…_OpenSSL ä¸­æ–‡æ‰‹å†Œ](https://www.openssl.net.cn/docs/8.html)
>
> ---

æœåŠ¡å™¨é»˜è®¤å·²ç»å®‰è£…äº† OpenSSL, å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å…¶ç‰ˆæœ¬åŠä½ç½®

```bash
openssl version
whereis openssl
```

---

#### åˆ¶ä½œ CA è¯ä¹¦ä¸ç­¾åè¯ä¹¦

```bash
#### åˆ¶ä½œCAè¯ä¹¦ï¼Œå¦‚æœä½ æ²¡æœ‰CAè¯ä¹¦çš„è¯ï¼Œå¿…é¡»æ‰§è¡Œ
openssl genrsa 2048 > ca.key # è¿™æ˜¯ä½ çš„CAè¯ä¹¦ï¼Œä½ å¯ä»¥é€‰æ‹©è¦ä¸è¦ä¿¡ä»»CAè¯ä¹¦

#### CAè¯ä¹¦çš„å…¬é’¥ï¼Œç”¨äºä¿¡ä»»CAè¯ä¹¦ï¼Œè¿™æ ·ä½ å°±ä¸å¿…äº²è‡ªä¿¡ä»»æ¯ä¸€ä¸ªç”¨è¿™ä¸ªCAç­¾åçš„è¯ä¹¦äº†
export SUBJ="/C=CN/ST=ST$RANDOM/O=O$RANDOM/OU=OU$RANDOM/CN=CN$RANDOM/emailAddress=$RANDOM@localhost"
# $SUBè¿™ä¸€è¡Œçš„æ„æ€è¯·ç¨åè‡ªè¡Œé¢†æ‚Ÿ,è¿™é‡ŒRANDOMçš„ç”¨æ„æ˜¯ï¼Œé˜²æ­¢å¤§å®¶ç”Ÿæˆé‡å¤çš„CAç„¶åäº§ç”ŸæœªçŸ¥é—®é¢˜
# å¦‚æœä¸çŸ¥é“-subjæ˜¯ä»€ä¹ˆï¼Œä¸è¦æ”¹ã€‚CNå†™0CNæ˜¯ä¸ºäº†è®©è¯ä¹¦å¥½æ‰¾(ä¼šæ’åˆ°æœ€å‰é¢) 
openssl req -new -x509 -days `expr \( \`date -d 99991231 +%s\` - \`date +%s\` \) / 86400 + 1` \
  -key ca.key -out ca.pem -subj $SUBJ -extensions v3_ca
# ä¸Šé¢è¿™èŠ‚å…¶å®æ˜¯ä¸€æ•´è¡Œå‘½ä»¤(ç”¨\æ¢è¡Œï¼Œäºæ˜¯æ˜¾ç¤ºæˆäº†ä¸¤è¡Œ) 
# è¿™é‡Œ `expr \( \`date -d 99991231 +%s\` - \`date +%s\` \) / 86400 + 1` æ˜¯è®¡ç®—å½“å‰æ—¶é—´åˆ°yyyymmdd=99991231çš„æ—¥æœŸ
# æ•´æ®µå†…å®¹çš„æ„æ€æ˜¯ï¼Œè®©è¿™ä¸ªè¯ä¹¦çš„æœ‰æ•ˆæœŸåˆ°9999å¹´12æœˆ31æ—¥
# æˆ‘ä¿è¯RSAå¤±æ•ˆæ—¥æœŸä¸€å®šæ¯”è¿™ä¸ªæ—¥æœŸæ—©â€¦â€¦
# è¯·ä¸è¦å­¦ä¹ è¿™ä¸ªæŠŠç­¾åç­¾åˆ°9999å¹´çš„åä¹ æƒ¯ï¼Œæ¶‰åŠç½‘ç»œæ´»åŠ¨çš„ï¼Œæœ€å¥½æ¯å¹´æ¢ä¸€ä¸ªç­¾åã€‚
# è¿™é‡Œç­¾åˆ°9999å¹´çš„åŸå› æ˜¯â€¦â€¦è°é—²ç€æ²¡äº‹ç›‘å¬ä½ çš„nginxæ‹¿åˆ°åªæœ‰ä½ ç”¨çš„è¯ä¹¦ä¹‹åä¼šå¯¹ä½ å¼€å±•ä¸­é—´äººæ”»å‡»å‘¢ï¼Ÿ

#### ç”Ÿæˆnginxéœ€è¦çš„è¯ä¹¦
openssl genrsa 1024 > nginx.key # å¯†é’¥
openssl req -new -nodes -key nginx.key -out nginx.csr -subj $SUBJ

#### CAç­¾å
openssl x509 -req -days `expr \( \`date -d 99991231 +%s\` - \`date +%s\` \) / 86400 + 1` \
 -in nginx.csr -out nginx.pem -CA ca.pem -CAkey ca.key -set_serial 0 -extensions CUSTOM_STRING_LIKE_SAN_KU\
 -extfile <( cat << EOF
[CUSTOM_STRING_LIKE_SAN_KU]
subjectAltName=IP:127.0.0.1, IP: ::1 ,DNS:github.com, DNS:*.github.com, DNS:githubusercontent.com, DNS:*.githubusercontent.com
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
EOF
)

# è¿™é‡Œï¼Œä½¿ç”¨-extfileå¯¹é…ç½®æ–‡ä»¶åšä¸´æ—¶ä¿®æ”¹
# è¿™æ ·å°±å®Œæˆäº†ç­¾åå·¥ä½œ
# äº‹å®ä¸Šï¼Œè¿™é‡Œå¯ä»¥å¤šå†™å‡ ä¸ªsubjectAltNameï¼Œæ¯”å¦‚subjectAltName=IP:127.0.0.1, IP: ::1 ,DNS:ads-pixiv.net, DNS:*.ads-pixiv.net, DNS:akamaihd.net, DNS:*.akamaihd.net, DNS:arkoselabs.com, DNS:*.arkoselabs.com, DNS:artstation.com, DNS:*.artstation.com, DNS:discordapp.com, DNS:*.discordapp.com, DNS:discordapp.net, DNS:*.discordapp.net, DNS:discord.com, DNS:*.discord.com, DNS:ext-twitch.tv, DNS:*.ext-twitch.tv, DNS:github.com, DNS:*.github.com, DNS:githubusercontent.com, DNS:*.githubusercontent.com, DNS:google.com, DNS:*.google.com, DNS:hcaptcha.com, DNS:*.hcaptcha.com, DNS:pinimg.com, DNS:*.pinimg.com, DNS:pinterest.com, DNS:*.pinterest.com, DNS:pixiv.net, DNS:*.pixiv.net, DNS:pixivsketch.net, DNS:*.pixivsketch.net, DNS:pximg.net, DNS:*.pximg.net, DNS:steam-chat.com, DNS:*.steam-chat.com, DNS:steamcommunity.com, DNS:*.steamcommunity.com, DNS:steampowered.com, DNS:*.steampowered.com, DNS:steamstatic.com, DNS:*.steamstatic.com, DNS:twitch.tv, DNS:*.twitch.tv, DNS:ubi.com, DNS:*.ubi.com, DNS:v2ex.com, DNS:*.v2ex.com
# å¤šå†™å‡ ä¸ªçš„å¥½å¤„å°±ä¸è¯´äº†ï¼Œè¯´å¤šäº†å¯èƒ½çŠ¯æ³•[ç‹—å¤´]

# openssl x509 -noout -text -in nginx.pem
# å¦‚æœä½ éœ€è¦æ£€æŸ¥ä½ ç”Ÿæˆçš„pemï¼Œæˆ–è€…
# ( openssl x509 -noout -text -in nginx.pem && cat nginx.pem ) > nginx.crt
# ä¸Šé¢è¿™å¥æ²¡æµ‹è¯•ï¼Œä¹Ÿä¸æ˜¯æœ¬è®²çš„å†…å®¹â€¦â€¦
```

---

#### å®‰è£…è¯ä¹¦

> [å¦‚ä½•å°†è¯ä¹¦é¢å‘æœºæ„(CA) æ·»åŠ åˆ°Ubuntuï¼Ÿ (qastack.cn)](https://qastack.cn/superuser/437330/how-do-you-add-a-certificate-authority-ca-to-ubuntu)
>
> [Ubuntuå®‰è£…ç³»ç»Ÿæ ¹è¯ä¹¦_å­™æµ·å³°VIPçš„åšå®¢-CSDNåšå®¢_ubuntuå®‰è£…æ ¹è¯ä¹¦](https://blog.csdn.net/shf4715/article/details/52804689)
>
> ---

```bash
cp ca.pem /usr/local/share/ca-certificates/ca.crt
update-ca-certificates
mkdir /etc/nginx/ca && sudo cp nginx.pem nginx.key /etc/nginx/ca
```

> ![image-20221012231958789](http://cdn.ayusummer233.top/img/202210122319905.png)

---

#### é…ç½® Nginx









---
